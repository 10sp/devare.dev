import{r as g,k as e}from"./core-BQ9oUMX2.js";import{ax as S,ay as y,az as F,aA as B,aB as E,aC as O,aD as L,aE as x,a3 as f,h as N,u as M,aF as w,aG as R,aH as T,aI as A,aJ as D,a0 as H,aK as U}from"./index-7MWe1d52.js";import{G as I,c as P}from"./ui-BLpkT4OS.js";import{f as G,C as k}from"./ChipsSet-F0ltKDXB.js";import"./utils-ZVqEcU1h.js";const _=({onFinish:c,onSkip:o,skipSteps:u=!1,steps:n})=>{const[s,i]=g.useState(0),[t,p]=g.useState(),[a,b]=g.useState(n.reduce((l,r,m)=>(r.status&&(l[m]=r.status),l),{0:"current"})),v=()=>{s<n.length-1?(b(l=>(l[s]="completed",l[s+1]="current",l)),i(l=>l+1)):c(t)},d=()=>{s>0?i(l=>l-1):s===0&&o()},h=(l,r)=>{l.preventDefault(),i(r)},C=()=>{const l={moveToNext:v,moveToPrevious:d,tabsData:t,setTabsData:p};return g.createElement(n[s].element,l)};return e.jsxs("div",{children:[e.jsx("nav",{className:"my-8","aria-label":"Progress",children:e.jsx("ol",{role:"presentation",className:"steps",children:n.map((l,r)=>e.jsx("li",{className:"wrapper",children:a[r]==="completed"||a[r]==="current"?e.jsxs("button",{onClick:m=>h(m,r),className:"step active",children:[e.jsx("span",{className:"stepBadge",children:r+1}),e.jsx("div",{className:"stepLine",children:r!==n.length-1&&e.jsx("div",{className:"progressLine"})})]}):e.jsxs("button",{onClick:m=>{m.preventDefault(),u&&h(m,r)},className:"step",children:[e.jsx("span",{className:"stepBadge",children:r+1}),e.jsx("div",{className:"stepLine",children:r!==n.length-1&&e.jsx("div",{className:"progressLine"})})]})},r))})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg px-8 py-4",children:C()})]})};function z(c){return I({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(c)}const j=[{title:"Front-End Engineer",icon:S,sources:["devto","github","medium","hashnode"],tags:["javascript","typescript"]},{title:"Back-End Engineer",icon:y,sources:["devto","github","medium","hashnode"],tags:["go","php","ruby","rust","r"]},{title:"Full Stack Engineer",icon:G,sources:["devto","github","medium","hashnode"],tags:["javascript","typescript","php","ruby","rust"]},{title:"Mobile",icon:F,sources:["reddit","github","medium","hashnode"],tags:["android","kotlin","java","swift","objective-c"]},{title:"Devops Engineer",icon:B,sources:["freecodecamp","github","reddit","devto"],tags:["devops","bash"]},{title:"Data Engineer",icon:E,sources:["freecodecamp","github","reddit","devto"],tags:["data-science","python","artificial-intelligence","machine-learning"]},{title:"Security Engineer",icon:O,sources:["freecodecamp","github","reddit","devto"],tags:["c++","bash","python"]},{title:"ML Engineer",icon:L,sources:["github","freecodecamp","hackernews","devto"],tags:["machine-learning","artificial-intelligence","python"]},{title:"Other",icon:z,sources:["hackernews","github","producthunt","devto"],tags:[]}],V=({moveToNext:c,moveToPrevious:o,setTabsData:u,tabsData:n})=>{const[s,i]=g.useState(n||j[0]),t=a=>{i(a)},p=()=>{s!==void 0&&(u(s),c&&c())};return e.jsxs("div",{children:[e.jsxs("div",{className:"tabHeader",children:[e.jsx("h1",{className:"tabTitle",children:"Hi, ðŸ‘‹ Welcome to devare"}),e.jsx("p",{className:"tabBody",children:"Let's customize your devare experience!"})]}),e.jsx("div",{className:"occupations",children:j.map(a=>e.jsxs("button",{onClick:()=>t(a),className:P("occupation",(s==null?void 0:s.title)===a.title&&"active"),children:[e.jsx("span",{children:e.jsx(a.icon,{className:"occupationIcon"})}),e.jsx("h3",{className:"occupationTitle",children:a.title})]},a.title))}),e.jsxs("div",{className:"tabFooter",children:[e.jsx("button",{onClick:()=>o&&o(),children:"Skip"}),e.jsxs("button",{className:"positiveButton",onClick:()=>p(),children:[e.jsx(x,{})," Next"]})]})]})},W=({moveToPrevious:c,moveToNext:o,setTabsData:u,tabsData:n})=>{const{supportedTags:s}=f(),i=s.map(t=>({label:t.label,value:t.value})).sort((t,p)=>t.label>p.label?1:-1);return e.jsxs("div",{children:[e.jsxs("div",{className:"tabHeader",children:[e.jsx("h1",{className:"tabTitle",children:"ðŸ¦¾ Select your languages & topics"}),e.jsx("p",{className:"tabBody",children:"Select the languages you're interested in following."})]}),e.jsx("div",{className:"tabContent sources",children:e.jsx(k,{canSelectMultiple:!0,options:i,defaultValues:n.tags,onChange:(t,p)=>{u({...n,tags:p.map(a=>a.value)})}})}),e.jsxs("div",{className:"tabFooter",children:[e.jsx("button",{onClick:()=>c&&c(),children:"Back"}),e.jsx("button",{className:"positiveButton",onClick:()=>o&&o(),children:"Finish"})]})]})},q=({moveToPrevious:c,moveToNext:o,setTabsData:u,tabsData:n})=>{const s=N.map(i=>({label:i.label,value:i.value,icon:i.icon})).sort((i,t)=>i.label>t.label?1:-1);return e.jsxs("div",{children:[e.jsxs("div",{className:"tabHeader",children:[e.jsx("h1",{className:"tabTitle",children:"ðŸ“™ Pick your sources"}),e.jsx("p",{className:"tabBody",children:"Your feed will be tailored by your followed sources"})]}),e.jsx("div",{className:"tabContent sources",children:e.jsx(k,{canSelectMultiple:!0,options:s,defaultValues:n.sources,onChange:(i,t)=>{u({...n,sources:t.map(p=>p.value)})}})}),e.jsxs("div",{className:"tabFooter",children:[e.jsx("button",{onClick:()=>c&&c(),children:"Back"}),e.jsxs("button",{className:"positiveButton",onClick:()=>o&&o(),children:[e.jsx(x,{})," Next"]})]})]})},Z=({showOnboarding:c,setShowOnboarding:o})=>{const{markOnboardingAsCompleted:u,setTags:n,setCards:s}=M(),{supportedTags:i}=f();return g.useEffect(()=>{w()},[]),e.jsx(R,{isOpen:c,ariaHideApp:!1,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,shouldFocusAfterRender:!1,onRequestClose:()=>o(!1),contentLabel:"Onboarding",className:"Modal scrollable",style:{overlay:{zIndex:3}},overlayClassName:"Overlay",children:e.jsx("div",{className:"onboardingModal",children:e.jsx(_,{steps:[{title:"Hello",element:V},{title:"Sources",element:q},{title:"Languages",element:W}],onSkip:()=>{U(),u(null),o(!1)},onFinish:t=>{if(T(),t){const{icon:p,...a}=t;u(a),A(a.title);const b=a.tags.map(d=>i.find(h=>h.value===d)).filter(Boolean)||[];n(b),D(b.map(d=>d.value));const v=a.sources.map(d=>N.find(h=>h.value===d)).filter(Boolean).map((d,h)=>({id:h,name:(d==null?void 0:d.value)||"",type:"supported"}))||[];s(v),H(v.map(d=>d.name))}o(!1)}})})})};export{Z as OnboardingModal};
//# sourceMappingURL=index-BQjjDyAc.js.map
