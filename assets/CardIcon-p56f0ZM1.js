import{b as l,f as u}from"./utils-ZVqEcU1h.js";import{o as c,a6 as o,C as m,j as i,a8 as d,$ as x}from"./index-7MWe1d52.js";import{u as p,k as e}from"./core-BQ9oUMX2.js";const I=async r=>c.get("/engine/rss_info/",{params:{url:r}}),g=async r=>{var n;const s=await c.get(`/engine/remote_feed?feedUrl=${r}`);try{const t=l(s);return(n=t==null?void 0:t.items)==null?void 0:n.map(a=>({id:a.id,title:a.title,url:a.link,published_at:+(a.pubDate||new Date),source:"customFeed"}))}catch{}return[]},A=({feedUrl:r,config:s})=>p({...s,queryKey:[r],queryFn:()=>g(r)}),F=r=>{const{item:s,index:n,selectedTag:t,analyticsTag:a}=r;return s?e.jsx(o,{source:a,sourceType:"rss",index:n,item:s,cardItem:e.jsxs(e.Fragment,{children:[e.jsxs(m,{link:s.url,analyticsAttributes:{[i.TRIGERED_FROM]:"card",[i.TITLE]:s.title,[i.LINK]:s.url,[i.SOURCE]:a,[i.LANGUAGE]:t==null?void 0:t.value},children:[s.image_url&&e.jsx("img",{className:"rssImage",src:s.image_url,alt:s.title}),e.jsx("div",{className:"subTitle",children:s.title})]}),e.jsx(e.Fragment,{children:e.jsx("p",{className:"rowDescription",children:e.jsxs("span",{className:"rowItem",children:[e.jsx(d,{className:"rowTitleIcon"}),u(new Date(s.published_at))]})})})]})},n):null},N=r=>{const{url:s}=r;return s?e.jsx("img",{src:s,alt:""}):e.jsx(x,{className:"rss"})};export{F as A,N as C,I as g,A as u};
//# sourceMappingURL=CardIcon-p56f0ZM1.js.map
