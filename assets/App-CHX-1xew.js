const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BQjjDyAc.js","assets/core-BQ9oUMX2.js","assets/index-7MWe1d52.js","assets/utils-ZVqEcU1h.js","assets/ui-BLpkT4OS.js","assets/ChipsSet-F0ltKDXB.js","assets/index-BXmWFGie.js","assets/CardIcon-p56f0ZM1.js","assets/index-Ch3uFP3w.js","assets/CustomContentRssCard-Bpq4ZfYB.js"])))=>i.map(i=>d[i]);
import{u as E,A as _,H as w,S as N,B as b,s as j,a as A,_ as y,t as O,i as R,l as I}from"./index-7MWe1d52.js";import{k as e,r as o}from"./core-BQ9oUMX2.js";import{c as k}from"./ui-BLpkT4OS.js";import{A as P}from"./DNDLayout-quTYwcRd.js";import"./utils-ZVqEcU1h.js";const T=()=>{const{promptEngine:t,promptEngines:r}=E(),n=[..._,...r],i=n.find(l=>l.label.toLocaleLowerCase()===t.toLocaleLowerCase())||n[0];return e.jsxs("div",{className:"searchBarWithLogo",children:[i.default===!1?e.jsx("div",{className:"searchEngineLogo",children:e.jsx(w,{})}):e.jsx("img",{className:"searchEngineLogo "+i.className,src:`/searchengine_logos/${i.label.toLowerCase()}_logo.svg`}),e.jsx(N,{})]})},M=()=>{const t=o.useRef(null);o.useLayoutEffect(()=>{t.current=document.querySelector(".AppContent")},[]);const r=()=>{var n;t.current&&((n=t.current)==null||n.scrollIntoView({behavior:"smooth"}))};return e.jsxs("section",{className:"DNDContent",children:[e.jsx("div",{className:"searchWidget",children:e.jsx(T,{})}),e.jsxs("button",{className:"scrollToCardsLayout",onClick:()=>r(),children:["Scroll for Dev News",e.jsx(b,{className:"icon"})]})]})},{OnboardingModal:B}=I(()=>y(()=>import("./index-BQjjDyAc.js"),__vite__mapDeps([0,1,2,3,4,5])),"OnboardingModal"),V=t=>{t.forEach(r=>{r.isIntersecting?document.documentElement.classList.add("dndState"):document.documentElement.classList.remove("dndState")})},q=()=>{const[t,r]=o.useState(!0),{onboardingCompleted:n,maxVisibleCards:i,isDNDModeActive:l,layout:C,DNDDuration:m,setDNDDuration:g,isOrganizeMode:L,userCustomCards:x,setUserCustomCards:S,cards:h,setCards:v}=E();o.useLayoutEffect(()=>{document.documentElement.style.setProperty("--max-visible-cards",i.toString())},[i]),o.useEffect(()=>{document.body.classList.remove("preload"),j(),A()},[]),o.useEffect(()=>{typeof chrome<"u"&&chrome.runtime&&chrome.runtime.sendMessage({type:"GET_RSS_FEEDS_TO_ADD"}).then(s=>{s&&s.feeds&&s.feeds.length>0&&D(s.feeds)}).catch(s=>{console.log("Not running in extension context or no feeds to add")})},[]);const D=async s=>{try{const{getRssUrlFeed:d}=await y(async()=>{const{getRssUrlFeed:a}=await import("./index-BXmWFGie.js");return{getRssUrlFeed:a}},__vite__mapDeps([6,2,1,3,4,7,5,8,9])),u=[],f=[];for(const a of s)try{const c=await d(a.url),p={feedUrl:a.url,label:c.title||a.title,value:c.title.toLowerCase().replace(/\s+/g,"-")||`rss-${Date.now()}`,analyticsTag:c.title.toLowerCase().replace(/\s+/g,"-")||`rss-${Date.now()}`,link:c.link||a.url,type:"rss",icon:c.icon||"ðŸ“°"};u.push(p),f.push({id:h.length+f.length,name:p.value,type:"rss"})}catch(c){console.error(`Error processing feed ${a.url}:`,c)}u.length>0&&(S([...x,...u]),v([...h,...f]),alert(`Successfully added ${u.length} RSS feed(s)!`))}catch(d){console.error("Error adding RSS feeds:",d)}};return o.useEffect(()=>{O("home",l()),!l()&&m!=="never"&&g("never")},[m,l,g]),o.useLayoutEffect(()=>{let s=document.querySelector(".DNDContent"),d=new IntersectionObserver(V,{threshold:.1});return s?d.observe(s):document.documentElement.classList.remove("dndState"),()=>{d.disconnect()}},[m]),e.jsxs(e.Fragment,{children:[!n&&R()==="extension"&&e.jsx(B,{showOnboarding:t,setShowOnboarding:r}),e.jsxs("div",{className:k("layoutLayers hideScrollBar",C==="cards"?"cardsLayout":"gridLayout",L&&"organizeMode"),children:[l()&&e.jsx(M,{}),e.jsx(P,{})]})]})};export{q as App};
//# sourceMappingURL=App-CHX-1xew.js.map
