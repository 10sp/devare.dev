{"version":3,"file":"utils-ZVqEcU1h.js","sources":["../../node_modules/tslib/tslib.es6.mjs","../../node_modules/entities/lib/esm/generated/decode-data-html.js","../../node_modules/entities/lib/esm/generated/decode-data-xml.js","../../node_modules/entities/lib/esm/decode_codepoint.js","../../node_modules/entities/lib/esm/decode.js","../../node_modules/htmlparser2/lib/esm/Tokenizer.js","../../node_modules/htmlparser2/lib/esm/Parser.js","../../node_modules/domelementtype/lib/esm/index.js","../../node_modules/domhandler/lib/esm/node.js","../../node_modules/domhandler/lib/esm/index.js","../../node_modules/domutils/lib/esm/stringify.js","../../node_modules/domutils/lib/esm/querying.js","../../node_modules/domutils/lib/esm/legacy.js","../../node_modules/domutils/lib/esm/feeds.js","../../node_modules/htmlparser2/lib/esm/index.js","../../node_modules/@amplitude/analytics-types/lib/esm/event.js","../../node_modules/@amplitude/analytics-types/lib/esm/logger.js","../../node_modules/@amplitude/analytics-types/lib/esm/plugin.js","../../node_modules/@amplitude/analytics-types/lib/esm/server-zone.js","../../node_modules/@amplitude/analytics-types/lib/esm/status.js","../../node_modules/@amplitude/analytics-types/lib/esm/transport.js","../../node_modules/@amplitude/analytics-core/lib/esm/constants.js","../../node_modules/@amplitude/analytics-core/lib/esm/utils/valid-properties.js","../../node_modules/@amplitude/analytics-core/lib/esm/identify.js","../../node_modules/@amplitude/analytics-core/lib/esm/utils/event-builder.js","../../node_modules/@amplitude/analytics-core/lib/esm/utils/result-builder.js","../../node_modules/@amplitude/analytics-core/lib/esm/timeline.js","../../node_modules/@amplitude/analytics-core/lib/esm/messages.js","../../node_modules/@amplitude/analytics-core/lib/esm/utils/return-wrapper.js","../../node_modules/@amplitude/analytics-core/lib/esm/core-client.js","../../node_modules/@amplitude/analytics-core/lib/esm/revenue.js","../../node_modules/@amplitude/analytics-core/lib/esm/utils/chunk.js","../../node_modules/@amplitude/analytics-core/lib/esm/logger.js","../../node_modules/@amplitude/analytics-core/lib/esm/config.js","../../node_modules/@amplitude/analytics-core/lib/esm/plugins/destination.js","../../node_modules/@amplitude/analytics-core/lib/esm/utils/debug.js","../../node_modules/@amplitude/analytics-core/lib/esm/utils/uuid.js","../../node_modules/@amplitude/analytics-core/lib/esm/storage/memory.js","../../node_modules/@amplitude/analytics-core/lib/esm/transports/base.js","../../node_modules/@amplitude/analytics-connector/dist/analytics-connector.esm.js","../../node_modules/@amplitude/analytics-client-common/lib/esm/analytics-connector.js","../../node_modules/@amplitude/analytics-client-common/lib/esm/global-scope.js","../../node_modules/@amplitude/analytics-client-common/lib/esm/query-params.js","../../node_modules/@amplitude/analytics-client-common/lib/esm/attribution/constants.js","../../node_modules/@amplitude/analytics-client-common/lib/esm/attribution/campaign-parser.js","../../node_modules/@amplitude/analytics-client-common/lib/esm/cookie-name.js","../../node_modules/@amplitude/analytics-client-common/lib/esm/default-tracking.js","../../node_modules/@amplitude/analytics-client-common/lib/esm/language.js","../../node_modules/@amplitude/analytics-client-common/lib/esm/plugins/identity.js","../../node_modules/@amplitude/analytics-client-common/lib/esm/storage/cookie.js","../../node_modules/@amplitude/analytics-client-common/lib/esm/transports/fetch.js","../../node_modules/@amplitude/plugin-page-view-tracking-browser/lib/esm/utils.js","../../node_modules/@amplitude/plugin-page-view-tracking-browser/lib/esm/page-view-tracking.js","../../node_modules/@amplitude/plugin-web-attribution-browser/lib/esm/helpers.js","../../node_modules/@amplitude/plugin-web-attribution-browser/lib/esm/web-attribution.js","../../node_modules/@amplitude/analytics-browser/lib/esm/storage/local-storage.js","../../node_modules/@amplitude/analytics-browser/lib/esm/transports/xhr.js","../../node_modules/@amplitude/analytics-browser/lib/esm/transports/send-beacon.js","../../node_modules/@amplitude/analytics-browser/lib/esm/version.js","../../node_modules/@amplitude/analytics-browser/lib/esm/config.js","../../node_modules/@amplitude/analytics-browser/lib/esm/constants.js","../../node_modules/@amplitude/analytics-browser/lib/esm/cookie-migration/index.js","../../node_modules/@amplitude/ua-parser-js/src/ua-parser.js","../../node_modules/@amplitude/analytics-browser/lib/esm/plugins/context.js","../../node_modules/@amplitude/analytics-browser/lib/esm/plugins/default-page-view-event-enrichment.js","../../node_modules/@amplitude/analytics-browser/lib/esm/plugins/file-download-tracking.js","../../node_modules/@amplitude/analytics-browser/lib/esm/plugins/form-interaction-tracking.js","../../node_modules/@amplitude/analytics-browser/lib/esm/utils/snippet-helper.js","../../node_modules/@amplitude/analytics-browser/lib/esm/browser-client.js","../../node_modules/@amplitude/analytics-browser/lib/esm/browser-client-factory.js","../../node_modules/@amplitude/analytics-browser/lib/esm/index.js","../../node_modules/country-emoji/dist/lib.js","../../node_modules/country-emoji/dist/main.js","../../node_modules/timeago.js/esm/lang/en_US.js","../../node_modules/timeago.js/esm/lang/zh_CN.js","../../node_modules/timeago.js/esm/register.js","../../node_modules/timeago.js/esm/utils/date.js","../../node_modules/timeago.js/esm/format.js","../../node_modules/timeago.js/esm/index.js","../../node_modules/dompurify/dist/purify.es.mjs"],"sourcesContent":["/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nvar ownKeys = function(o) {\n  ownKeys = Object.getOwnPropertyNames || function (o) {\n    var ar = [];\n    for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n    return ar;\n  };\n  return ownKeys(o);\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n","// Generated using scripts/write-decode-map.ts\nexport default new Uint16Array(\n// prettier-ignore\n\"\\u1d41<\\xd5\\u0131\\u028a\\u049d\\u057b\\u05d0\\u0675\\u06de\\u07a2\\u07d6\\u080f\\u0a4a\\u0a91\\u0da1\\u0e6d\\u0f09\\u0f26\\u10ca\\u1228\\u12e1\\u1415\\u149d\\u14c3\\u14df\\u1525\\0\\0\\0\\0\\0\\0\\u156b\\u16cd\\u198d\\u1c12\\u1ddd\\u1f7e\\u2060\\u21b0\\u228d\\u23c0\\u23fb\\u2442\\u2824\\u2912\\u2d08\\u2e48\\u2fce\\u3016\\u32ba\\u3639\\u37ac\\u38fe\\u3a28\\u3a71\\u3ae0\\u3b2e\\u0800EMabcfglmnoprstu\\\\bfms\\x7f\\x84\\x8b\\x90\\x95\\x98\\xa6\\xb3\\xb9\\xc8\\xcflig\\u803b\\xc6\\u40c6P\\u803b&\\u4026cute\\u803b\\xc1\\u40c1reve;\\u4102\\u0100iyx}rc\\u803b\\xc2\\u40c2;\\u4410r;\\uc000\\ud835\\udd04rave\\u803b\\xc0\\u40c0pha;\\u4391acr;\\u4100d;\\u6a53\\u0100gp\\x9d\\xa1on;\\u4104f;\\uc000\\ud835\\udd38plyFunction;\\u6061ing\\u803b\\xc5\\u40c5\\u0100cs\\xbe\\xc3r;\\uc000\\ud835\\udc9cign;\\u6254ilde\\u803b\\xc3\\u40c3ml\\u803b\\xc4\\u40c4\\u0400aceforsu\\xe5\\xfb\\xfe\\u0117\\u011c\\u0122\\u0127\\u012a\\u0100cr\\xea\\xf2kslash;\\u6216\\u0176\\xf6\\xf8;\\u6ae7ed;\\u6306y;\\u4411\\u0180crt\\u0105\\u010b\\u0114ause;\\u6235noullis;\\u612ca;\\u4392r;\\uc000\\ud835\\udd05pf;\\uc000\\ud835\\udd39eve;\\u42d8c\\xf2\\u0113mpeq;\\u624e\\u0700HOacdefhilorsu\\u014d\\u0151\\u0156\\u0180\\u019e\\u01a2\\u01b5\\u01b7\\u01ba\\u01dc\\u0215\\u0273\\u0278\\u027ecy;\\u4427PY\\u803b\\xa9\\u40a9\\u0180cpy\\u015d\\u0162\\u017aute;\\u4106\\u0100;i\\u0167\\u0168\\u62d2talDifferentialD;\\u6145leys;\\u612d\\u0200aeio\\u0189\\u018e\\u0194\\u0198ron;\\u410cdil\\u803b\\xc7\\u40c7rc;\\u4108nint;\\u6230ot;\\u410a\\u0100dn\\u01a7\\u01adilla;\\u40b8terDot;\\u40b7\\xf2\\u017fi;\\u43a7rcle\\u0200DMPT\\u01c7\\u01cb\\u01d1\\u01d6ot;\\u6299inus;\\u6296lus;\\u6295imes;\\u6297o\\u0100cs\\u01e2\\u01f8kwiseContourIntegral;\\u6232eCurly\\u0100DQ\\u0203\\u020foubleQuote;\\u601duote;\\u6019\\u0200lnpu\\u021e\\u0228\\u0247\\u0255on\\u0100;e\\u0225\\u0226\\u6237;\\u6a74\\u0180git\\u022f\\u0236\\u023aruent;\\u6261nt;\\u622fourIntegral;\\u622e\\u0100fr\\u024c\\u024e;\\u6102oduct;\\u6210nterClockwiseContourIntegral;\\u6233oss;\\u6a2fcr;\\uc000\\ud835\\udc9ep\\u0100;C\\u0284\\u0285\\u62d3ap;\\u624d\\u0580DJSZacefios\\u02a0\\u02ac\\u02b0\\u02b4\\u02b8\\u02cb\\u02d7\\u02e1\\u02e6\\u0333\\u048d\\u0100;o\\u0179\\u02a5trahd;\\u6911cy;\\u4402cy;\\u4405cy;\\u440f\\u0180grs\\u02bf\\u02c4\\u02c7ger;\\u6021r;\\u61a1hv;\\u6ae4\\u0100ay\\u02d0\\u02d5ron;\\u410e;\\u4414l\\u0100;t\\u02dd\\u02de\\u6207a;\\u4394r;\\uc000\\ud835\\udd07\\u0100af\\u02eb\\u0327\\u0100cm\\u02f0\\u0322ritical\\u0200ADGT\\u0300\\u0306\\u0316\\u031ccute;\\u40b4o\\u0174\\u030b\\u030d;\\u42d9bleAcute;\\u42ddrave;\\u4060ilde;\\u42dcond;\\u62c4ferentialD;\\u6146\\u0470\\u033d\\0\\0\\0\\u0342\\u0354\\0\\u0405f;\\uc000\\ud835\\udd3b\\u0180;DE\\u0348\\u0349\\u034d\\u40a8ot;\\u60dcqual;\\u6250ble\\u0300CDLRUV\\u0363\\u0372\\u0382\\u03cf\\u03e2\\u03f8ontourIntegra\\xec\\u0239o\\u0274\\u0379\\0\\0\\u037b\\xbb\\u0349nArrow;\\u61d3\\u0100eo\\u0387\\u03a4ft\\u0180ART\\u0390\\u0396\\u03a1rrow;\\u61d0ightArrow;\\u61d4e\\xe5\\u02cang\\u0100LR\\u03ab\\u03c4eft\\u0100AR\\u03b3\\u03b9rrow;\\u67f8ightArrow;\\u67faightArrow;\\u67f9ight\\u0100AT\\u03d8\\u03derrow;\\u61d2ee;\\u62a8p\\u0241\\u03e9\\0\\0\\u03efrrow;\\u61d1ownArrow;\\u61d5erticalBar;\\u6225n\\u0300ABLRTa\\u0412\\u042a\\u0430\\u045e\\u047f\\u037crrow\\u0180;BU\\u041d\\u041e\\u0422\\u6193ar;\\u6913pArrow;\\u61f5reve;\\u4311eft\\u02d2\\u043a\\0\\u0446\\0\\u0450ightVector;\\u6950eeVector;\\u695eector\\u0100;B\\u0459\\u045a\\u61bdar;\\u6956ight\\u01d4\\u0467\\0\\u0471eeVector;\\u695fector\\u0100;B\\u047a\\u047b\\u61c1ar;\\u6957ee\\u0100;A\\u0486\\u0487\\u62a4rrow;\\u61a7\\u0100ct\\u0492\\u0497r;\\uc000\\ud835\\udc9frok;\\u4110\\u0800NTacdfglmopqstux\\u04bd\\u04c0\\u04c4\\u04cb\\u04de\\u04e2\\u04e7\\u04ee\\u04f5\\u0521\\u052f\\u0536\\u0552\\u055d\\u0560\\u0565G;\\u414aH\\u803b\\xd0\\u40d0cute\\u803b\\xc9\\u40c9\\u0180aiy\\u04d2\\u04d7\\u04dcron;\\u411arc\\u803b\\xca\\u40ca;\\u442dot;\\u4116r;\\uc000\\ud835\\udd08rave\\u803b\\xc8\\u40c8ement;\\u6208\\u0100ap\\u04fa\\u04fecr;\\u4112ty\\u0253\\u0506\\0\\0\\u0512mallSquare;\\u65fberySmallSquare;\\u65ab\\u0100gp\\u0526\\u052aon;\\u4118f;\\uc000\\ud835\\udd3csilon;\\u4395u\\u0100ai\\u053c\\u0549l\\u0100;T\\u0542\\u0543\\u6a75ilde;\\u6242librium;\\u61cc\\u0100ci\\u0557\\u055ar;\\u6130m;\\u6a73a;\\u4397ml\\u803b\\xcb\\u40cb\\u0100ip\\u056a\\u056fsts;\\u6203onentialE;\\u6147\\u0280cfios\\u0585\\u0588\\u058d\\u05b2\\u05ccy;\\u4424r;\\uc000\\ud835\\udd09lled\\u0253\\u0597\\0\\0\\u05a3mallSquare;\\u65fcerySmallSquare;\\u65aa\\u0370\\u05ba\\0\\u05bf\\0\\0\\u05c4f;\\uc000\\ud835\\udd3dAll;\\u6200riertrf;\\u6131c\\xf2\\u05cb\\u0600JTabcdfgorst\\u05e8\\u05ec\\u05ef\\u05fa\\u0600\\u0612\\u0616\\u061b\\u061d\\u0623\\u066c\\u0672cy;\\u4403\\u803b>\\u403emma\\u0100;d\\u05f7\\u05f8\\u4393;\\u43dcreve;\\u411e\\u0180eiy\\u0607\\u060c\\u0610dil;\\u4122rc;\\u411c;\\u4413ot;\\u4120r;\\uc000\\ud835\\udd0a;\\u62d9pf;\\uc000\\ud835\\udd3eeater\\u0300EFGLST\\u0635\\u0644\\u064e\\u0656\\u065b\\u0666qual\\u0100;L\\u063e\\u063f\\u6265ess;\\u62dbullEqual;\\u6267reater;\\u6aa2ess;\\u6277lantEqual;\\u6a7eilde;\\u6273cr;\\uc000\\ud835\\udca2;\\u626b\\u0400Aacfiosu\\u0685\\u068b\\u0696\\u069b\\u069e\\u06aa\\u06be\\u06caRDcy;\\u442a\\u0100ct\\u0690\\u0694ek;\\u42c7;\\u405eirc;\\u4124r;\\u610clbertSpace;\\u610b\\u01f0\\u06af\\0\\u06b2f;\\u610dizontalLine;\\u6500\\u0100ct\\u06c3\\u06c5\\xf2\\u06a9rok;\\u4126mp\\u0144\\u06d0\\u06d8ownHum\\xf0\\u012fqual;\\u624f\\u0700EJOacdfgmnostu\\u06fa\\u06fe\\u0703\\u0707\\u070e\\u071a\\u071e\\u0721\\u0728\\u0744\\u0778\\u078b\\u078f\\u0795cy;\\u4415lig;\\u4132cy;\\u4401cute\\u803b\\xcd\\u40cd\\u0100iy\\u0713\\u0718rc\\u803b\\xce\\u40ce;\\u4418ot;\\u4130r;\\u6111rave\\u803b\\xcc\\u40cc\\u0180;ap\\u0720\\u072f\\u073f\\u0100cg\\u0734\\u0737r;\\u412ainaryI;\\u6148lie\\xf3\\u03dd\\u01f4\\u0749\\0\\u0762\\u0100;e\\u074d\\u074e\\u622c\\u0100gr\\u0753\\u0758ral;\\u622bsection;\\u62c2isible\\u0100CT\\u076c\\u0772omma;\\u6063imes;\\u6062\\u0180gpt\\u077f\\u0783\\u0788on;\\u412ef;\\uc000\\ud835\\udd40a;\\u4399cr;\\u6110ilde;\\u4128\\u01eb\\u079a\\0\\u079ecy;\\u4406l\\u803b\\xcf\\u40cf\\u0280cfosu\\u07ac\\u07b7\\u07bc\\u07c2\\u07d0\\u0100iy\\u07b1\\u07b5rc;\\u4134;\\u4419r;\\uc000\\ud835\\udd0dpf;\\uc000\\ud835\\udd41\\u01e3\\u07c7\\0\\u07ccr;\\uc000\\ud835\\udca5rcy;\\u4408kcy;\\u4404\\u0380HJacfos\\u07e4\\u07e8\\u07ec\\u07f1\\u07fd\\u0802\\u0808cy;\\u4425cy;\\u440cppa;\\u439a\\u0100ey\\u07f6\\u07fbdil;\\u4136;\\u441ar;\\uc000\\ud835\\udd0epf;\\uc000\\ud835\\udd42cr;\\uc000\\ud835\\udca6\\u0580JTaceflmost\\u0825\\u0829\\u082c\\u0850\\u0863\\u09b3\\u09b8\\u09c7\\u09cd\\u0a37\\u0a47cy;\\u4409\\u803b<\\u403c\\u0280cmnpr\\u0837\\u083c\\u0841\\u0844\\u084dute;\\u4139bda;\\u439bg;\\u67ealacetrf;\\u6112r;\\u619e\\u0180aey\\u0857\\u085c\\u0861ron;\\u413ddil;\\u413b;\\u441b\\u0100fs\\u0868\\u0970t\\u0500ACDFRTUVar\\u087e\\u08a9\\u08b1\\u08e0\\u08e6\\u08fc\\u092f\\u095b\\u0390\\u096a\\u0100nr\\u0883\\u088fgleBracket;\\u67e8row\\u0180;BR\\u0899\\u089a\\u089e\\u6190ar;\\u61e4ightArrow;\\u61c6eiling;\\u6308o\\u01f5\\u08b7\\0\\u08c3bleBracket;\\u67e6n\\u01d4\\u08c8\\0\\u08d2eeVector;\\u6961ector\\u0100;B\\u08db\\u08dc\\u61c3ar;\\u6959loor;\\u630aight\\u0100AV\\u08ef\\u08f5rrow;\\u6194ector;\\u694e\\u0100er\\u0901\\u0917e\\u0180;AV\\u0909\\u090a\\u0910\\u62a3rrow;\\u61a4ector;\\u695aiangle\\u0180;BE\\u0924\\u0925\\u0929\\u62b2ar;\\u69cfqual;\\u62b4p\\u0180DTV\\u0937\\u0942\\u094cownVector;\\u6951eeVector;\\u6960ector\\u0100;B\\u0956\\u0957\\u61bfar;\\u6958ector\\u0100;B\\u0965\\u0966\\u61bcar;\\u6952ight\\xe1\\u039cs\\u0300EFGLST\\u097e\\u098b\\u0995\\u099d\\u09a2\\u09adqualGreater;\\u62daullEqual;\\u6266reater;\\u6276ess;\\u6aa1lantEqual;\\u6a7dilde;\\u6272r;\\uc000\\ud835\\udd0f\\u0100;e\\u09bd\\u09be\\u62d8ftarrow;\\u61daidot;\\u413f\\u0180npw\\u09d4\\u0a16\\u0a1bg\\u0200LRlr\\u09de\\u09f7\\u0a02\\u0a10eft\\u0100AR\\u09e6\\u09ecrrow;\\u67f5ightArrow;\\u67f7ightArrow;\\u67f6eft\\u0100ar\\u03b3\\u0a0aight\\xe1\\u03bfight\\xe1\\u03caf;\\uc000\\ud835\\udd43er\\u0100LR\\u0a22\\u0a2ceftArrow;\\u6199ightArrow;\\u6198\\u0180cht\\u0a3e\\u0a40\\u0a42\\xf2\\u084c;\\u61b0rok;\\u4141;\\u626a\\u0400acefiosu\\u0a5a\\u0a5d\\u0a60\\u0a77\\u0a7c\\u0a85\\u0a8b\\u0a8ep;\\u6905y;\\u441c\\u0100dl\\u0a65\\u0a6fiumSpace;\\u605flintrf;\\u6133r;\\uc000\\ud835\\udd10nusPlus;\\u6213pf;\\uc000\\ud835\\udd44c\\xf2\\u0a76;\\u439c\\u0480Jacefostu\\u0aa3\\u0aa7\\u0aad\\u0ac0\\u0b14\\u0b19\\u0d91\\u0d97\\u0d9ecy;\\u440acute;\\u4143\\u0180aey\\u0ab4\\u0ab9\\u0aberon;\\u4147dil;\\u4145;\\u441d\\u0180gsw\\u0ac7\\u0af0\\u0b0eative\\u0180MTV\\u0ad3\\u0adf\\u0ae8ediumSpace;\\u600bhi\\u0100cn\\u0ae6\\u0ad8\\xeb\\u0ad9eryThi\\xee\\u0ad9ted\\u0100GL\\u0af8\\u0b06reaterGreate\\xf2\\u0673essLes\\xf3\\u0a48Line;\\u400ar;\\uc000\\ud835\\udd11\\u0200Bnpt\\u0b22\\u0b28\\u0b37\\u0b3areak;\\u6060BreakingSpace;\\u40a0f;\\u6115\\u0680;CDEGHLNPRSTV\\u0b55\\u0b56\\u0b6a\\u0b7c\\u0ba1\\u0beb\\u0c04\\u0c5e\\u0c84\\u0ca6\\u0cd8\\u0d61\\u0d85\\u6aec\\u0100ou\\u0b5b\\u0b64ngruent;\\u6262pCap;\\u626doubleVerticalBar;\\u6226\\u0180lqx\\u0b83\\u0b8a\\u0b9bement;\\u6209ual\\u0100;T\\u0b92\\u0b93\\u6260ilde;\\uc000\\u2242\\u0338ists;\\u6204reater\\u0380;EFGLST\\u0bb6\\u0bb7\\u0bbd\\u0bc9\\u0bd3\\u0bd8\\u0be5\\u626fqual;\\u6271ullEqual;\\uc000\\u2267\\u0338reater;\\uc000\\u226b\\u0338ess;\\u6279lantEqual;\\uc000\\u2a7e\\u0338ilde;\\u6275ump\\u0144\\u0bf2\\u0bfdownHump;\\uc000\\u224e\\u0338qual;\\uc000\\u224f\\u0338e\\u0100fs\\u0c0a\\u0c27tTriangle\\u0180;BE\\u0c1a\\u0c1b\\u0c21\\u62eaar;\\uc000\\u29cf\\u0338qual;\\u62ecs\\u0300;EGLST\\u0c35\\u0c36\\u0c3c\\u0c44\\u0c4b\\u0c58\\u626equal;\\u6270reater;\\u6278ess;\\uc000\\u226a\\u0338lantEqual;\\uc000\\u2a7d\\u0338ilde;\\u6274ested\\u0100GL\\u0c68\\u0c79reaterGreater;\\uc000\\u2aa2\\u0338essLess;\\uc000\\u2aa1\\u0338recedes\\u0180;ES\\u0c92\\u0c93\\u0c9b\\u6280qual;\\uc000\\u2aaf\\u0338lantEqual;\\u62e0\\u0100ei\\u0cab\\u0cb9verseElement;\\u620cghtTriangle\\u0180;BE\\u0ccb\\u0ccc\\u0cd2\\u62ebar;\\uc000\\u29d0\\u0338qual;\\u62ed\\u0100qu\\u0cdd\\u0d0cuareSu\\u0100bp\\u0ce8\\u0cf9set\\u0100;E\\u0cf0\\u0cf3\\uc000\\u228f\\u0338qual;\\u62e2erset\\u0100;E\\u0d03\\u0d06\\uc000\\u2290\\u0338qual;\\u62e3\\u0180bcp\\u0d13\\u0d24\\u0d4eset\\u0100;E\\u0d1b\\u0d1e\\uc000\\u2282\\u20d2qual;\\u6288ceeds\\u0200;EST\\u0d32\\u0d33\\u0d3b\\u0d46\\u6281qual;\\uc000\\u2ab0\\u0338lantEqual;\\u62e1ilde;\\uc000\\u227f\\u0338erset\\u0100;E\\u0d58\\u0d5b\\uc000\\u2283\\u20d2qual;\\u6289ilde\\u0200;EFT\\u0d6e\\u0d6f\\u0d75\\u0d7f\\u6241qual;\\u6244ullEqual;\\u6247ilde;\\u6249erticalBar;\\u6224cr;\\uc000\\ud835\\udca9ilde\\u803b\\xd1\\u40d1;\\u439d\\u0700Eacdfgmoprstuv\\u0dbd\\u0dc2\\u0dc9\\u0dd5\\u0ddb\\u0de0\\u0de7\\u0dfc\\u0e02\\u0e20\\u0e22\\u0e32\\u0e3f\\u0e44lig;\\u4152cute\\u803b\\xd3\\u40d3\\u0100iy\\u0dce\\u0dd3rc\\u803b\\xd4\\u40d4;\\u441eblac;\\u4150r;\\uc000\\ud835\\udd12rave\\u803b\\xd2\\u40d2\\u0180aei\\u0dee\\u0df2\\u0df6cr;\\u414cga;\\u43a9cron;\\u439fpf;\\uc000\\ud835\\udd46enCurly\\u0100DQ\\u0e0e\\u0e1aoubleQuote;\\u601cuote;\\u6018;\\u6a54\\u0100cl\\u0e27\\u0e2cr;\\uc000\\ud835\\udcaaash\\u803b\\xd8\\u40d8i\\u016c\\u0e37\\u0e3cde\\u803b\\xd5\\u40d5es;\\u6a37ml\\u803b\\xd6\\u40d6er\\u0100BP\\u0e4b\\u0e60\\u0100ar\\u0e50\\u0e53r;\\u603eac\\u0100ek\\u0e5a\\u0e5c;\\u63deet;\\u63b4arenthesis;\\u63dc\\u0480acfhilors\\u0e7f\\u0e87\\u0e8a\\u0e8f\\u0e92\\u0e94\\u0e9d\\u0eb0\\u0efcrtialD;\\u6202y;\\u441fr;\\uc000\\ud835\\udd13i;\\u43a6;\\u43a0usMinus;\\u40b1\\u0100ip\\u0ea2\\u0eadncareplan\\xe5\\u069df;\\u6119\\u0200;eio\\u0eb9\\u0eba\\u0ee0\\u0ee4\\u6abbcedes\\u0200;EST\\u0ec8\\u0ec9\\u0ecf\\u0eda\\u627aqual;\\u6aaflantEqual;\\u627cilde;\\u627eme;\\u6033\\u0100dp\\u0ee9\\u0eeeuct;\\u620fortion\\u0100;a\\u0225\\u0ef9l;\\u621d\\u0100ci\\u0f01\\u0f06r;\\uc000\\ud835\\udcab;\\u43a8\\u0200Ufos\\u0f11\\u0f16\\u0f1b\\u0f1fOT\\u803b\\\"\\u4022r;\\uc000\\ud835\\udd14pf;\\u611acr;\\uc000\\ud835\\udcac\\u0600BEacefhiorsu\\u0f3e\\u0f43\\u0f47\\u0f60\\u0f73\\u0fa7\\u0faa\\u0fad\\u1096\\u10a9\\u10b4\\u10bearr;\\u6910G\\u803b\\xae\\u40ae\\u0180cnr\\u0f4e\\u0f53\\u0f56ute;\\u4154g;\\u67ebr\\u0100;t\\u0f5c\\u0f5d\\u61a0l;\\u6916\\u0180aey\\u0f67\\u0f6c\\u0f71ron;\\u4158dil;\\u4156;\\u4420\\u0100;v\\u0f78\\u0f79\\u611cerse\\u0100EU\\u0f82\\u0f99\\u0100lq\\u0f87\\u0f8eement;\\u620builibrium;\\u61cbpEquilibrium;\\u696fr\\xbb\\u0f79o;\\u43a1ght\\u0400ACDFTUVa\\u0fc1\\u0feb\\u0ff3\\u1022\\u1028\\u105b\\u1087\\u03d8\\u0100nr\\u0fc6\\u0fd2gleBracket;\\u67e9row\\u0180;BL\\u0fdc\\u0fdd\\u0fe1\\u6192ar;\\u61e5eftArrow;\\u61c4eiling;\\u6309o\\u01f5\\u0ff9\\0\\u1005bleBracket;\\u67e7n\\u01d4\\u100a\\0\\u1014eeVector;\\u695dector\\u0100;B\\u101d\\u101e\\u61c2ar;\\u6955loor;\\u630b\\u0100er\\u102d\\u1043e\\u0180;AV\\u1035\\u1036\\u103c\\u62a2rrow;\\u61a6ector;\\u695biangle\\u0180;BE\\u1050\\u1051\\u1055\\u62b3ar;\\u69d0qual;\\u62b5p\\u0180DTV\\u1063\\u106e\\u1078ownVector;\\u694feeVector;\\u695cector\\u0100;B\\u1082\\u1083\\u61bear;\\u6954ector\\u0100;B\\u1091\\u1092\\u61c0ar;\\u6953\\u0100pu\\u109b\\u109ef;\\u611dndImplies;\\u6970ightarrow;\\u61db\\u0100ch\\u10b9\\u10bcr;\\u611b;\\u61b1leDelayed;\\u69f4\\u0680HOacfhimoqstu\\u10e4\\u10f1\\u10f7\\u10fd\\u1119\\u111e\\u1151\\u1156\\u1161\\u1167\\u11b5\\u11bb\\u11bf\\u0100Cc\\u10e9\\u10eeHcy;\\u4429y;\\u4428FTcy;\\u442ccute;\\u415a\\u0280;aeiy\\u1108\\u1109\\u110e\\u1113\\u1117\\u6abcron;\\u4160dil;\\u415erc;\\u415c;\\u4421r;\\uc000\\ud835\\udd16ort\\u0200DLRU\\u112a\\u1134\\u113e\\u1149ownArrow\\xbb\\u041eeftArrow\\xbb\\u089aightArrow\\xbb\\u0fddpArrow;\\u6191gma;\\u43a3allCircle;\\u6218pf;\\uc000\\ud835\\udd4a\\u0272\\u116d\\0\\0\\u1170t;\\u621aare\\u0200;ISU\\u117b\\u117c\\u1189\\u11af\\u65a1ntersection;\\u6293u\\u0100bp\\u118f\\u119eset\\u0100;E\\u1197\\u1198\\u628fqual;\\u6291erset\\u0100;E\\u11a8\\u11a9\\u6290qual;\\u6292nion;\\u6294cr;\\uc000\\ud835\\udcaear;\\u62c6\\u0200bcmp\\u11c8\\u11db\\u1209\\u120b\\u0100;s\\u11cd\\u11ce\\u62d0et\\u0100;E\\u11cd\\u11d5qual;\\u6286\\u0100ch\\u11e0\\u1205eeds\\u0200;EST\\u11ed\\u11ee\\u11f4\\u11ff\\u627bqual;\\u6ab0lantEqual;\\u627dilde;\\u627fTh\\xe1\\u0f8c;\\u6211\\u0180;es\\u1212\\u1213\\u1223\\u62d1rset\\u0100;E\\u121c\\u121d\\u6283qual;\\u6287et\\xbb\\u1213\\u0580HRSacfhiors\\u123e\\u1244\\u1249\\u1255\\u125e\\u1271\\u1276\\u129f\\u12c2\\u12c8\\u12d1ORN\\u803b\\xde\\u40deADE;\\u6122\\u0100Hc\\u124e\\u1252cy;\\u440by;\\u4426\\u0100bu\\u125a\\u125c;\\u4009;\\u43a4\\u0180aey\\u1265\\u126a\\u126fron;\\u4164dil;\\u4162;\\u4422r;\\uc000\\ud835\\udd17\\u0100ei\\u127b\\u1289\\u01f2\\u1280\\0\\u1287efore;\\u6234a;\\u4398\\u0100cn\\u128e\\u1298kSpace;\\uc000\\u205f\\u200aSpace;\\u6009lde\\u0200;EFT\\u12ab\\u12ac\\u12b2\\u12bc\\u623cqual;\\u6243ullEqual;\\u6245ilde;\\u6248pf;\\uc000\\ud835\\udd4bipleDot;\\u60db\\u0100ct\\u12d6\\u12dbr;\\uc000\\ud835\\udcafrok;\\u4166\\u0ae1\\u12f7\\u130e\\u131a\\u1326\\0\\u132c\\u1331\\0\\0\\0\\0\\0\\u1338\\u133d\\u1377\\u1385\\0\\u13ff\\u1404\\u140a\\u1410\\u0100cr\\u12fb\\u1301ute\\u803b\\xda\\u40dar\\u0100;o\\u1307\\u1308\\u619fcir;\\u6949r\\u01e3\\u1313\\0\\u1316y;\\u440eve;\\u416c\\u0100iy\\u131e\\u1323rc\\u803b\\xdb\\u40db;\\u4423blac;\\u4170r;\\uc000\\ud835\\udd18rave\\u803b\\xd9\\u40d9acr;\\u416a\\u0100di\\u1341\\u1369er\\u0100BP\\u1348\\u135d\\u0100ar\\u134d\\u1350r;\\u405fac\\u0100ek\\u1357\\u1359;\\u63dfet;\\u63b5arenthesis;\\u63ddon\\u0100;P\\u1370\\u1371\\u62c3lus;\\u628e\\u0100gp\\u137b\\u137fon;\\u4172f;\\uc000\\ud835\\udd4c\\u0400ADETadps\\u1395\\u13ae\\u13b8\\u13c4\\u03e8\\u13d2\\u13d7\\u13f3rrow\\u0180;BD\\u1150\\u13a0\\u13a4ar;\\u6912ownArrow;\\u61c5ownArrow;\\u6195quilibrium;\\u696eee\\u0100;A\\u13cb\\u13cc\\u62a5rrow;\\u61a5own\\xe1\\u03f3er\\u0100LR\\u13de\\u13e8eftArrow;\\u6196ightArrow;\\u6197i\\u0100;l\\u13f9\\u13fa\\u43d2on;\\u43a5ing;\\u416ecr;\\uc000\\ud835\\udcb0ilde;\\u4168ml\\u803b\\xdc\\u40dc\\u0480Dbcdefosv\\u1427\\u142c\\u1430\\u1433\\u143e\\u1485\\u148a\\u1490\\u1496ash;\\u62abar;\\u6aeby;\\u4412ash\\u0100;l\\u143b\\u143c\\u62a9;\\u6ae6\\u0100er\\u1443\\u1445;\\u62c1\\u0180bty\\u144c\\u1450\\u147aar;\\u6016\\u0100;i\\u144f\\u1455cal\\u0200BLST\\u1461\\u1465\\u146a\\u1474ar;\\u6223ine;\\u407ceparator;\\u6758ilde;\\u6240ThinSpace;\\u600ar;\\uc000\\ud835\\udd19pf;\\uc000\\ud835\\udd4dcr;\\uc000\\ud835\\udcb1dash;\\u62aa\\u0280cefos\\u14a7\\u14ac\\u14b1\\u14b6\\u14bcirc;\\u4174dge;\\u62c0r;\\uc000\\ud835\\udd1apf;\\uc000\\ud835\\udd4ecr;\\uc000\\ud835\\udcb2\\u0200fios\\u14cb\\u14d0\\u14d2\\u14d8r;\\uc000\\ud835\\udd1b;\\u439epf;\\uc000\\ud835\\udd4fcr;\\uc000\\ud835\\udcb3\\u0480AIUacfosu\\u14f1\\u14f5\\u14f9\\u14fd\\u1504\\u150f\\u1514\\u151a\\u1520cy;\\u442fcy;\\u4407cy;\\u442ecute\\u803b\\xdd\\u40dd\\u0100iy\\u1509\\u150drc;\\u4176;\\u442br;\\uc000\\ud835\\udd1cpf;\\uc000\\ud835\\udd50cr;\\uc000\\ud835\\udcb4ml;\\u4178\\u0400Hacdefos\\u1535\\u1539\\u153f\\u154b\\u154f\\u155d\\u1560\\u1564cy;\\u4416cute;\\u4179\\u0100ay\\u1544\\u1549ron;\\u417d;\\u4417ot;\\u417b\\u01f2\\u1554\\0\\u155boWidt\\xe8\\u0ad9a;\\u4396r;\\u6128pf;\\u6124cr;\\uc000\\ud835\\udcb5\\u0be1\\u1583\\u158a\\u1590\\0\\u15b0\\u15b6\\u15bf\\0\\0\\0\\0\\u15c6\\u15db\\u15eb\\u165f\\u166d\\0\\u1695\\u169b\\u16b2\\u16b9\\0\\u16becute\\u803b\\xe1\\u40e1reve;\\u4103\\u0300;Ediuy\\u159c\\u159d\\u15a1\\u15a3\\u15a8\\u15ad\\u623e;\\uc000\\u223e\\u0333;\\u623frc\\u803b\\xe2\\u40e2te\\u80bb\\xb4\\u0306;\\u4430lig\\u803b\\xe6\\u40e6\\u0100;r\\xb2\\u15ba;\\uc000\\ud835\\udd1erave\\u803b\\xe0\\u40e0\\u0100ep\\u15ca\\u15d6\\u0100fp\\u15cf\\u15d4sym;\\u6135\\xe8\\u15d3ha;\\u43b1\\u0100ap\\u15dfc\\u0100cl\\u15e4\\u15e7r;\\u4101g;\\u6a3f\\u0264\\u15f0\\0\\0\\u160a\\u0280;adsv\\u15fa\\u15fb\\u15ff\\u1601\\u1607\\u6227nd;\\u6a55;\\u6a5clope;\\u6a58;\\u6a5a\\u0380;elmrsz\\u1618\\u1619\\u161b\\u161e\\u163f\\u164f\\u1659\\u6220;\\u69a4e\\xbb\\u1619sd\\u0100;a\\u1625\\u1626\\u6221\\u0461\\u1630\\u1632\\u1634\\u1636\\u1638\\u163a\\u163c\\u163e;\\u69a8;\\u69a9;\\u69aa;\\u69ab;\\u69ac;\\u69ad;\\u69ae;\\u69aft\\u0100;v\\u1645\\u1646\\u621fb\\u0100;d\\u164c\\u164d\\u62be;\\u699d\\u0100pt\\u1654\\u1657h;\\u6222\\xbb\\xb9arr;\\u637c\\u0100gp\\u1663\\u1667on;\\u4105f;\\uc000\\ud835\\udd52\\u0380;Eaeiop\\u12c1\\u167b\\u167d\\u1682\\u1684\\u1687\\u168a;\\u6a70cir;\\u6a6f;\\u624ad;\\u624bs;\\u4027rox\\u0100;e\\u12c1\\u1692\\xf1\\u1683ing\\u803b\\xe5\\u40e5\\u0180cty\\u16a1\\u16a6\\u16a8r;\\uc000\\ud835\\udcb6;\\u402amp\\u0100;e\\u12c1\\u16af\\xf1\\u0288ilde\\u803b\\xe3\\u40e3ml\\u803b\\xe4\\u40e4\\u0100ci\\u16c2\\u16c8onin\\xf4\\u0272nt;\\u6a11\\u0800Nabcdefiklnoprsu\\u16ed\\u16f1\\u1730\\u173c\\u1743\\u1748\\u1778\\u177d\\u17e0\\u17e6\\u1839\\u1850\\u170d\\u193d\\u1948\\u1970ot;\\u6aed\\u0100cr\\u16f6\\u171ek\\u0200ceps\\u1700\\u1705\\u170d\\u1713ong;\\u624cpsilon;\\u43f6rime;\\u6035im\\u0100;e\\u171a\\u171b\\u623dq;\\u62cd\\u0176\\u1722\\u1726ee;\\u62bded\\u0100;g\\u172c\\u172d\\u6305e\\xbb\\u172drk\\u0100;t\\u135c\\u1737brk;\\u63b6\\u0100oy\\u1701\\u1741;\\u4431quo;\\u601e\\u0280cmprt\\u1753\\u175b\\u1761\\u1764\\u1768aus\\u0100;e\\u010a\\u0109ptyv;\\u69b0s\\xe9\\u170cno\\xf5\\u0113\\u0180ahw\\u176f\\u1771\\u1773;\\u43b2;\\u6136een;\\u626cr;\\uc000\\ud835\\udd1fg\\u0380costuvw\\u178d\\u179d\\u17b3\\u17c1\\u17d5\\u17db\\u17de\\u0180aiu\\u1794\\u1796\\u179a\\xf0\\u0760rc;\\u65efp\\xbb\\u1371\\u0180dpt\\u17a4\\u17a8\\u17adot;\\u6a00lus;\\u6a01imes;\\u6a02\\u0271\\u17b9\\0\\0\\u17becup;\\u6a06ar;\\u6605riangle\\u0100du\\u17cd\\u17d2own;\\u65bdp;\\u65b3plus;\\u6a04e\\xe5\\u1444\\xe5\\u14adarow;\\u690d\\u0180ako\\u17ed\\u1826\\u1835\\u0100cn\\u17f2\\u1823k\\u0180lst\\u17fa\\u05ab\\u1802ozenge;\\u69ebriangle\\u0200;dlr\\u1812\\u1813\\u1818\\u181d\\u65b4own;\\u65beeft;\\u65c2ight;\\u65b8k;\\u6423\\u01b1\\u182b\\0\\u1833\\u01b2\\u182f\\0\\u1831;\\u6592;\\u65914;\\u6593ck;\\u6588\\u0100eo\\u183e\\u184d\\u0100;q\\u1843\\u1846\\uc000=\\u20e5uiv;\\uc000\\u2261\\u20e5t;\\u6310\\u0200ptwx\\u1859\\u185e\\u1867\\u186cf;\\uc000\\ud835\\udd53\\u0100;t\\u13cb\\u1863om\\xbb\\u13cctie;\\u62c8\\u0600DHUVbdhmptuv\\u1885\\u1896\\u18aa\\u18bb\\u18d7\\u18db\\u18ec\\u18ff\\u1905\\u190a\\u1910\\u1921\\u0200LRlr\\u188e\\u1890\\u1892\\u1894;\\u6557;\\u6554;\\u6556;\\u6553\\u0280;DUdu\\u18a1\\u18a2\\u18a4\\u18a6\\u18a8\\u6550;\\u6566;\\u6569;\\u6564;\\u6567\\u0200LRlr\\u18b3\\u18b5\\u18b7\\u18b9;\\u655d;\\u655a;\\u655c;\\u6559\\u0380;HLRhlr\\u18ca\\u18cb\\u18cd\\u18cf\\u18d1\\u18d3\\u18d5\\u6551;\\u656c;\\u6563;\\u6560;\\u656b;\\u6562;\\u655fox;\\u69c9\\u0200LRlr\\u18e4\\u18e6\\u18e8\\u18ea;\\u6555;\\u6552;\\u6510;\\u650c\\u0280;DUdu\\u06bd\\u18f7\\u18f9\\u18fb\\u18fd;\\u6565;\\u6568;\\u652c;\\u6534inus;\\u629flus;\\u629eimes;\\u62a0\\u0200LRlr\\u1919\\u191b\\u191d\\u191f;\\u655b;\\u6558;\\u6518;\\u6514\\u0380;HLRhlr\\u1930\\u1931\\u1933\\u1935\\u1937\\u1939\\u193b\\u6502;\\u656a;\\u6561;\\u655e;\\u653c;\\u6524;\\u651c\\u0100ev\\u0123\\u1942bar\\u803b\\xa6\\u40a6\\u0200ceio\\u1951\\u1956\\u195a\\u1960r;\\uc000\\ud835\\udcb7mi;\\u604fm\\u0100;e\\u171a\\u171cl\\u0180;bh\\u1968\\u1969\\u196b\\u405c;\\u69c5sub;\\u67c8\\u016c\\u1974\\u197el\\u0100;e\\u1979\\u197a\\u6022t\\xbb\\u197ap\\u0180;Ee\\u012f\\u1985\\u1987;\\u6aae\\u0100;q\\u06dc\\u06db\\u0ce1\\u19a7\\0\\u19e8\\u1a11\\u1a15\\u1a32\\0\\u1a37\\u1a50\\0\\0\\u1ab4\\0\\0\\u1ac1\\0\\0\\u1b21\\u1b2e\\u1b4d\\u1b52\\0\\u1bfd\\0\\u1c0c\\u0180cpr\\u19ad\\u19b2\\u19ddute;\\u4107\\u0300;abcds\\u19bf\\u19c0\\u19c4\\u19ca\\u19d5\\u19d9\\u6229nd;\\u6a44rcup;\\u6a49\\u0100au\\u19cf\\u19d2p;\\u6a4bp;\\u6a47ot;\\u6a40;\\uc000\\u2229\\ufe00\\u0100eo\\u19e2\\u19e5t;\\u6041\\xee\\u0693\\u0200aeiu\\u19f0\\u19fb\\u1a01\\u1a05\\u01f0\\u19f5\\0\\u19f8s;\\u6a4don;\\u410ddil\\u803b\\xe7\\u40e7rc;\\u4109ps\\u0100;s\\u1a0c\\u1a0d\\u6a4cm;\\u6a50ot;\\u410b\\u0180dmn\\u1a1b\\u1a20\\u1a26il\\u80bb\\xb8\\u01adptyv;\\u69b2t\\u8100\\xa2;e\\u1a2d\\u1a2e\\u40a2r\\xe4\\u01b2r;\\uc000\\ud835\\udd20\\u0180cei\\u1a3d\\u1a40\\u1a4dy;\\u4447ck\\u0100;m\\u1a47\\u1a48\\u6713ark\\xbb\\u1a48;\\u43c7r\\u0380;Ecefms\\u1a5f\\u1a60\\u1a62\\u1a6b\\u1aa4\\u1aaa\\u1aae\\u65cb;\\u69c3\\u0180;el\\u1a69\\u1a6a\\u1a6d\\u42c6q;\\u6257e\\u0261\\u1a74\\0\\0\\u1a88rrow\\u0100lr\\u1a7c\\u1a81eft;\\u61baight;\\u61bb\\u0280RSacd\\u1a92\\u1a94\\u1a96\\u1a9a\\u1a9f\\xbb\\u0f47;\\u64c8st;\\u629birc;\\u629aash;\\u629dnint;\\u6a10id;\\u6aefcir;\\u69c2ubs\\u0100;u\\u1abb\\u1abc\\u6663it\\xbb\\u1abc\\u02ec\\u1ac7\\u1ad4\\u1afa\\0\\u1b0aon\\u0100;e\\u1acd\\u1ace\\u403a\\u0100;q\\xc7\\xc6\\u026d\\u1ad9\\0\\0\\u1ae2a\\u0100;t\\u1ade\\u1adf\\u402c;\\u4040\\u0180;fl\\u1ae8\\u1ae9\\u1aeb\\u6201\\xee\\u1160e\\u0100mx\\u1af1\\u1af6ent\\xbb\\u1ae9e\\xf3\\u024d\\u01e7\\u1afe\\0\\u1b07\\u0100;d\\u12bb\\u1b02ot;\\u6a6dn\\xf4\\u0246\\u0180fry\\u1b10\\u1b14\\u1b17;\\uc000\\ud835\\udd54o\\xe4\\u0254\\u8100\\xa9;s\\u0155\\u1b1dr;\\u6117\\u0100ao\\u1b25\\u1b29rr;\\u61b5ss;\\u6717\\u0100cu\\u1b32\\u1b37r;\\uc000\\ud835\\udcb8\\u0100bp\\u1b3c\\u1b44\\u0100;e\\u1b41\\u1b42\\u6acf;\\u6ad1\\u0100;e\\u1b49\\u1b4a\\u6ad0;\\u6ad2dot;\\u62ef\\u0380delprvw\\u1b60\\u1b6c\\u1b77\\u1b82\\u1bac\\u1bd4\\u1bf9arr\\u0100lr\\u1b68\\u1b6a;\\u6938;\\u6935\\u0270\\u1b72\\0\\0\\u1b75r;\\u62dec;\\u62dfarr\\u0100;p\\u1b7f\\u1b80\\u61b6;\\u693d\\u0300;bcdos\\u1b8f\\u1b90\\u1b96\\u1ba1\\u1ba5\\u1ba8\\u622arcap;\\u6a48\\u0100au\\u1b9b\\u1b9ep;\\u6a46p;\\u6a4aot;\\u628dr;\\u6a45;\\uc000\\u222a\\ufe00\\u0200alrv\\u1bb5\\u1bbf\\u1bde\\u1be3rr\\u0100;m\\u1bbc\\u1bbd\\u61b7;\\u693cy\\u0180evw\\u1bc7\\u1bd4\\u1bd8q\\u0270\\u1bce\\0\\0\\u1bd2re\\xe3\\u1b73u\\xe3\\u1b75ee;\\u62ceedge;\\u62cfen\\u803b\\xa4\\u40a4earrow\\u0100lr\\u1bee\\u1bf3eft\\xbb\\u1b80ight\\xbb\\u1bbde\\xe4\\u1bdd\\u0100ci\\u1c01\\u1c07onin\\xf4\\u01f7nt;\\u6231lcty;\\u632d\\u0980AHabcdefhijlorstuwz\\u1c38\\u1c3b\\u1c3f\\u1c5d\\u1c69\\u1c75\\u1c8a\\u1c9e\\u1cac\\u1cb7\\u1cfb\\u1cff\\u1d0d\\u1d7b\\u1d91\\u1dab\\u1dbb\\u1dc6\\u1dcdr\\xf2\\u0381ar;\\u6965\\u0200glrs\\u1c48\\u1c4d\\u1c52\\u1c54ger;\\u6020eth;\\u6138\\xf2\\u1133h\\u0100;v\\u1c5a\\u1c5b\\u6010\\xbb\\u090a\\u016b\\u1c61\\u1c67arow;\\u690fa\\xe3\\u0315\\u0100ay\\u1c6e\\u1c73ron;\\u410f;\\u4434\\u0180;ao\\u0332\\u1c7c\\u1c84\\u0100gr\\u02bf\\u1c81r;\\u61catseq;\\u6a77\\u0180glm\\u1c91\\u1c94\\u1c98\\u803b\\xb0\\u40b0ta;\\u43b4ptyv;\\u69b1\\u0100ir\\u1ca3\\u1ca8sht;\\u697f;\\uc000\\ud835\\udd21ar\\u0100lr\\u1cb3\\u1cb5\\xbb\\u08dc\\xbb\\u101e\\u0280aegsv\\u1cc2\\u0378\\u1cd6\\u1cdc\\u1ce0m\\u0180;os\\u0326\\u1cca\\u1cd4nd\\u0100;s\\u0326\\u1cd1uit;\\u6666amma;\\u43ddin;\\u62f2\\u0180;io\\u1ce7\\u1ce8\\u1cf8\\u40f7de\\u8100\\xf7;o\\u1ce7\\u1cf0ntimes;\\u62c7n\\xf8\\u1cf7cy;\\u4452c\\u026f\\u1d06\\0\\0\\u1d0arn;\\u631eop;\\u630d\\u0280lptuw\\u1d18\\u1d1d\\u1d22\\u1d49\\u1d55lar;\\u4024f;\\uc000\\ud835\\udd55\\u0280;emps\\u030b\\u1d2d\\u1d37\\u1d3d\\u1d42q\\u0100;d\\u0352\\u1d33ot;\\u6251inus;\\u6238lus;\\u6214quare;\\u62a1blebarwedg\\xe5\\xfan\\u0180adh\\u112e\\u1d5d\\u1d67ownarrow\\xf3\\u1c83arpoon\\u0100lr\\u1d72\\u1d76ef\\xf4\\u1cb4igh\\xf4\\u1cb6\\u0162\\u1d7f\\u1d85karo\\xf7\\u0f42\\u026f\\u1d8a\\0\\0\\u1d8ern;\\u631fop;\\u630c\\u0180cot\\u1d98\\u1da3\\u1da6\\u0100ry\\u1d9d\\u1da1;\\uc000\\ud835\\udcb9;\\u4455l;\\u69f6rok;\\u4111\\u0100dr\\u1db0\\u1db4ot;\\u62f1i\\u0100;f\\u1dba\\u1816\\u65bf\\u0100ah\\u1dc0\\u1dc3r\\xf2\\u0429a\\xf2\\u0fa6angle;\\u69a6\\u0100ci\\u1dd2\\u1dd5y;\\u445fgrarr;\\u67ff\\u0900Dacdefglmnopqrstux\\u1e01\\u1e09\\u1e19\\u1e38\\u0578\\u1e3c\\u1e49\\u1e61\\u1e7e\\u1ea5\\u1eaf\\u1ebd\\u1ee1\\u1f2a\\u1f37\\u1f44\\u1f4e\\u1f5a\\u0100Do\\u1e06\\u1d34o\\xf4\\u1c89\\u0100cs\\u1e0e\\u1e14ute\\u803b\\xe9\\u40e9ter;\\u6a6e\\u0200aioy\\u1e22\\u1e27\\u1e31\\u1e36ron;\\u411br\\u0100;c\\u1e2d\\u1e2e\\u6256\\u803b\\xea\\u40ealon;\\u6255;\\u444dot;\\u4117\\u0100Dr\\u1e41\\u1e45ot;\\u6252;\\uc000\\ud835\\udd22\\u0180;rs\\u1e50\\u1e51\\u1e57\\u6a9aave\\u803b\\xe8\\u40e8\\u0100;d\\u1e5c\\u1e5d\\u6a96ot;\\u6a98\\u0200;ils\\u1e6a\\u1e6b\\u1e72\\u1e74\\u6a99nters;\\u63e7;\\u6113\\u0100;d\\u1e79\\u1e7a\\u6a95ot;\\u6a97\\u0180aps\\u1e85\\u1e89\\u1e97cr;\\u4113ty\\u0180;sv\\u1e92\\u1e93\\u1e95\\u6205et\\xbb\\u1e93p\\u01001;\\u1e9d\\u1ea4\\u0133\\u1ea1\\u1ea3;\\u6004;\\u6005\\u6003\\u0100gs\\u1eaa\\u1eac;\\u414bp;\\u6002\\u0100gp\\u1eb4\\u1eb8on;\\u4119f;\\uc000\\ud835\\udd56\\u0180als\\u1ec4\\u1ece\\u1ed2r\\u0100;s\\u1eca\\u1ecb\\u62d5l;\\u69e3us;\\u6a71i\\u0180;lv\\u1eda\\u1edb\\u1edf\\u43b5on\\xbb\\u1edb;\\u43f5\\u0200csuv\\u1eea\\u1ef3\\u1f0b\\u1f23\\u0100io\\u1eef\\u1e31rc\\xbb\\u1e2e\\u0269\\u1ef9\\0\\0\\u1efb\\xed\\u0548ant\\u0100gl\\u1f02\\u1f06tr\\xbb\\u1e5dess\\xbb\\u1e7a\\u0180aei\\u1f12\\u1f16\\u1f1als;\\u403dst;\\u625fv\\u0100;D\\u0235\\u1f20D;\\u6a78parsl;\\u69e5\\u0100Da\\u1f2f\\u1f33ot;\\u6253rr;\\u6971\\u0180cdi\\u1f3e\\u1f41\\u1ef8r;\\u612fo\\xf4\\u0352\\u0100ah\\u1f49\\u1f4b;\\u43b7\\u803b\\xf0\\u40f0\\u0100mr\\u1f53\\u1f57l\\u803b\\xeb\\u40ebo;\\u60ac\\u0180cip\\u1f61\\u1f64\\u1f67l;\\u4021s\\xf4\\u056e\\u0100eo\\u1f6c\\u1f74ctatio\\xee\\u0559nential\\xe5\\u0579\\u09e1\\u1f92\\0\\u1f9e\\0\\u1fa1\\u1fa7\\0\\0\\u1fc6\\u1fcc\\0\\u1fd3\\0\\u1fe6\\u1fea\\u2000\\0\\u2008\\u205allingdotse\\xf1\\u1e44y;\\u4444male;\\u6640\\u0180ilr\\u1fad\\u1fb3\\u1fc1lig;\\u8000\\ufb03\\u0269\\u1fb9\\0\\0\\u1fbdg;\\u8000\\ufb00ig;\\u8000\\ufb04;\\uc000\\ud835\\udd23lig;\\u8000\\ufb01lig;\\uc000fj\\u0180alt\\u1fd9\\u1fdc\\u1fe1t;\\u666dig;\\u8000\\ufb02ns;\\u65b1of;\\u4192\\u01f0\\u1fee\\0\\u1ff3f;\\uc000\\ud835\\udd57\\u0100ak\\u05bf\\u1ff7\\u0100;v\\u1ffc\\u1ffd\\u62d4;\\u6ad9artint;\\u6a0d\\u0100ao\\u200c\\u2055\\u0100cs\\u2011\\u2052\\u03b1\\u201a\\u2030\\u2038\\u2045\\u2048\\0\\u2050\\u03b2\\u2022\\u2025\\u2027\\u202a\\u202c\\0\\u202e\\u803b\\xbd\\u40bd;\\u6153\\u803b\\xbc\\u40bc;\\u6155;\\u6159;\\u615b\\u01b3\\u2034\\0\\u2036;\\u6154;\\u6156\\u02b4\\u203e\\u2041\\0\\0\\u2043\\u803b\\xbe\\u40be;\\u6157;\\u615c5;\\u6158\\u01b6\\u204c\\0\\u204e;\\u615a;\\u615d8;\\u615el;\\u6044wn;\\u6322cr;\\uc000\\ud835\\udcbb\\u0880Eabcdefgijlnorstv\\u2082\\u2089\\u209f\\u20a5\\u20b0\\u20b4\\u20f0\\u20f5\\u20fa\\u20ff\\u2103\\u2112\\u2138\\u0317\\u213e\\u2152\\u219e\\u0100;l\\u064d\\u2087;\\u6a8c\\u0180cmp\\u2090\\u2095\\u209dute;\\u41f5ma\\u0100;d\\u209c\\u1cda\\u43b3;\\u6a86reve;\\u411f\\u0100iy\\u20aa\\u20aerc;\\u411d;\\u4433ot;\\u4121\\u0200;lqs\\u063e\\u0642\\u20bd\\u20c9\\u0180;qs\\u063e\\u064c\\u20c4lan\\xf4\\u0665\\u0200;cdl\\u0665\\u20d2\\u20d5\\u20e5c;\\u6aa9ot\\u0100;o\\u20dc\\u20dd\\u6a80\\u0100;l\\u20e2\\u20e3\\u6a82;\\u6a84\\u0100;e\\u20ea\\u20ed\\uc000\\u22db\\ufe00s;\\u6a94r;\\uc000\\ud835\\udd24\\u0100;g\\u0673\\u061bmel;\\u6137cy;\\u4453\\u0200;Eaj\\u065a\\u210c\\u210e\\u2110;\\u6a92;\\u6aa5;\\u6aa4\\u0200Eaes\\u211b\\u211d\\u2129\\u2134;\\u6269p\\u0100;p\\u2123\\u2124\\u6a8arox\\xbb\\u2124\\u0100;q\\u212e\\u212f\\u6a88\\u0100;q\\u212e\\u211bim;\\u62e7pf;\\uc000\\ud835\\udd58\\u0100ci\\u2143\\u2146r;\\u610am\\u0180;el\\u066b\\u214e\\u2150;\\u6a8e;\\u6a90\\u8300>;cdlqr\\u05ee\\u2160\\u216a\\u216e\\u2173\\u2179\\u0100ci\\u2165\\u2167;\\u6aa7r;\\u6a7aot;\\u62d7Par;\\u6995uest;\\u6a7c\\u0280adels\\u2184\\u216a\\u2190\\u0656\\u219b\\u01f0\\u2189\\0\\u218epro\\xf8\\u209er;\\u6978q\\u0100lq\\u063f\\u2196les\\xf3\\u2088i\\xed\\u066b\\u0100en\\u21a3\\u21adrtneqq;\\uc000\\u2269\\ufe00\\xc5\\u21aa\\u0500Aabcefkosy\\u21c4\\u21c7\\u21f1\\u21f5\\u21fa\\u2218\\u221d\\u222f\\u2268\\u227dr\\xf2\\u03a0\\u0200ilmr\\u21d0\\u21d4\\u21d7\\u21dbrs\\xf0\\u1484f\\xbb\\u2024il\\xf4\\u06a9\\u0100dr\\u21e0\\u21e4cy;\\u444a\\u0180;cw\\u08f4\\u21eb\\u21efir;\\u6948;\\u61adar;\\u610firc;\\u4125\\u0180alr\\u2201\\u220e\\u2213rts\\u0100;u\\u2209\\u220a\\u6665it\\xbb\\u220alip;\\u6026con;\\u62b9r;\\uc000\\ud835\\udd25s\\u0100ew\\u2223\\u2229arow;\\u6925arow;\\u6926\\u0280amopr\\u223a\\u223e\\u2243\\u225e\\u2263rr;\\u61fftht;\\u623bk\\u0100lr\\u2249\\u2253eftarrow;\\u61a9ightarrow;\\u61aaf;\\uc000\\ud835\\udd59bar;\\u6015\\u0180clt\\u226f\\u2274\\u2278r;\\uc000\\ud835\\udcbdas\\xe8\\u21f4rok;\\u4127\\u0100bp\\u2282\\u2287ull;\\u6043hen\\xbb\\u1c5b\\u0ae1\\u22a3\\0\\u22aa\\0\\u22b8\\u22c5\\u22ce\\0\\u22d5\\u22f3\\0\\0\\u22f8\\u2322\\u2367\\u2362\\u237f\\0\\u2386\\u23aa\\u23b4cute\\u803b\\xed\\u40ed\\u0180;iy\\u0771\\u22b0\\u22b5rc\\u803b\\xee\\u40ee;\\u4438\\u0100cx\\u22bc\\u22bfy;\\u4435cl\\u803b\\xa1\\u40a1\\u0100fr\\u039f\\u22c9;\\uc000\\ud835\\udd26rave\\u803b\\xec\\u40ec\\u0200;ino\\u073e\\u22dd\\u22e9\\u22ee\\u0100in\\u22e2\\u22e6nt;\\u6a0ct;\\u622dfin;\\u69dcta;\\u6129lig;\\u4133\\u0180aop\\u22fe\\u231a\\u231d\\u0180cgt\\u2305\\u2308\\u2317r;\\u412b\\u0180elp\\u071f\\u230f\\u2313in\\xe5\\u078ear\\xf4\\u0720h;\\u4131f;\\u62b7ed;\\u41b5\\u0280;cfot\\u04f4\\u232c\\u2331\\u233d\\u2341are;\\u6105in\\u0100;t\\u2338\\u2339\\u621eie;\\u69dddo\\xf4\\u2319\\u0280;celp\\u0757\\u234c\\u2350\\u235b\\u2361al;\\u62ba\\u0100gr\\u2355\\u2359er\\xf3\\u1563\\xe3\\u234darhk;\\u6a17rod;\\u6a3c\\u0200cgpt\\u236f\\u2372\\u2376\\u237by;\\u4451on;\\u412ff;\\uc000\\ud835\\udd5aa;\\u43b9uest\\u803b\\xbf\\u40bf\\u0100ci\\u238a\\u238fr;\\uc000\\ud835\\udcben\\u0280;Edsv\\u04f4\\u239b\\u239d\\u23a1\\u04f3;\\u62f9ot;\\u62f5\\u0100;v\\u23a6\\u23a7\\u62f4;\\u62f3\\u0100;i\\u0777\\u23aelde;\\u4129\\u01eb\\u23b8\\0\\u23bccy;\\u4456l\\u803b\\xef\\u40ef\\u0300cfmosu\\u23cc\\u23d7\\u23dc\\u23e1\\u23e7\\u23f5\\u0100iy\\u23d1\\u23d5rc;\\u4135;\\u4439r;\\uc000\\ud835\\udd27ath;\\u4237pf;\\uc000\\ud835\\udd5b\\u01e3\\u23ec\\0\\u23f1r;\\uc000\\ud835\\udcbfrcy;\\u4458kcy;\\u4454\\u0400acfghjos\\u240b\\u2416\\u2422\\u2427\\u242d\\u2431\\u2435\\u243bppa\\u0100;v\\u2413\\u2414\\u43ba;\\u43f0\\u0100ey\\u241b\\u2420dil;\\u4137;\\u443ar;\\uc000\\ud835\\udd28reen;\\u4138cy;\\u4445cy;\\u445cpf;\\uc000\\ud835\\udd5ccr;\\uc000\\ud835\\udcc0\\u0b80ABEHabcdefghjlmnoprstuv\\u2470\\u2481\\u2486\\u248d\\u2491\\u250e\\u253d\\u255a\\u2580\\u264e\\u265e\\u2665\\u2679\\u267d\\u269a\\u26b2\\u26d8\\u275d\\u2768\\u278b\\u27c0\\u2801\\u2812\\u0180art\\u2477\\u247a\\u247cr\\xf2\\u09c6\\xf2\\u0395ail;\\u691barr;\\u690e\\u0100;g\\u0994\\u248b;\\u6a8bar;\\u6962\\u0963\\u24a5\\0\\u24aa\\0\\u24b1\\0\\0\\0\\0\\0\\u24b5\\u24ba\\0\\u24c6\\u24c8\\u24cd\\0\\u24f9ute;\\u413amptyv;\\u69b4ra\\xee\\u084cbda;\\u43bbg\\u0180;dl\\u088e\\u24c1\\u24c3;\\u6991\\xe5\\u088e;\\u6a85uo\\u803b\\xab\\u40abr\\u0400;bfhlpst\\u0899\\u24de\\u24e6\\u24e9\\u24eb\\u24ee\\u24f1\\u24f5\\u0100;f\\u089d\\u24e3s;\\u691fs;\\u691d\\xeb\\u2252p;\\u61abl;\\u6939im;\\u6973l;\\u61a2\\u0180;ae\\u24ff\\u2500\\u2504\\u6aabil;\\u6919\\u0100;s\\u2509\\u250a\\u6aad;\\uc000\\u2aad\\ufe00\\u0180abr\\u2515\\u2519\\u251drr;\\u690crk;\\u6772\\u0100ak\\u2522\\u252cc\\u0100ek\\u2528\\u252a;\\u407b;\\u405b\\u0100es\\u2531\\u2533;\\u698bl\\u0100du\\u2539\\u253b;\\u698f;\\u698d\\u0200aeuy\\u2546\\u254b\\u2556\\u2558ron;\\u413e\\u0100di\\u2550\\u2554il;\\u413c\\xec\\u08b0\\xe2\\u2529;\\u443b\\u0200cqrs\\u2563\\u2566\\u256d\\u257da;\\u6936uo\\u0100;r\\u0e19\\u1746\\u0100du\\u2572\\u2577har;\\u6967shar;\\u694bh;\\u61b2\\u0280;fgqs\\u258b\\u258c\\u0989\\u25f3\\u25ff\\u6264t\\u0280ahlrt\\u2598\\u25a4\\u25b7\\u25c2\\u25e8rrow\\u0100;t\\u0899\\u25a1a\\xe9\\u24f6arpoon\\u0100du\\u25af\\u25b4own\\xbb\\u045ap\\xbb\\u0966eftarrows;\\u61c7ight\\u0180ahs\\u25cd\\u25d6\\u25derrow\\u0100;s\\u08f4\\u08a7arpoon\\xf3\\u0f98quigarro\\xf7\\u21f0hreetimes;\\u62cb\\u0180;qs\\u258b\\u0993\\u25falan\\xf4\\u09ac\\u0280;cdgs\\u09ac\\u260a\\u260d\\u261d\\u2628c;\\u6aa8ot\\u0100;o\\u2614\\u2615\\u6a7f\\u0100;r\\u261a\\u261b\\u6a81;\\u6a83\\u0100;e\\u2622\\u2625\\uc000\\u22da\\ufe00s;\\u6a93\\u0280adegs\\u2633\\u2639\\u263d\\u2649\\u264bppro\\xf8\\u24c6ot;\\u62d6q\\u0100gq\\u2643\\u2645\\xf4\\u0989gt\\xf2\\u248c\\xf4\\u099bi\\xed\\u09b2\\u0180ilr\\u2655\\u08e1\\u265asht;\\u697c;\\uc000\\ud835\\udd29\\u0100;E\\u099c\\u2663;\\u6a91\\u0161\\u2669\\u2676r\\u0100du\\u25b2\\u266e\\u0100;l\\u0965\\u2673;\\u696alk;\\u6584cy;\\u4459\\u0280;acht\\u0a48\\u2688\\u268b\\u2691\\u2696r\\xf2\\u25c1orne\\xf2\\u1d08ard;\\u696bri;\\u65fa\\u0100io\\u269f\\u26a4dot;\\u4140ust\\u0100;a\\u26ac\\u26ad\\u63b0che\\xbb\\u26ad\\u0200Eaes\\u26bb\\u26bd\\u26c9\\u26d4;\\u6268p\\u0100;p\\u26c3\\u26c4\\u6a89rox\\xbb\\u26c4\\u0100;q\\u26ce\\u26cf\\u6a87\\u0100;q\\u26ce\\u26bbim;\\u62e6\\u0400abnoptwz\\u26e9\\u26f4\\u26f7\\u271a\\u272f\\u2741\\u2747\\u2750\\u0100nr\\u26ee\\u26f1g;\\u67ecr;\\u61fdr\\xeb\\u08c1g\\u0180lmr\\u26ff\\u270d\\u2714eft\\u0100ar\\u09e6\\u2707ight\\xe1\\u09f2apsto;\\u67fcight\\xe1\\u09fdparrow\\u0100lr\\u2725\\u2729ef\\xf4\\u24edight;\\u61ac\\u0180afl\\u2736\\u2739\\u273dr;\\u6985;\\uc000\\ud835\\udd5dus;\\u6a2dimes;\\u6a34\\u0161\\u274b\\u274fst;\\u6217\\xe1\\u134e\\u0180;ef\\u2757\\u2758\\u1800\\u65cange\\xbb\\u2758ar\\u0100;l\\u2764\\u2765\\u4028t;\\u6993\\u0280achmt\\u2773\\u2776\\u277c\\u2785\\u2787r\\xf2\\u08a8orne\\xf2\\u1d8car\\u0100;d\\u0f98\\u2783;\\u696d;\\u600eri;\\u62bf\\u0300achiqt\\u2798\\u279d\\u0a40\\u27a2\\u27ae\\u27bbquo;\\u6039r;\\uc000\\ud835\\udcc1m\\u0180;eg\\u09b2\\u27aa\\u27ac;\\u6a8d;\\u6a8f\\u0100bu\\u252a\\u27b3o\\u0100;r\\u0e1f\\u27b9;\\u601arok;\\u4142\\u8400<;cdhilqr\\u082b\\u27d2\\u2639\\u27dc\\u27e0\\u27e5\\u27ea\\u27f0\\u0100ci\\u27d7\\u27d9;\\u6aa6r;\\u6a79re\\xe5\\u25f2mes;\\u62c9arr;\\u6976uest;\\u6a7b\\u0100Pi\\u27f5\\u27f9ar;\\u6996\\u0180;ef\\u2800\\u092d\\u181b\\u65c3r\\u0100du\\u2807\\u280dshar;\\u694ahar;\\u6966\\u0100en\\u2817\\u2821rtneqq;\\uc000\\u2268\\ufe00\\xc5\\u281e\\u0700Dacdefhilnopsu\\u2840\\u2845\\u2882\\u288e\\u2893\\u28a0\\u28a5\\u28a8\\u28da\\u28e2\\u28e4\\u0a83\\u28f3\\u2902Dot;\\u623a\\u0200clpr\\u284e\\u2852\\u2863\\u287dr\\u803b\\xaf\\u40af\\u0100et\\u2857\\u2859;\\u6642\\u0100;e\\u285e\\u285f\\u6720se\\xbb\\u285f\\u0100;s\\u103b\\u2868to\\u0200;dlu\\u103b\\u2873\\u2877\\u287bow\\xee\\u048cef\\xf4\\u090f\\xf0\\u13d1ker;\\u65ae\\u0100oy\\u2887\\u288cmma;\\u6a29;\\u443cash;\\u6014asuredangle\\xbb\\u1626r;\\uc000\\ud835\\udd2ao;\\u6127\\u0180cdn\\u28af\\u28b4\\u28c9ro\\u803b\\xb5\\u40b5\\u0200;acd\\u1464\\u28bd\\u28c0\\u28c4s\\xf4\\u16a7ir;\\u6af0ot\\u80bb\\xb7\\u01b5us\\u0180;bd\\u28d2\\u1903\\u28d3\\u6212\\u0100;u\\u1d3c\\u28d8;\\u6a2a\\u0163\\u28de\\u28e1p;\\u6adb\\xf2\\u2212\\xf0\\u0a81\\u0100dp\\u28e9\\u28eeels;\\u62a7f;\\uc000\\ud835\\udd5e\\u0100ct\\u28f8\\u28fdr;\\uc000\\ud835\\udcc2pos\\xbb\\u159d\\u0180;lm\\u2909\\u290a\\u290d\\u43bctimap;\\u62b8\\u0c00GLRVabcdefghijlmoprstuvw\\u2942\\u2953\\u297e\\u2989\\u2998\\u29da\\u29e9\\u2a15\\u2a1a\\u2a58\\u2a5d\\u2a83\\u2a95\\u2aa4\\u2aa8\\u2b04\\u2b07\\u2b44\\u2b7f\\u2bae\\u2c34\\u2c67\\u2c7c\\u2ce9\\u0100gt\\u2947\\u294b;\\uc000\\u22d9\\u0338\\u0100;v\\u2950\\u0bcf\\uc000\\u226b\\u20d2\\u0180elt\\u295a\\u2972\\u2976ft\\u0100ar\\u2961\\u2967rrow;\\u61cdightarrow;\\u61ce;\\uc000\\u22d8\\u0338\\u0100;v\\u297b\\u0c47\\uc000\\u226a\\u20d2ightarrow;\\u61cf\\u0100Dd\\u298e\\u2993ash;\\u62afash;\\u62ae\\u0280bcnpt\\u29a3\\u29a7\\u29ac\\u29b1\\u29ccla\\xbb\\u02deute;\\u4144g;\\uc000\\u2220\\u20d2\\u0280;Eiop\\u0d84\\u29bc\\u29c0\\u29c5\\u29c8;\\uc000\\u2a70\\u0338d;\\uc000\\u224b\\u0338s;\\u4149ro\\xf8\\u0d84ur\\u0100;a\\u29d3\\u29d4\\u666el\\u0100;s\\u29d3\\u0b38\\u01f3\\u29df\\0\\u29e3p\\u80bb\\xa0\\u0b37mp\\u0100;e\\u0bf9\\u0c00\\u0280aeouy\\u29f4\\u29fe\\u2a03\\u2a10\\u2a13\\u01f0\\u29f9\\0\\u29fb;\\u6a43on;\\u4148dil;\\u4146ng\\u0100;d\\u0d7e\\u2a0aot;\\uc000\\u2a6d\\u0338p;\\u6a42;\\u443dash;\\u6013\\u0380;Aadqsx\\u0b92\\u2a29\\u2a2d\\u2a3b\\u2a41\\u2a45\\u2a50rr;\\u61d7r\\u0100hr\\u2a33\\u2a36k;\\u6924\\u0100;o\\u13f2\\u13f0ot;\\uc000\\u2250\\u0338ui\\xf6\\u0b63\\u0100ei\\u2a4a\\u2a4ear;\\u6928\\xed\\u0b98ist\\u0100;s\\u0ba0\\u0b9fr;\\uc000\\ud835\\udd2b\\u0200Eest\\u0bc5\\u2a66\\u2a79\\u2a7c\\u0180;qs\\u0bbc\\u2a6d\\u0be1\\u0180;qs\\u0bbc\\u0bc5\\u2a74lan\\xf4\\u0be2i\\xed\\u0bea\\u0100;r\\u0bb6\\u2a81\\xbb\\u0bb7\\u0180Aap\\u2a8a\\u2a8d\\u2a91r\\xf2\\u2971rr;\\u61aear;\\u6af2\\u0180;sv\\u0f8d\\u2a9c\\u0f8c\\u0100;d\\u2aa1\\u2aa2\\u62fc;\\u62facy;\\u445a\\u0380AEadest\\u2ab7\\u2aba\\u2abe\\u2ac2\\u2ac5\\u2af6\\u2af9r\\xf2\\u2966;\\uc000\\u2266\\u0338rr;\\u619ar;\\u6025\\u0200;fqs\\u0c3b\\u2ace\\u2ae3\\u2aeft\\u0100ar\\u2ad4\\u2ad9rro\\xf7\\u2ac1ightarro\\xf7\\u2a90\\u0180;qs\\u0c3b\\u2aba\\u2aealan\\xf4\\u0c55\\u0100;s\\u0c55\\u2af4\\xbb\\u0c36i\\xed\\u0c5d\\u0100;r\\u0c35\\u2afei\\u0100;e\\u0c1a\\u0c25i\\xe4\\u0d90\\u0100pt\\u2b0c\\u2b11f;\\uc000\\ud835\\udd5f\\u8180\\xac;in\\u2b19\\u2b1a\\u2b36\\u40acn\\u0200;Edv\\u0b89\\u2b24\\u2b28\\u2b2e;\\uc000\\u22f9\\u0338ot;\\uc000\\u22f5\\u0338\\u01e1\\u0b89\\u2b33\\u2b35;\\u62f7;\\u62f6i\\u0100;v\\u0cb8\\u2b3c\\u01e1\\u0cb8\\u2b41\\u2b43;\\u62fe;\\u62fd\\u0180aor\\u2b4b\\u2b63\\u2b69r\\u0200;ast\\u0b7b\\u2b55\\u2b5a\\u2b5flle\\xec\\u0b7bl;\\uc000\\u2afd\\u20e5;\\uc000\\u2202\\u0338lint;\\u6a14\\u0180;ce\\u0c92\\u2b70\\u2b73u\\xe5\\u0ca5\\u0100;c\\u0c98\\u2b78\\u0100;e\\u0c92\\u2b7d\\xf1\\u0c98\\u0200Aait\\u2b88\\u2b8b\\u2b9d\\u2ba7r\\xf2\\u2988rr\\u0180;cw\\u2b94\\u2b95\\u2b99\\u619b;\\uc000\\u2933\\u0338;\\uc000\\u219d\\u0338ghtarrow\\xbb\\u2b95ri\\u0100;e\\u0ccb\\u0cd6\\u0380chimpqu\\u2bbd\\u2bcd\\u2bd9\\u2b04\\u0b78\\u2be4\\u2bef\\u0200;cer\\u0d32\\u2bc6\\u0d37\\u2bc9u\\xe5\\u0d45;\\uc000\\ud835\\udcc3ort\\u026d\\u2b05\\0\\0\\u2bd6ar\\xe1\\u2b56m\\u0100;e\\u0d6e\\u2bdf\\u0100;q\\u0d74\\u0d73su\\u0100bp\\u2beb\\u2bed\\xe5\\u0cf8\\xe5\\u0d0b\\u0180bcp\\u2bf6\\u2c11\\u2c19\\u0200;Ees\\u2bff\\u2c00\\u0d22\\u2c04\\u6284;\\uc000\\u2ac5\\u0338et\\u0100;e\\u0d1b\\u2c0bq\\u0100;q\\u0d23\\u2c00c\\u0100;e\\u0d32\\u2c17\\xf1\\u0d38\\u0200;Ees\\u2c22\\u2c23\\u0d5f\\u2c27\\u6285;\\uc000\\u2ac6\\u0338et\\u0100;e\\u0d58\\u2c2eq\\u0100;q\\u0d60\\u2c23\\u0200gilr\\u2c3d\\u2c3f\\u2c45\\u2c47\\xec\\u0bd7lde\\u803b\\xf1\\u40f1\\xe7\\u0c43iangle\\u0100lr\\u2c52\\u2c5ceft\\u0100;e\\u0c1a\\u2c5a\\xf1\\u0c26ight\\u0100;e\\u0ccb\\u2c65\\xf1\\u0cd7\\u0100;m\\u2c6c\\u2c6d\\u43bd\\u0180;es\\u2c74\\u2c75\\u2c79\\u4023ro;\\u6116p;\\u6007\\u0480DHadgilrs\\u2c8f\\u2c94\\u2c99\\u2c9e\\u2ca3\\u2cb0\\u2cb6\\u2cd3\\u2ce3ash;\\u62adarr;\\u6904p;\\uc000\\u224d\\u20d2ash;\\u62ac\\u0100et\\u2ca8\\u2cac;\\uc000\\u2265\\u20d2;\\uc000>\\u20d2nfin;\\u69de\\u0180Aet\\u2cbd\\u2cc1\\u2cc5rr;\\u6902;\\uc000\\u2264\\u20d2\\u0100;r\\u2cca\\u2ccd\\uc000<\\u20d2ie;\\uc000\\u22b4\\u20d2\\u0100At\\u2cd8\\u2cdcrr;\\u6903rie;\\uc000\\u22b5\\u20d2im;\\uc000\\u223c\\u20d2\\u0180Aan\\u2cf0\\u2cf4\\u2d02rr;\\u61d6r\\u0100hr\\u2cfa\\u2cfdk;\\u6923\\u0100;o\\u13e7\\u13e5ear;\\u6927\\u1253\\u1a95\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\u2d2d\\0\\u2d38\\u2d48\\u2d60\\u2d65\\u2d72\\u2d84\\u1b07\\0\\0\\u2d8d\\u2dab\\0\\u2dc8\\u2dce\\0\\u2ddc\\u2e19\\u2e2b\\u2e3e\\u2e43\\u0100cs\\u2d31\\u1a97ute\\u803b\\xf3\\u40f3\\u0100iy\\u2d3c\\u2d45r\\u0100;c\\u1a9e\\u2d42\\u803b\\xf4\\u40f4;\\u443e\\u0280abios\\u1aa0\\u2d52\\u2d57\\u01c8\\u2d5alac;\\u4151v;\\u6a38old;\\u69bclig;\\u4153\\u0100cr\\u2d69\\u2d6dir;\\u69bf;\\uc000\\ud835\\udd2c\\u036f\\u2d79\\0\\0\\u2d7c\\0\\u2d82n;\\u42dbave\\u803b\\xf2\\u40f2;\\u69c1\\u0100bm\\u2d88\\u0df4ar;\\u69b5\\u0200acit\\u2d95\\u2d98\\u2da5\\u2da8r\\xf2\\u1a80\\u0100ir\\u2d9d\\u2da0r;\\u69beoss;\\u69bbn\\xe5\\u0e52;\\u69c0\\u0180aei\\u2db1\\u2db5\\u2db9cr;\\u414dga;\\u43c9\\u0180cdn\\u2dc0\\u2dc5\\u01cdron;\\u43bf;\\u69b6pf;\\uc000\\ud835\\udd60\\u0180ael\\u2dd4\\u2dd7\\u01d2r;\\u69b7rp;\\u69b9\\u0380;adiosv\\u2dea\\u2deb\\u2dee\\u2e08\\u2e0d\\u2e10\\u2e16\\u6228r\\xf2\\u1a86\\u0200;efm\\u2df7\\u2df8\\u2e02\\u2e05\\u6a5dr\\u0100;o\\u2dfe\\u2dff\\u6134f\\xbb\\u2dff\\u803b\\xaa\\u40aa\\u803b\\xba\\u40bagof;\\u62b6r;\\u6a56lope;\\u6a57;\\u6a5b\\u0180clo\\u2e1f\\u2e21\\u2e27\\xf2\\u2e01ash\\u803b\\xf8\\u40f8l;\\u6298i\\u016c\\u2e2f\\u2e34de\\u803b\\xf5\\u40f5es\\u0100;a\\u01db\\u2e3as;\\u6a36ml\\u803b\\xf6\\u40f6bar;\\u633d\\u0ae1\\u2e5e\\0\\u2e7d\\0\\u2e80\\u2e9d\\0\\u2ea2\\u2eb9\\0\\0\\u2ecb\\u0e9c\\0\\u2f13\\0\\0\\u2f2b\\u2fbc\\0\\u2fc8r\\u0200;ast\\u0403\\u2e67\\u2e72\\u0e85\\u8100\\xb6;l\\u2e6d\\u2e6e\\u40b6le\\xec\\u0403\\u0269\\u2e78\\0\\0\\u2e7bm;\\u6af3;\\u6afdy;\\u443fr\\u0280cimpt\\u2e8b\\u2e8f\\u2e93\\u1865\\u2e97nt;\\u4025od;\\u402eil;\\u6030enk;\\u6031r;\\uc000\\ud835\\udd2d\\u0180imo\\u2ea8\\u2eb0\\u2eb4\\u0100;v\\u2ead\\u2eae\\u43c6;\\u43d5ma\\xf4\\u0a76ne;\\u660e\\u0180;tv\\u2ebf\\u2ec0\\u2ec8\\u43c0chfork\\xbb\\u1ffd;\\u43d6\\u0100au\\u2ecf\\u2edfn\\u0100ck\\u2ed5\\u2eddk\\u0100;h\\u21f4\\u2edb;\\u610e\\xf6\\u21f4s\\u0480;abcdemst\\u2ef3\\u2ef4\\u1908\\u2ef9\\u2efd\\u2f04\\u2f06\\u2f0a\\u2f0e\\u402bcir;\\u6a23ir;\\u6a22\\u0100ou\\u1d40\\u2f02;\\u6a25;\\u6a72n\\u80bb\\xb1\\u0e9dim;\\u6a26wo;\\u6a27\\u0180ipu\\u2f19\\u2f20\\u2f25ntint;\\u6a15f;\\uc000\\ud835\\udd61nd\\u803b\\xa3\\u40a3\\u0500;Eaceinosu\\u0ec8\\u2f3f\\u2f41\\u2f44\\u2f47\\u2f81\\u2f89\\u2f92\\u2f7e\\u2fb6;\\u6ab3p;\\u6ab7u\\xe5\\u0ed9\\u0100;c\\u0ece\\u2f4c\\u0300;acens\\u0ec8\\u2f59\\u2f5f\\u2f66\\u2f68\\u2f7eppro\\xf8\\u2f43urlye\\xf1\\u0ed9\\xf1\\u0ece\\u0180aes\\u2f6f\\u2f76\\u2f7approx;\\u6ab9qq;\\u6ab5im;\\u62e8i\\xed\\u0edfme\\u0100;s\\u2f88\\u0eae\\u6032\\u0180Eas\\u2f78\\u2f90\\u2f7a\\xf0\\u2f75\\u0180dfp\\u0eec\\u2f99\\u2faf\\u0180als\\u2fa0\\u2fa5\\u2faalar;\\u632eine;\\u6312urf;\\u6313\\u0100;t\\u0efb\\u2fb4\\xef\\u0efbrel;\\u62b0\\u0100ci\\u2fc0\\u2fc5r;\\uc000\\ud835\\udcc5;\\u43c8ncsp;\\u6008\\u0300fiopsu\\u2fda\\u22e2\\u2fdf\\u2fe5\\u2feb\\u2ff1r;\\uc000\\ud835\\udd2epf;\\uc000\\ud835\\udd62rime;\\u6057cr;\\uc000\\ud835\\udcc6\\u0180aeo\\u2ff8\\u3009\\u3013t\\u0100ei\\u2ffe\\u3005rnion\\xf3\\u06b0nt;\\u6a16st\\u0100;e\\u3010\\u3011\\u403f\\xf1\\u1f19\\xf4\\u0f14\\u0a80ABHabcdefhilmnoprstux\\u3040\\u3051\\u3055\\u3059\\u30e0\\u310e\\u312b\\u3147\\u3162\\u3172\\u318e\\u3206\\u3215\\u3224\\u3229\\u3258\\u326e\\u3272\\u3290\\u32b0\\u32b7\\u0180art\\u3047\\u304a\\u304cr\\xf2\\u10b3\\xf2\\u03ddail;\\u691car\\xf2\\u1c65ar;\\u6964\\u0380cdenqrt\\u3068\\u3075\\u3078\\u307f\\u308f\\u3094\\u30cc\\u0100eu\\u306d\\u3071;\\uc000\\u223d\\u0331te;\\u4155i\\xe3\\u116emptyv;\\u69b3g\\u0200;del\\u0fd1\\u3089\\u308b\\u308d;\\u6992;\\u69a5\\xe5\\u0fd1uo\\u803b\\xbb\\u40bbr\\u0580;abcfhlpstw\\u0fdc\\u30ac\\u30af\\u30b7\\u30b9\\u30bc\\u30be\\u30c0\\u30c3\\u30c7\\u30cap;\\u6975\\u0100;f\\u0fe0\\u30b4s;\\u6920;\\u6933s;\\u691e\\xeb\\u225d\\xf0\\u272el;\\u6945im;\\u6974l;\\u61a3;\\u619d\\u0100ai\\u30d1\\u30d5il;\\u691ao\\u0100;n\\u30db\\u30dc\\u6236al\\xf3\\u0f1e\\u0180abr\\u30e7\\u30ea\\u30eer\\xf2\\u17e5rk;\\u6773\\u0100ak\\u30f3\\u30fdc\\u0100ek\\u30f9\\u30fb;\\u407d;\\u405d\\u0100es\\u3102\\u3104;\\u698cl\\u0100du\\u310a\\u310c;\\u698e;\\u6990\\u0200aeuy\\u3117\\u311c\\u3127\\u3129ron;\\u4159\\u0100di\\u3121\\u3125il;\\u4157\\xec\\u0ff2\\xe2\\u30fa;\\u4440\\u0200clqs\\u3134\\u3137\\u313d\\u3144a;\\u6937dhar;\\u6969uo\\u0100;r\\u020e\\u020dh;\\u61b3\\u0180acg\\u314e\\u315f\\u0f44l\\u0200;ips\\u0f78\\u3158\\u315b\\u109cn\\xe5\\u10bbar\\xf4\\u0fa9t;\\u65ad\\u0180ilr\\u3169\\u1023\\u316esht;\\u697d;\\uc000\\ud835\\udd2f\\u0100ao\\u3177\\u3186r\\u0100du\\u317d\\u317f\\xbb\\u047b\\u0100;l\\u1091\\u3184;\\u696c\\u0100;v\\u318b\\u318c\\u43c1;\\u43f1\\u0180gns\\u3195\\u31f9\\u31fcht\\u0300ahlrst\\u31a4\\u31b0\\u31c2\\u31d8\\u31e4\\u31eerrow\\u0100;t\\u0fdc\\u31ada\\xe9\\u30c8arpoon\\u0100du\\u31bb\\u31bfow\\xee\\u317ep\\xbb\\u1092eft\\u0100ah\\u31ca\\u31d0rrow\\xf3\\u0feaarpoon\\xf3\\u0551ightarrows;\\u61c9quigarro\\xf7\\u30cbhreetimes;\\u62ccg;\\u42daingdotse\\xf1\\u1f32\\u0180ahm\\u320d\\u3210\\u3213r\\xf2\\u0feaa\\xf2\\u0551;\\u600foust\\u0100;a\\u321e\\u321f\\u63b1che\\xbb\\u321fmid;\\u6aee\\u0200abpt\\u3232\\u323d\\u3240\\u3252\\u0100nr\\u3237\\u323ag;\\u67edr;\\u61fer\\xeb\\u1003\\u0180afl\\u3247\\u324a\\u324er;\\u6986;\\uc000\\ud835\\udd63us;\\u6a2eimes;\\u6a35\\u0100ap\\u325d\\u3267r\\u0100;g\\u3263\\u3264\\u4029t;\\u6994olint;\\u6a12ar\\xf2\\u31e3\\u0200achq\\u327b\\u3280\\u10bc\\u3285quo;\\u603ar;\\uc000\\ud835\\udcc7\\u0100bu\\u30fb\\u328ao\\u0100;r\\u0214\\u0213\\u0180hir\\u3297\\u329b\\u32a0re\\xe5\\u31f8mes;\\u62cai\\u0200;efl\\u32aa\\u1059\\u1821\\u32ab\\u65b9tri;\\u69celuhar;\\u6968;\\u611e\\u0d61\\u32d5\\u32db\\u32df\\u332c\\u3338\\u3371\\0\\u337a\\u33a4\\0\\0\\u33ec\\u33f0\\0\\u3428\\u3448\\u345a\\u34ad\\u34b1\\u34ca\\u34f1\\0\\u3616\\0\\0\\u3633cute;\\u415bqu\\xef\\u27ba\\u0500;Eaceinpsy\\u11ed\\u32f3\\u32f5\\u32ff\\u3302\\u330b\\u330f\\u331f\\u3326\\u3329;\\u6ab4\\u01f0\\u32fa\\0\\u32fc;\\u6ab8on;\\u4161u\\xe5\\u11fe\\u0100;d\\u11f3\\u3307il;\\u415frc;\\u415d\\u0180Eas\\u3316\\u3318\\u331b;\\u6ab6p;\\u6abaim;\\u62e9olint;\\u6a13i\\xed\\u1204;\\u4441ot\\u0180;be\\u3334\\u1d47\\u3335\\u62c5;\\u6a66\\u0380Aacmstx\\u3346\\u334a\\u3357\\u335b\\u335e\\u3363\\u336drr;\\u61d8r\\u0100hr\\u3350\\u3352\\xeb\\u2228\\u0100;o\\u0a36\\u0a34t\\u803b\\xa7\\u40a7i;\\u403bwar;\\u6929m\\u0100in\\u3369\\xf0nu\\xf3\\xf1t;\\u6736r\\u0100;o\\u3376\\u2055\\uc000\\ud835\\udd30\\u0200acoy\\u3382\\u3386\\u3391\\u33a0rp;\\u666f\\u0100hy\\u338b\\u338fcy;\\u4449;\\u4448rt\\u026d\\u3399\\0\\0\\u339ci\\xe4\\u1464ara\\xec\\u2e6f\\u803b\\xad\\u40ad\\u0100gm\\u33a8\\u33b4ma\\u0180;fv\\u33b1\\u33b2\\u33b2\\u43c3;\\u43c2\\u0400;deglnpr\\u12ab\\u33c5\\u33c9\\u33ce\\u33d6\\u33de\\u33e1\\u33e6ot;\\u6a6a\\u0100;q\\u12b1\\u12b0\\u0100;E\\u33d3\\u33d4\\u6a9e;\\u6aa0\\u0100;E\\u33db\\u33dc\\u6a9d;\\u6a9fe;\\u6246lus;\\u6a24arr;\\u6972ar\\xf2\\u113d\\u0200aeit\\u33f8\\u3408\\u340f\\u3417\\u0100ls\\u33fd\\u3404lsetm\\xe9\\u336ahp;\\u6a33parsl;\\u69e4\\u0100dl\\u1463\\u3414e;\\u6323\\u0100;e\\u341c\\u341d\\u6aaa\\u0100;s\\u3422\\u3423\\u6aac;\\uc000\\u2aac\\ufe00\\u0180flp\\u342e\\u3433\\u3442tcy;\\u444c\\u0100;b\\u3438\\u3439\\u402f\\u0100;a\\u343e\\u343f\\u69c4r;\\u633ff;\\uc000\\ud835\\udd64a\\u0100dr\\u344d\\u0402es\\u0100;u\\u3454\\u3455\\u6660it\\xbb\\u3455\\u0180csu\\u3460\\u3479\\u349f\\u0100au\\u3465\\u346fp\\u0100;s\\u1188\\u346b;\\uc000\\u2293\\ufe00p\\u0100;s\\u11b4\\u3475;\\uc000\\u2294\\ufe00u\\u0100bp\\u347f\\u348f\\u0180;es\\u1197\\u119c\\u3486et\\u0100;e\\u1197\\u348d\\xf1\\u119d\\u0180;es\\u11a8\\u11ad\\u3496et\\u0100;e\\u11a8\\u349d\\xf1\\u11ae\\u0180;af\\u117b\\u34a6\\u05b0r\\u0165\\u34ab\\u05b1\\xbb\\u117car\\xf2\\u1148\\u0200cemt\\u34b9\\u34be\\u34c2\\u34c5r;\\uc000\\ud835\\udcc8tm\\xee\\xf1i\\xec\\u3415ar\\xe6\\u11be\\u0100ar\\u34ce\\u34d5r\\u0100;f\\u34d4\\u17bf\\u6606\\u0100an\\u34da\\u34edight\\u0100ep\\u34e3\\u34eapsilo\\xee\\u1ee0h\\xe9\\u2eafs\\xbb\\u2852\\u0280bcmnp\\u34fb\\u355e\\u1209\\u358b\\u358e\\u0480;Edemnprs\\u350e\\u350f\\u3511\\u3515\\u351e\\u3523\\u352c\\u3531\\u3536\\u6282;\\u6ac5ot;\\u6abd\\u0100;d\\u11da\\u351aot;\\u6ac3ult;\\u6ac1\\u0100Ee\\u3528\\u352a;\\u6acb;\\u628alus;\\u6abfarr;\\u6979\\u0180eiu\\u353d\\u3552\\u3555t\\u0180;en\\u350e\\u3545\\u354bq\\u0100;q\\u11da\\u350feq\\u0100;q\\u352b\\u3528m;\\u6ac7\\u0100bp\\u355a\\u355c;\\u6ad5;\\u6ad3c\\u0300;acens\\u11ed\\u356c\\u3572\\u3579\\u357b\\u3326ppro\\xf8\\u32faurlye\\xf1\\u11fe\\xf1\\u11f3\\u0180aes\\u3582\\u3588\\u331bppro\\xf8\\u331aq\\xf1\\u3317g;\\u666a\\u0680123;Edehlmnps\\u35a9\\u35ac\\u35af\\u121c\\u35b2\\u35b4\\u35c0\\u35c9\\u35d5\\u35da\\u35df\\u35e8\\u35ed\\u803b\\xb9\\u40b9\\u803b\\xb2\\u40b2\\u803b\\xb3\\u40b3;\\u6ac6\\u0100os\\u35b9\\u35bct;\\u6abeub;\\u6ad8\\u0100;d\\u1222\\u35c5ot;\\u6ac4s\\u0100ou\\u35cf\\u35d2l;\\u67c9b;\\u6ad7arr;\\u697bult;\\u6ac2\\u0100Ee\\u35e4\\u35e6;\\u6acc;\\u628blus;\\u6ac0\\u0180eiu\\u35f4\\u3609\\u360ct\\u0180;en\\u121c\\u35fc\\u3602q\\u0100;q\\u1222\\u35b2eq\\u0100;q\\u35e7\\u35e4m;\\u6ac8\\u0100bp\\u3611\\u3613;\\u6ad4;\\u6ad6\\u0180Aan\\u361c\\u3620\\u362drr;\\u61d9r\\u0100hr\\u3626\\u3628\\xeb\\u222e\\u0100;o\\u0a2b\\u0a29war;\\u692alig\\u803b\\xdf\\u40df\\u0be1\\u3651\\u365d\\u3660\\u12ce\\u3673\\u3679\\0\\u367e\\u36c2\\0\\0\\0\\0\\0\\u36db\\u3703\\0\\u3709\\u376c\\0\\0\\0\\u3787\\u0272\\u3656\\0\\0\\u365bget;\\u6316;\\u43c4r\\xeb\\u0e5f\\u0180aey\\u3666\\u366b\\u3670ron;\\u4165dil;\\u4163;\\u4442lrec;\\u6315r;\\uc000\\ud835\\udd31\\u0200eiko\\u3686\\u369d\\u36b5\\u36bc\\u01f2\\u368b\\0\\u3691e\\u01004f\\u1284\\u1281a\\u0180;sv\\u3698\\u3699\\u369b\\u43b8ym;\\u43d1\\u0100cn\\u36a2\\u36b2k\\u0100as\\u36a8\\u36aeppro\\xf8\\u12c1im\\xbb\\u12acs\\xf0\\u129e\\u0100as\\u36ba\\u36ae\\xf0\\u12c1rn\\u803b\\xfe\\u40fe\\u01ec\\u031f\\u36c6\\u22e7es\\u8180\\xd7;bd\\u36cf\\u36d0\\u36d8\\u40d7\\u0100;a\\u190f\\u36d5r;\\u6a31;\\u6a30\\u0180eps\\u36e1\\u36e3\\u3700\\xe1\\u2a4d\\u0200;bcf\\u0486\\u36ec\\u36f0\\u36f4ot;\\u6336ir;\\u6af1\\u0100;o\\u36f9\\u36fc\\uc000\\ud835\\udd65rk;\\u6ada\\xe1\\u3362rime;\\u6034\\u0180aip\\u370f\\u3712\\u3764d\\xe5\\u1248\\u0380adempst\\u3721\\u374d\\u3740\\u3751\\u3757\\u375c\\u375fngle\\u0280;dlqr\\u3730\\u3731\\u3736\\u3740\\u3742\\u65b5own\\xbb\\u1dbbeft\\u0100;e\\u2800\\u373e\\xf1\\u092e;\\u625cight\\u0100;e\\u32aa\\u374b\\xf1\\u105aot;\\u65ecinus;\\u6a3alus;\\u6a39b;\\u69cdime;\\u6a3bezium;\\u63e2\\u0180cht\\u3772\\u377d\\u3781\\u0100ry\\u3777\\u377b;\\uc000\\ud835\\udcc9;\\u4446cy;\\u445brok;\\u4167\\u0100io\\u378b\\u378ex\\xf4\\u1777head\\u0100lr\\u3797\\u37a0eftarro\\xf7\\u084fightarrow\\xbb\\u0f5d\\u0900AHabcdfghlmoprstuw\\u37d0\\u37d3\\u37d7\\u37e4\\u37f0\\u37fc\\u380e\\u381c\\u3823\\u3834\\u3851\\u385d\\u386b\\u38a9\\u38cc\\u38d2\\u38ea\\u38f6r\\xf2\\u03edar;\\u6963\\u0100cr\\u37dc\\u37e2ute\\u803b\\xfa\\u40fa\\xf2\\u1150r\\u01e3\\u37ea\\0\\u37edy;\\u445eve;\\u416d\\u0100iy\\u37f5\\u37farc\\u803b\\xfb\\u40fb;\\u4443\\u0180abh\\u3803\\u3806\\u380br\\xf2\\u13adlac;\\u4171a\\xf2\\u13c3\\u0100ir\\u3813\\u3818sht;\\u697e;\\uc000\\ud835\\udd32rave\\u803b\\xf9\\u40f9\\u0161\\u3827\\u3831r\\u0100lr\\u382c\\u382e\\xbb\\u0957\\xbb\\u1083lk;\\u6580\\u0100ct\\u3839\\u384d\\u026f\\u383f\\0\\0\\u384arn\\u0100;e\\u3845\\u3846\\u631cr\\xbb\\u3846op;\\u630fri;\\u65f8\\u0100al\\u3856\\u385acr;\\u416b\\u80bb\\xa8\\u0349\\u0100gp\\u3862\\u3866on;\\u4173f;\\uc000\\ud835\\udd66\\u0300adhlsu\\u114b\\u3878\\u387d\\u1372\\u3891\\u38a0own\\xe1\\u13b3arpoon\\u0100lr\\u3888\\u388cef\\xf4\\u382digh\\xf4\\u382fi\\u0180;hl\\u3899\\u389a\\u389c\\u43c5\\xbb\\u13faon\\xbb\\u389aparrows;\\u61c8\\u0180cit\\u38b0\\u38c4\\u38c8\\u026f\\u38b6\\0\\0\\u38c1rn\\u0100;e\\u38bc\\u38bd\\u631dr\\xbb\\u38bdop;\\u630eng;\\u416fri;\\u65f9cr;\\uc000\\ud835\\udcca\\u0180dir\\u38d9\\u38dd\\u38e2ot;\\u62f0lde;\\u4169i\\u0100;f\\u3730\\u38e8\\xbb\\u1813\\u0100am\\u38ef\\u38f2r\\xf2\\u38a8l\\u803b\\xfc\\u40fcangle;\\u69a7\\u0780ABDacdeflnoprsz\\u391c\\u391f\\u3929\\u392d\\u39b5\\u39b8\\u39bd\\u39df\\u39e4\\u39e8\\u39f3\\u39f9\\u39fd\\u3a01\\u3a20r\\xf2\\u03f7ar\\u0100;v\\u3926\\u3927\\u6ae8;\\u6ae9as\\xe8\\u03e1\\u0100nr\\u3932\\u3937grt;\\u699c\\u0380eknprst\\u34e3\\u3946\\u394b\\u3952\\u395d\\u3964\\u3996app\\xe1\\u2415othin\\xe7\\u1e96\\u0180hir\\u34eb\\u2ec8\\u3959op\\xf4\\u2fb5\\u0100;h\\u13b7\\u3962\\xef\\u318d\\u0100iu\\u3969\\u396dgm\\xe1\\u33b3\\u0100bp\\u3972\\u3984setneq\\u0100;q\\u397d\\u3980\\uc000\\u228a\\ufe00;\\uc000\\u2acb\\ufe00setneq\\u0100;q\\u398f\\u3992\\uc000\\u228b\\ufe00;\\uc000\\u2acc\\ufe00\\u0100hr\\u399b\\u399fet\\xe1\\u369ciangle\\u0100lr\\u39aa\\u39afeft\\xbb\\u0925ight\\xbb\\u1051y;\\u4432ash\\xbb\\u1036\\u0180elr\\u39c4\\u39d2\\u39d7\\u0180;be\\u2dea\\u39cb\\u39cfar;\\u62bbq;\\u625alip;\\u62ee\\u0100bt\\u39dc\\u1468a\\xf2\\u1469r;\\uc000\\ud835\\udd33tr\\xe9\\u39aesu\\u0100bp\\u39ef\\u39f1\\xbb\\u0d1c\\xbb\\u0d59pf;\\uc000\\ud835\\udd67ro\\xf0\\u0efbtr\\xe9\\u39b4\\u0100cu\\u3a06\\u3a0br;\\uc000\\ud835\\udccb\\u0100bp\\u3a10\\u3a18n\\u0100Ee\\u3980\\u3a16\\xbb\\u397en\\u0100Ee\\u3992\\u3a1e\\xbb\\u3990igzag;\\u699a\\u0380cefoprs\\u3a36\\u3a3b\\u3a56\\u3a5b\\u3a54\\u3a61\\u3a6airc;\\u4175\\u0100di\\u3a40\\u3a51\\u0100bg\\u3a45\\u3a49ar;\\u6a5fe\\u0100;q\\u15fa\\u3a4f;\\u6259erp;\\u6118r;\\uc000\\ud835\\udd34pf;\\uc000\\ud835\\udd68\\u0100;e\\u1479\\u3a66at\\xe8\\u1479cr;\\uc000\\ud835\\udccc\\u0ae3\\u178e\\u3a87\\0\\u3a8b\\0\\u3a90\\u3a9b\\0\\0\\u3a9d\\u3aa8\\u3aab\\u3aaf\\0\\0\\u3ac3\\u3ace\\0\\u3ad8\\u17dc\\u17dftr\\xe9\\u17d1r;\\uc000\\ud835\\udd35\\u0100Aa\\u3a94\\u3a97r\\xf2\\u03c3r\\xf2\\u09f6;\\u43be\\u0100Aa\\u3aa1\\u3aa4r\\xf2\\u03b8r\\xf2\\u09eba\\xf0\\u2713is;\\u62fb\\u0180dpt\\u17a4\\u3ab5\\u3abe\\u0100fl\\u3aba\\u17a9;\\uc000\\ud835\\udd69im\\xe5\\u17b2\\u0100Aa\\u3ac7\\u3acar\\xf2\\u03cer\\xf2\\u0a01\\u0100cq\\u3ad2\\u17b8r;\\uc000\\ud835\\udccd\\u0100pt\\u17d6\\u3adcr\\xe9\\u17d4\\u0400acefiosu\\u3af0\\u3afd\\u3b08\\u3b0c\\u3b11\\u3b15\\u3b1b\\u3b21c\\u0100uy\\u3af6\\u3afbte\\u803b\\xfd\\u40fd;\\u444f\\u0100iy\\u3b02\\u3b06rc;\\u4177;\\u444bn\\u803b\\xa5\\u40a5r;\\uc000\\ud835\\udd36cy;\\u4457pf;\\uc000\\ud835\\udd6acr;\\uc000\\ud835\\udcce\\u0100cm\\u3b26\\u3b29y;\\u444el\\u803b\\xff\\u40ff\\u0500acdefhiosw\\u3b42\\u3b48\\u3b54\\u3b58\\u3b64\\u3b69\\u3b6d\\u3b74\\u3b7a\\u3b80cute;\\u417a\\u0100ay\\u3b4d\\u3b52ron;\\u417e;\\u4437ot;\\u417c\\u0100et\\u3b5d\\u3b61tr\\xe6\\u155fa;\\u43b6r;\\uc000\\ud835\\udd37cy;\\u4436grarr;\\u61ddpf;\\uc000\\ud835\\udd6bcr;\\uc000\\ud835\\udccf\\u0100jn\\u3b85\\u3b87;\\u600dj;\\u600c\"\n    .split(\"\")\n    .map((c) => c.charCodeAt(0)));\n//# sourceMappingURL=decode-data-html.js.map","// Generated using scripts/write-decode-map.ts\nexport default new Uint16Array(\n// prettier-ignore\n\"\\u0200aglq\\t\\x15\\x18\\x1b\\u026d\\x0f\\0\\0\\x12p;\\u4026os;\\u4027t;\\u403et;\\u403cuot;\\u4022\"\n    .split(\"\")\n    .map((c) => c.charCodeAt(0)));\n//# sourceMappingURL=decode-data-xml.js.map","// Adapted from https://github.com/mathiasbynens/he/blob/36afe179392226cf1b6ccdb16ebbb7a5a844d93a/src/he.js#L106-L134\nvar _a;\nconst decodeMap = new Map([\n    [0, 65533],\n    // C1 Unicode control character reference replacements\n    [128, 8364],\n    [130, 8218],\n    [131, 402],\n    [132, 8222],\n    [133, 8230],\n    [134, 8224],\n    [135, 8225],\n    [136, 710],\n    [137, 8240],\n    [138, 352],\n    [139, 8249],\n    [140, 338],\n    [142, 381],\n    [145, 8216],\n    [146, 8217],\n    [147, 8220],\n    [148, 8221],\n    [149, 8226],\n    [150, 8211],\n    [151, 8212],\n    [152, 732],\n    [153, 8482],\n    [154, 353],\n    [155, 8250],\n    [156, 339],\n    [158, 382],\n    [159, 376],\n]);\n/**\n * Polyfill for `String.fromCodePoint`. It is used to create a string from a Unicode code point.\n */\nexport const fromCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, node/no-unsupported-features/es-builtins\n(_a = String.fromCodePoint) !== null && _a !== void 0 ? _a : function (codePoint) {\n    let output = \"\";\n    if (codePoint > 0xffff) {\n        codePoint -= 0x10000;\n        output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n        codePoint = 0xdc00 | (codePoint & 0x3ff);\n    }\n    output += String.fromCharCode(codePoint);\n    return output;\n};\n/**\n * Replace the given code point with a replacement character if it is a\n * surrogate or is outside the valid range. Otherwise return the code\n * point unchanged.\n */\nexport function replaceCodePoint(codePoint) {\n    var _a;\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return 0xfffd;\n    }\n    return (_a = decodeMap.get(codePoint)) !== null && _a !== void 0 ? _a : codePoint;\n}\n/**\n * Replace the code point if relevant, then convert it to a string.\n *\n * @deprecated Use `fromCodePoint(replaceCodePoint(codePoint))` instead.\n * @param codePoint The code point to decode.\n * @returns The decoded code point.\n */\nexport default function decodeCodePoint(codePoint) {\n    return fromCodePoint(replaceCodePoint(codePoint));\n}\n//# sourceMappingURL=decode_codepoint.js.map","import htmlDecodeTree from \"./generated/decode-data-html.js\";\nimport xmlDecodeTree from \"./generated/decode-data-xml.js\";\nimport decodeCodePoint, { replaceCodePoint, fromCodePoint, } from \"./decode_codepoint.js\";\n// Re-export for use by eg. htmlparser2\nexport { htmlDecodeTree, xmlDecodeTree, decodeCodePoint };\nexport { replaceCodePoint, fromCodePoint } from \"./decode_codepoint.js\";\nvar CharCodes;\n(function (CharCodes) {\n    CharCodes[CharCodes[\"NUM\"] = 35] = \"NUM\";\n    CharCodes[CharCodes[\"SEMI\"] = 59] = \"SEMI\";\n    CharCodes[CharCodes[\"EQUALS\"] = 61] = \"EQUALS\";\n    CharCodes[CharCodes[\"ZERO\"] = 48] = \"ZERO\";\n    CharCodes[CharCodes[\"NINE\"] = 57] = \"NINE\";\n    CharCodes[CharCodes[\"LOWER_A\"] = 97] = \"LOWER_A\";\n    CharCodes[CharCodes[\"LOWER_F\"] = 102] = \"LOWER_F\";\n    CharCodes[CharCodes[\"LOWER_X\"] = 120] = \"LOWER_X\";\n    CharCodes[CharCodes[\"LOWER_Z\"] = 122] = \"LOWER_Z\";\n    CharCodes[CharCodes[\"UPPER_A\"] = 65] = \"UPPER_A\";\n    CharCodes[CharCodes[\"UPPER_F\"] = 70] = \"UPPER_F\";\n    CharCodes[CharCodes[\"UPPER_Z\"] = 90] = \"UPPER_Z\";\n})(CharCodes || (CharCodes = {}));\n/** Bit that needs to be set to convert an upper case ASCII character to lower case */\nconst TO_LOWER_BIT = 0b100000;\nexport var BinTrieFlags;\n(function (BinTrieFlags) {\n    BinTrieFlags[BinTrieFlags[\"VALUE_LENGTH\"] = 49152] = \"VALUE_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"BRANCH_LENGTH\"] = 16256] = \"BRANCH_LENGTH\";\n    BinTrieFlags[BinTrieFlags[\"JUMP_TABLE\"] = 127] = \"JUMP_TABLE\";\n})(BinTrieFlags || (BinTrieFlags = {}));\nfunction isNumber(code) {\n    return code >= CharCodes.ZERO && code <= CharCodes.NINE;\n}\nfunction isHexadecimalCharacter(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_F) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_F));\n}\nfunction isAsciiAlphaNumeric(code) {\n    return ((code >= CharCodes.UPPER_A && code <= CharCodes.UPPER_Z) ||\n        (code >= CharCodes.LOWER_A && code <= CharCodes.LOWER_Z) ||\n        isNumber(code));\n}\n/**\n * Checks if the given character is a valid end character for an entity in an attribute.\n *\n * Attribute values that aren't terminated properly aren't parsed, and shouldn't lead to a parser error.\n * See the example in https://html.spec.whatwg.org/multipage/parsing.html#named-character-reference-state\n */\nfunction isEntityInAttributeInvalidEnd(code) {\n    return code === CharCodes.EQUALS || isAsciiAlphaNumeric(code);\n}\nvar EntityDecoderState;\n(function (EntityDecoderState) {\n    EntityDecoderState[EntityDecoderState[\"EntityStart\"] = 0] = \"EntityStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericStart\"] = 1] = \"NumericStart\";\n    EntityDecoderState[EntityDecoderState[\"NumericDecimal\"] = 2] = \"NumericDecimal\";\n    EntityDecoderState[EntityDecoderState[\"NumericHex\"] = 3] = \"NumericHex\";\n    EntityDecoderState[EntityDecoderState[\"NamedEntity\"] = 4] = \"NamedEntity\";\n})(EntityDecoderState || (EntityDecoderState = {}));\nexport var DecodingMode;\n(function (DecodingMode) {\n    /** Entities in text nodes that can end with any character. */\n    DecodingMode[DecodingMode[\"Legacy\"] = 0] = \"Legacy\";\n    /** Only allow entities terminated with a semicolon. */\n    DecodingMode[DecodingMode[\"Strict\"] = 1] = \"Strict\";\n    /** Entities in attributes have limitations on ending characters. */\n    DecodingMode[DecodingMode[\"Attribute\"] = 2] = \"Attribute\";\n})(DecodingMode || (DecodingMode = {}));\n/**\n * Token decoder with support of writing partial entities.\n */\nexport class EntityDecoder {\n    constructor(\n    /** The tree used to decode entities. */\n    decodeTree, \n    /**\n     * The function that is called when a codepoint is decoded.\n     *\n     * For multi-byte named entities, this will be called multiple times,\n     * with the second codepoint, and the same `consumed` value.\n     *\n     * @param codepoint The decoded codepoint.\n     * @param consumed The number of bytes consumed by the decoder.\n     */\n    emitCodePoint, \n    /** An object that is used to produce errors. */\n    errors) {\n        this.decodeTree = decodeTree;\n        this.emitCodePoint = emitCodePoint;\n        this.errors = errors;\n        /** The current state of the decoder. */\n        this.state = EntityDecoderState.EntityStart;\n        /** Characters that were consumed while parsing an entity. */\n        this.consumed = 1;\n        /**\n         * The result of the entity.\n         *\n         * Either the result index of a numeric entity, or the codepoint of a\n         * numeric entity.\n         */\n        this.result = 0;\n        /** The current index in the decode tree. */\n        this.treeIndex = 0;\n        /** The number of characters that were consumed in excess. */\n        this.excess = 1;\n        /** The mode in which the decoder is operating. */\n        this.decodeMode = DecodingMode.Strict;\n    }\n    /** Resets the instance to make it reusable. */\n    startEntity(decodeMode) {\n        this.decodeMode = decodeMode;\n        this.state = EntityDecoderState.EntityStart;\n        this.result = 0;\n        this.treeIndex = 0;\n        this.excess = 1;\n        this.consumed = 1;\n    }\n    /**\n     * Write an entity to the decoder. This can be called multiple times with partial entities.\n     * If the entity is incomplete, the decoder will return -1.\n     *\n     * Mirrors the implementation of `getDecoder`, but with the ability to stop decoding if the\n     * entity is incomplete, and resume when the next string is written.\n     *\n     * @param string The string containing the entity (or a continuation of the entity).\n     * @param offset The offset at which the entity begins. Should be 0 if this is not the first call.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    write(str, offset) {\n        switch (this.state) {\n            case EntityDecoderState.EntityStart: {\n                if (str.charCodeAt(offset) === CharCodes.NUM) {\n                    this.state = EntityDecoderState.NumericStart;\n                    this.consumed += 1;\n                    return this.stateNumericStart(str, offset + 1);\n                }\n                this.state = EntityDecoderState.NamedEntity;\n                return this.stateNamedEntity(str, offset);\n            }\n            case EntityDecoderState.NumericStart: {\n                return this.stateNumericStart(str, offset);\n            }\n            case EntityDecoderState.NumericDecimal: {\n                return this.stateNumericDecimal(str, offset);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.stateNumericHex(str, offset);\n            }\n            case EntityDecoderState.NamedEntity: {\n                return this.stateNamedEntity(str, offset);\n            }\n        }\n    }\n    /**\n     * Switches between the numeric decimal and hexadecimal states.\n     *\n     * Equivalent to the `Numeric character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericStart(str, offset) {\n        if (offset >= str.length) {\n            return -1;\n        }\n        if ((str.charCodeAt(offset) | TO_LOWER_BIT) === CharCodes.LOWER_X) {\n            this.state = EntityDecoderState.NumericHex;\n            this.consumed += 1;\n            return this.stateNumericHex(str, offset + 1);\n        }\n        this.state = EntityDecoderState.NumericDecimal;\n        return this.stateNumericDecimal(str, offset);\n    }\n    addToNumericResult(str, start, end, base) {\n        if (start !== end) {\n            const digitCount = end - start;\n            this.result =\n                this.result * Math.pow(base, digitCount) +\n                    parseInt(str.substr(start, digitCount), base);\n            this.consumed += digitCount;\n        }\n    }\n    /**\n     * Parses a hexadecimal numeric entity.\n     *\n     * Equivalent to the `Hexademical character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericHex(str, offset) {\n        const startIdx = offset;\n        while (offset < str.length) {\n            const char = str.charCodeAt(offset);\n            if (isNumber(char) || isHexadecimalCharacter(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(str, startIdx, offset, 16);\n                return this.emitNumericEntity(char, 3);\n            }\n        }\n        this.addToNumericResult(str, startIdx, offset, 16);\n        return -1;\n    }\n    /**\n     * Parses a decimal numeric entity.\n     *\n     * Equivalent to the `Decimal character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNumericDecimal(str, offset) {\n        const startIdx = offset;\n        while (offset < str.length) {\n            const char = str.charCodeAt(offset);\n            if (isNumber(char)) {\n                offset += 1;\n            }\n            else {\n                this.addToNumericResult(str, startIdx, offset, 10);\n                return this.emitNumericEntity(char, 2);\n            }\n        }\n        this.addToNumericResult(str, startIdx, offset, 10);\n        return -1;\n    }\n    /**\n     * Validate and emit a numeric entity.\n     *\n     * Implements the logic from the `Hexademical character reference start\n     * state` and `Numeric character reference end state` in the HTML spec.\n     *\n     * @param lastCp The last code point of the entity. Used to see if the\n     *               entity was terminated with a semicolon.\n     * @param expectedLength The minimum number of characters that should be\n     *                       consumed. Used to validate that at least one digit\n     *                       was consumed.\n     * @returns The number of characters that were consumed.\n     */\n    emitNumericEntity(lastCp, expectedLength) {\n        var _a;\n        // Ensure we consumed at least one digit.\n        if (this.consumed <= expectedLength) {\n            (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n            return 0;\n        }\n        // Figure out if this is a legit end of the entity\n        if (lastCp === CharCodes.SEMI) {\n            this.consumed += 1;\n        }\n        else if (this.decodeMode === DecodingMode.Strict) {\n            return 0;\n        }\n        this.emitCodePoint(replaceCodePoint(this.result), this.consumed);\n        if (this.errors) {\n            if (lastCp !== CharCodes.SEMI) {\n                this.errors.missingSemicolonAfterCharacterReference();\n            }\n            this.errors.validateNumericCharacterReference(this.result);\n        }\n        return this.consumed;\n    }\n    /**\n     * Parses a named entity.\n     *\n     * Equivalent to the `Named character reference state` in the HTML spec.\n     *\n     * @param str The string containing the entity (or a continuation of the entity).\n     * @param offset The current offset.\n     * @returns The number of characters that were consumed, or -1 if the entity is incomplete.\n     */\n    stateNamedEntity(str, offset) {\n        const { decodeTree } = this;\n        let current = decodeTree[this.treeIndex];\n        // The mask is the number of bytes of the value, including the current byte.\n        let valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n        for (; offset < str.length; offset++, this.excess++) {\n            const char = str.charCodeAt(offset);\n            this.treeIndex = determineBranch(decodeTree, current, this.treeIndex + Math.max(1, valueLength), char);\n            if (this.treeIndex < 0) {\n                return this.result === 0 ||\n                    // If we are parsing an attribute\n                    (this.decodeMode === DecodingMode.Attribute &&\n                        // We shouldn't have consumed any characters after the entity,\n                        (valueLength === 0 ||\n                            // And there should be no invalid characters.\n                            isEntityInAttributeInvalidEnd(char)))\n                    ? 0\n                    : this.emitNotTerminatedNamedEntity();\n            }\n            current = decodeTree[this.treeIndex];\n            valueLength = (current & BinTrieFlags.VALUE_LENGTH) >> 14;\n            // If the branch is a value, store it and continue\n            if (valueLength !== 0) {\n                // If the entity is terminated by a semicolon, we are done.\n                if (char === CharCodes.SEMI) {\n                    return this.emitNamedEntityData(this.treeIndex, valueLength, this.consumed + this.excess);\n                }\n                // If we encounter a non-terminated (legacy) entity while parsing strictly, then ignore it.\n                if (this.decodeMode !== DecodingMode.Strict) {\n                    this.result = this.treeIndex;\n                    this.consumed += this.excess;\n                    this.excess = 0;\n                }\n            }\n        }\n        return -1;\n    }\n    /**\n     * Emit a named entity that was not terminated with a semicolon.\n     *\n     * @returns The number of characters consumed.\n     */\n    emitNotTerminatedNamedEntity() {\n        var _a;\n        const { result, decodeTree } = this;\n        const valueLength = (decodeTree[result] & BinTrieFlags.VALUE_LENGTH) >> 14;\n        this.emitNamedEntityData(result, valueLength, this.consumed);\n        (_a = this.errors) === null || _a === void 0 ? void 0 : _a.missingSemicolonAfterCharacterReference();\n        return this.consumed;\n    }\n    /**\n     * Emit a named entity.\n     *\n     * @param result The index of the entity in the decode tree.\n     * @param valueLength The number of bytes in the entity.\n     * @param consumed The number of characters consumed.\n     *\n     * @returns The number of characters consumed.\n     */\n    emitNamedEntityData(result, valueLength, consumed) {\n        const { decodeTree } = this;\n        this.emitCodePoint(valueLength === 1\n            ? decodeTree[result] & ~BinTrieFlags.VALUE_LENGTH\n            : decodeTree[result + 1], consumed);\n        if (valueLength === 3) {\n            // For multi-byte values, we need to emit the second byte.\n            this.emitCodePoint(decodeTree[result + 2], consumed);\n        }\n        return consumed;\n    }\n    /**\n     * Signal to the parser that the end of the input was reached.\n     *\n     * Remaining data will be emitted and relevant errors will be produced.\n     *\n     * @returns The number of characters consumed.\n     */\n    end() {\n        var _a;\n        switch (this.state) {\n            case EntityDecoderState.NamedEntity: {\n                // Emit a named entity if we have one.\n                return this.result !== 0 &&\n                    (this.decodeMode !== DecodingMode.Attribute ||\n                        this.result === this.treeIndex)\n                    ? this.emitNotTerminatedNamedEntity()\n                    : 0;\n            }\n            // Otherwise, emit a numeric entity if we have one.\n            case EntityDecoderState.NumericDecimal: {\n                return this.emitNumericEntity(0, 2);\n            }\n            case EntityDecoderState.NumericHex: {\n                return this.emitNumericEntity(0, 3);\n            }\n            case EntityDecoderState.NumericStart: {\n                (_a = this.errors) === null || _a === void 0 ? void 0 : _a.absenceOfDigitsInNumericCharacterReference(this.consumed);\n                return 0;\n            }\n            case EntityDecoderState.EntityStart: {\n                // Return 0 if we have no entity.\n                return 0;\n            }\n        }\n    }\n}\n/**\n * Creates a function that decodes entities in a string.\n *\n * @param decodeTree The decode tree.\n * @returns A function that decodes entities in a string.\n */\nfunction getDecoder(decodeTree) {\n    let ret = \"\";\n    const decoder = new EntityDecoder(decodeTree, (str) => (ret += fromCodePoint(str)));\n    return function decodeWithTrie(str, decodeMode) {\n        let lastIndex = 0;\n        let offset = 0;\n        while ((offset = str.indexOf(\"&\", offset)) >= 0) {\n            ret += str.slice(lastIndex, offset);\n            decoder.startEntity(decodeMode);\n            const len = decoder.write(str, \n            // Skip the \"&\"\n            offset + 1);\n            if (len < 0) {\n                lastIndex = offset + decoder.end();\n                break;\n            }\n            lastIndex = offset + len;\n            // If `len` is 0, skip the current `&` and continue.\n            offset = len === 0 ? lastIndex + 1 : lastIndex;\n        }\n        const result = ret + str.slice(lastIndex);\n        // Make sure we don't keep a reference to the final string.\n        ret = \"\";\n        return result;\n    };\n}\n/**\n * Determines the branch of the current node that is taken given the current\n * character. This function is used to traverse the trie.\n *\n * @param decodeTree The trie.\n * @param current The current node.\n * @param nodeIdx The index right after the current node and its value.\n * @param char The current character.\n * @returns The index of the next node, or -1 if no branch is taken.\n */\nexport function determineBranch(decodeTree, current, nodeIdx, char) {\n    const branchCount = (current & BinTrieFlags.BRANCH_LENGTH) >> 7;\n    const jumpOffset = current & BinTrieFlags.JUMP_TABLE;\n    // Case 1: Single branch encoded in jump offset\n    if (branchCount === 0) {\n        return jumpOffset !== 0 && char === jumpOffset ? nodeIdx : -1;\n    }\n    // Case 2: Multiple branches encoded in jump table\n    if (jumpOffset) {\n        const value = char - jumpOffset;\n        return value < 0 || value >= branchCount\n            ? -1\n            : decodeTree[nodeIdx + value] - 1;\n    }\n    // Case 3: Multiple branches encoded in dictionary\n    // Binary search for the character.\n    let lo = nodeIdx;\n    let hi = lo + branchCount - 1;\n    while (lo <= hi) {\n        const mid = (lo + hi) >>> 1;\n        const midVal = decodeTree[mid];\n        if (midVal < char) {\n            lo = mid + 1;\n        }\n        else if (midVal > char) {\n            hi = mid - 1;\n        }\n        else {\n            return decodeTree[mid + branchCount];\n        }\n    }\n    return -1;\n}\nconst htmlDecoder = getDecoder(htmlDecodeTree);\nconst xmlDecoder = getDecoder(xmlDecodeTree);\n/**\n * Decodes an HTML string.\n *\n * @param str The string to decode.\n * @param mode The decoding mode.\n * @returns The decoded string.\n */\nexport function decodeHTML(str, mode = DecodingMode.Legacy) {\n    return htmlDecoder(str, mode);\n}\n/**\n * Decodes an HTML string in an attribute.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLAttribute(str) {\n    return htmlDecoder(str, DecodingMode.Attribute);\n}\n/**\n * Decodes an HTML string, requiring all entities to be terminated by a semicolon.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nexport function decodeHTMLStrict(str) {\n    return htmlDecoder(str, DecodingMode.Strict);\n}\n/**\n * Decodes an XML string, requiring all entities to be terminated by a semicolon.\n *\n * @param str The string to decode.\n * @returns The decoded string.\n */\nexport function decodeXML(str) {\n    return xmlDecoder(str, DecodingMode.Strict);\n}\n//# sourceMappingURL=decode.js.map","import { htmlDecodeTree, xmlDecodeTree, BinTrieFlags, determineBranch, replaceCodePoint, } from \"entities/lib/decode.js\";\nvar CharCodes;\n(function (CharCodes) {\n    CharCodes[CharCodes[\"Tab\"] = 9] = \"Tab\";\n    CharCodes[CharCodes[\"NewLine\"] = 10] = \"NewLine\";\n    CharCodes[CharCodes[\"FormFeed\"] = 12] = \"FormFeed\";\n    CharCodes[CharCodes[\"CarriageReturn\"] = 13] = \"CarriageReturn\";\n    CharCodes[CharCodes[\"Space\"] = 32] = \"Space\";\n    CharCodes[CharCodes[\"ExclamationMark\"] = 33] = \"ExclamationMark\";\n    CharCodes[CharCodes[\"Number\"] = 35] = \"Number\";\n    CharCodes[CharCodes[\"Amp\"] = 38] = \"Amp\";\n    CharCodes[CharCodes[\"SingleQuote\"] = 39] = \"SingleQuote\";\n    CharCodes[CharCodes[\"DoubleQuote\"] = 34] = \"DoubleQuote\";\n    CharCodes[CharCodes[\"Dash\"] = 45] = \"Dash\";\n    CharCodes[CharCodes[\"Slash\"] = 47] = \"Slash\";\n    CharCodes[CharCodes[\"Zero\"] = 48] = \"Zero\";\n    CharCodes[CharCodes[\"Nine\"] = 57] = \"Nine\";\n    CharCodes[CharCodes[\"Semi\"] = 59] = \"Semi\";\n    CharCodes[CharCodes[\"Lt\"] = 60] = \"Lt\";\n    CharCodes[CharCodes[\"Eq\"] = 61] = \"Eq\";\n    CharCodes[CharCodes[\"Gt\"] = 62] = \"Gt\";\n    CharCodes[CharCodes[\"Questionmark\"] = 63] = \"Questionmark\";\n    CharCodes[CharCodes[\"UpperA\"] = 65] = \"UpperA\";\n    CharCodes[CharCodes[\"LowerA\"] = 97] = \"LowerA\";\n    CharCodes[CharCodes[\"UpperF\"] = 70] = \"UpperF\";\n    CharCodes[CharCodes[\"LowerF\"] = 102] = \"LowerF\";\n    CharCodes[CharCodes[\"UpperZ\"] = 90] = \"UpperZ\";\n    CharCodes[CharCodes[\"LowerZ\"] = 122] = \"LowerZ\";\n    CharCodes[CharCodes[\"LowerX\"] = 120] = \"LowerX\";\n    CharCodes[CharCodes[\"OpeningSquareBracket\"] = 91] = \"OpeningSquareBracket\";\n})(CharCodes || (CharCodes = {}));\n/** All the states the tokenizer can be in. */\nvar State;\n(function (State) {\n    State[State[\"Text\"] = 1] = \"Text\";\n    State[State[\"BeforeTagName\"] = 2] = \"BeforeTagName\";\n    State[State[\"InTagName\"] = 3] = \"InTagName\";\n    State[State[\"InSelfClosingTag\"] = 4] = \"InSelfClosingTag\";\n    State[State[\"BeforeClosingTagName\"] = 5] = \"BeforeClosingTagName\";\n    State[State[\"InClosingTagName\"] = 6] = \"InClosingTagName\";\n    State[State[\"AfterClosingTagName\"] = 7] = \"AfterClosingTagName\";\n    // Attributes\n    State[State[\"BeforeAttributeName\"] = 8] = \"BeforeAttributeName\";\n    State[State[\"InAttributeName\"] = 9] = \"InAttributeName\";\n    State[State[\"AfterAttributeName\"] = 10] = \"AfterAttributeName\";\n    State[State[\"BeforeAttributeValue\"] = 11] = \"BeforeAttributeValue\";\n    State[State[\"InAttributeValueDq\"] = 12] = \"InAttributeValueDq\";\n    State[State[\"InAttributeValueSq\"] = 13] = \"InAttributeValueSq\";\n    State[State[\"InAttributeValueNq\"] = 14] = \"InAttributeValueNq\";\n    // Declarations\n    State[State[\"BeforeDeclaration\"] = 15] = \"BeforeDeclaration\";\n    State[State[\"InDeclaration\"] = 16] = \"InDeclaration\";\n    // Processing instructions\n    State[State[\"InProcessingInstruction\"] = 17] = \"InProcessingInstruction\";\n    // Comments & CDATA\n    State[State[\"BeforeComment\"] = 18] = \"BeforeComment\";\n    State[State[\"CDATASequence\"] = 19] = \"CDATASequence\";\n    State[State[\"InSpecialComment\"] = 20] = \"InSpecialComment\";\n    State[State[\"InCommentLike\"] = 21] = \"InCommentLike\";\n    // Special tags\n    State[State[\"BeforeSpecialS\"] = 22] = \"BeforeSpecialS\";\n    State[State[\"SpecialStartSequence\"] = 23] = \"SpecialStartSequence\";\n    State[State[\"InSpecialTag\"] = 24] = \"InSpecialTag\";\n    State[State[\"BeforeEntity\"] = 25] = \"BeforeEntity\";\n    State[State[\"BeforeNumericEntity\"] = 26] = \"BeforeNumericEntity\";\n    State[State[\"InNamedEntity\"] = 27] = \"InNamedEntity\";\n    State[State[\"InNumericEntity\"] = 28] = \"InNumericEntity\";\n    State[State[\"InHexEntity\"] = 29] = \"InHexEntity\";\n})(State || (State = {}));\nfunction isWhitespace(c) {\n    return (c === CharCodes.Space ||\n        c === CharCodes.NewLine ||\n        c === CharCodes.Tab ||\n        c === CharCodes.FormFeed ||\n        c === CharCodes.CarriageReturn);\n}\nfunction isEndOfTagSection(c) {\n    return c === CharCodes.Slash || c === CharCodes.Gt || isWhitespace(c);\n}\nfunction isNumber(c) {\n    return c >= CharCodes.Zero && c <= CharCodes.Nine;\n}\nfunction isASCIIAlpha(c) {\n    return ((c >= CharCodes.LowerA && c <= CharCodes.LowerZ) ||\n        (c >= CharCodes.UpperA && c <= CharCodes.UpperZ));\n}\nfunction isHexDigit(c) {\n    return ((c >= CharCodes.UpperA && c <= CharCodes.UpperF) ||\n        (c >= CharCodes.LowerA && c <= CharCodes.LowerF));\n}\nexport var QuoteType;\n(function (QuoteType) {\n    QuoteType[QuoteType[\"NoValue\"] = 0] = \"NoValue\";\n    QuoteType[QuoteType[\"Unquoted\"] = 1] = \"Unquoted\";\n    QuoteType[QuoteType[\"Single\"] = 2] = \"Single\";\n    QuoteType[QuoteType[\"Double\"] = 3] = \"Double\";\n})(QuoteType || (QuoteType = {}));\n/**\n * Sequences used to match longer strings.\n *\n * We don't have `Script`, `Style`, or `Title` here. Instead, we re-use the *End\n * sequences with an increased offset.\n */\nconst Sequences = {\n    Cdata: new Uint8Array([0x43, 0x44, 0x41, 0x54, 0x41, 0x5b]),\n    CdataEnd: new Uint8Array([0x5d, 0x5d, 0x3e]),\n    CommentEnd: new Uint8Array([0x2d, 0x2d, 0x3e]),\n    ScriptEnd: new Uint8Array([0x3c, 0x2f, 0x73, 0x63, 0x72, 0x69, 0x70, 0x74]),\n    StyleEnd: new Uint8Array([0x3c, 0x2f, 0x73, 0x74, 0x79, 0x6c, 0x65]),\n    TitleEnd: new Uint8Array([0x3c, 0x2f, 0x74, 0x69, 0x74, 0x6c, 0x65]), // `</title`\n};\nexport default class Tokenizer {\n    constructor({ xmlMode = false, decodeEntities = true, }, cbs) {\n        this.cbs = cbs;\n        /** The current state the tokenizer is in. */\n        this.state = State.Text;\n        /** The read buffer. */\n        this.buffer = \"\";\n        /** The beginning of the section that is currently being read. */\n        this.sectionStart = 0;\n        /** The index within the buffer that we are currently looking at. */\n        this.index = 0;\n        /** Some behavior, eg. when decoding entities, is done while we are in another state. This keeps track of the other state type. */\n        this.baseState = State.Text;\n        /** For special parsing behavior inside of script and style tags. */\n        this.isSpecial = false;\n        /** Indicates whether the tokenizer has been paused. */\n        this.running = true;\n        /** The offset of the current buffer. */\n        this.offset = 0;\n        this.currentSequence = undefined;\n        this.sequenceIndex = 0;\n        this.trieIndex = 0;\n        this.trieCurrent = 0;\n        /** For named entities, the index of the value. For numeric entities, the code point. */\n        this.entityResult = 0;\n        this.entityExcess = 0;\n        this.xmlMode = xmlMode;\n        this.decodeEntities = decodeEntities;\n        this.entityTrie = xmlMode ? xmlDecodeTree : htmlDecodeTree;\n    }\n    reset() {\n        this.state = State.Text;\n        this.buffer = \"\";\n        this.sectionStart = 0;\n        this.index = 0;\n        this.baseState = State.Text;\n        this.currentSequence = undefined;\n        this.running = true;\n        this.offset = 0;\n    }\n    write(chunk) {\n        this.offset += this.buffer.length;\n        this.buffer = chunk;\n        this.parse();\n    }\n    end() {\n        if (this.running)\n            this.finish();\n    }\n    pause() {\n        this.running = false;\n    }\n    resume() {\n        this.running = true;\n        if (this.index < this.buffer.length + this.offset) {\n            this.parse();\n        }\n    }\n    /**\n     * The current index within all of the written data.\n     */\n    getIndex() {\n        return this.index;\n    }\n    /**\n     * The start of the current section.\n     */\n    getSectionStart() {\n        return this.sectionStart;\n    }\n    stateText(c) {\n        if (c === CharCodes.Lt ||\n            (!this.decodeEntities && this.fastForwardTo(CharCodes.Lt))) {\n            if (this.index > this.sectionStart) {\n                this.cbs.ontext(this.sectionStart, this.index);\n            }\n            this.state = State.BeforeTagName;\n            this.sectionStart = this.index;\n        }\n        else if (this.decodeEntities && c === CharCodes.Amp) {\n            this.state = State.BeforeEntity;\n        }\n    }\n    stateSpecialStartSequence(c) {\n        const isEnd = this.sequenceIndex === this.currentSequence.length;\n        const isMatch = isEnd\n            ? // If we are at the end of the sequence, make sure the tag name has ended\n                isEndOfTagSection(c)\n            : // Otherwise, do a case-insensitive comparison\n                (c | 0x20) === this.currentSequence[this.sequenceIndex];\n        if (!isMatch) {\n            this.isSpecial = false;\n        }\n        else if (!isEnd) {\n            this.sequenceIndex++;\n            return;\n        }\n        this.sequenceIndex = 0;\n        this.state = State.InTagName;\n        this.stateInTagName(c);\n    }\n    /** Look for an end tag. For <title> tags, also decode entities. */\n    stateInSpecialTag(c) {\n        if (this.sequenceIndex === this.currentSequence.length) {\n            if (c === CharCodes.Gt || isWhitespace(c)) {\n                const endOfText = this.index - this.currentSequence.length;\n                if (this.sectionStart < endOfText) {\n                    // Spoof the index so that reported locations match up.\n                    const actualIndex = this.index;\n                    this.index = endOfText;\n                    this.cbs.ontext(this.sectionStart, endOfText);\n                    this.index = actualIndex;\n                }\n                this.isSpecial = false;\n                this.sectionStart = endOfText + 2; // Skip over the `</`\n                this.stateInClosingTagName(c);\n                return; // We are done; skip the rest of the function.\n            }\n            this.sequenceIndex = 0;\n        }\n        if ((c | 0x20) === this.currentSequence[this.sequenceIndex]) {\n            this.sequenceIndex += 1;\n        }\n        else if (this.sequenceIndex === 0) {\n            if (this.currentSequence === Sequences.TitleEnd) {\n                // We have to parse entities in <title> tags.\n                if (this.decodeEntities && c === CharCodes.Amp) {\n                    this.state = State.BeforeEntity;\n                }\n            }\n            else if (this.fastForwardTo(CharCodes.Lt)) {\n                // Outside of <title> tags, we can fast-forward.\n                this.sequenceIndex = 1;\n            }\n        }\n        else {\n            // If we see a `<`, set the sequence index to 1; useful for eg. `<</script>`.\n            this.sequenceIndex = Number(c === CharCodes.Lt);\n        }\n    }\n    stateCDATASequence(c) {\n        if (c === Sequences.Cdata[this.sequenceIndex]) {\n            if (++this.sequenceIndex === Sequences.Cdata.length) {\n                this.state = State.InCommentLike;\n                this.currentSequence = Sequences.CdataEnd;\n                this.sequenceIndex = 0;\n                this.sectionStart = this.index + 1;\n            }\n        }\n        else {\n            this.sequenceIndex = 0;\n            this.state = State.InDeclaration;\n            this.stateInDeclaration(c); // Reconsume the character\n        }\n    }\n    /**\n     * When we wait for one specific character, we can speed things up\n     * by skipping through the buffer until we find it.\n     *\n     * @returns Whether the character was found.\n     */\n    fastForwardTo(c) {\n        while (++this.index < this.buffer.length + this.offset) {\n            if (this.buffer.charCodeAt(this.index - this.offset) === c) {\n                return true;\n            }\n        }\n        /*\n         * We increment the index at the end of the `parse` loop,\n         * so set it to `buffer.length - 1` here.\n         *\n         * TODO: Refactor `parse` to increment index before calling states.\n         */\n        this.index = this.buffer.length + this.offset - 1;\n        return false;\n    }\n    /**\n     * Comments and CDATA end with `-->` and `]]>`.\n     *\n     * Their common qualities are:\n     * - Their end sequences have a distinct character they start with.\n     * - That character is then repeated, so we have to check multiple repeats.\n     * - All characters but the start character of the sequence can be skipped.\n     */\n    stateInCommentLike(c) {\n        if (c === this.currentSequence[this.sequenceIndex]) {\n            if (++this.sequenceIndex === this.currentSequence.length) {\n                if (this.currentSequence === Sequences.CdataEnd) {\n                    this.cbs.oncdata(this.sectionStart, this.index, 2);\n                }\n                else {\n                    this.cbs.oncomment(this.sectionStart, this.index, 2);\n                }\n                this.sequenceIndex = 0;\n                this.sectionStart = this.index + 1;\n                this.state = State.Text;\n            }\n        }\n        else if (this.sequenceIndex === 0) {\n            // Fast-forward to the first character of the sequence\n            if (this.fastForwardTo(this.currentSequence[0])) {\n                this.sequenceIndex = 1;\n            }\n        }\n        else if (c !== this.currentSequence[this.sequenceIndex - 1]) {\n            // Allow long sequences, eg. --->, ]]]>\n            this.sequenceIndex = 0;\n        }\n    }\n    /**\n     * HTML only allows ASCII alpha characters (a-z and A-Z) at the beginning of a tag name.\n     *\n     * XML allows a lot more characters here (@see https://www.w3.org/TR/REC-xml/#NT-NameStartChar).\n     * We allow anything that wouldn't end the tag.\n     */\n    isTagStartChar(c) {\n        return this.xmlMode ? !isEndOfTagSection(c) : isASCIIAlpha(c);\n    }\n    startSpecial(sequence, offset) {\n        this.isSpecial = true;\n        this.currentSequence = sequence;\n        this.sequenceIndex = offset;\n        this.state = State.SpecialStartSequence;\n    }\n    stateBeforeTagName(c) {\n        if (c === CharCodes.ExclamationMark) {\n            this.state = State.BeforeDeclaration;\n            this.sectionStart = this.index + 1;\n        }\n        else if (c === CharCodes.Questionmark) {\n            this.state = State.InProcessingInstruction;\n            this.sectionStart = this.index + 1;\n        }\n        else if (this.isTagStartChar(c)) {\n            const lower = c | 0x20;\n            this.sectionStart = this.index;\n            if (!this.xmlMode && lower === Sequences.TitleEnd[2]) {\n                this.startSpecial(Sequences.TitleEnd, 3);\n            }\n            else {\n                this.state =\n                    !this.xmlMode && lower === Sequences.ScriptEnd[2]\n                        ? State.BeforeSpecialS\n                        : State.InTagName;\n            }\n        }\n        else if (c === CharCodes.Slash) {\n            this.state = State.BeforeClosingTagName;\n        }\n        else {\n            this.state = State.Text;\n            this.stateText(c);\n        }\n    }\n    stateInTagName(c) {\n        if (isEndOfTagSection(c)) {\n            this.cbs.onopentagname(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        }\n    }\n    stateBeforeClosingTagName(c) {\n        if (isWhitespace(c)) {\n            // Ignore\n        }\n        else if (c === CharCodes.Gt) {\n            this.state = State.Text;\n        }\n        else {\n            this.state = this.isTagStartChar(c)\n                ? State.InClosingTagName\n                : State.InSpecialComment;\n            this.sectionStart = this.index;\n        }\n    }\n    stateInClosingTagName(c) {\n        if (c === CharCodes.Gt || isWhitespace(c)) {\n            this.cbs.onclosetag(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.state = State.AfterClosingTagName;\n            this.stateAfterClosingTagName(c);\n        }\n    }\n    stateAfterClosingTagName(c) {\n        // Skip everything until \">\"\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.state = State.Text;\n            this.baseState = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    stateBeforeAttributeName(c) {\n        if (c === CharCodes.Gt) {\n            this.cbs.onopentagend(this.index);\n            if (this.isSpecial) {\n                this.state = State.InSpecialTag;\n                this.sequenceIndex = 0;\n            }\n            else {\n                this.state = State.Text;\n            }\n            this.baseState = this.state;\n            this.sectionStart = this.index + 1;\n        }\n        else if (c === CharCodes.Slash) {\n            this.state = State.InSelfClosingTag;\n        }\n        else if (!isWhitespace(c)) {\n            this.state = State.InAttributeName;\n            this.sectionStart = this.index;\n        }\n    }\n    stateInSelfClosingTag(c) {\n        if (c === CharCodes.Gt) {\n            this.cbs.onselfclosingtag(this.index);\n            this.state = State.Text;\n            this.baseState = State.Text;\n            this.sectionStart = this.index + 1;\n            this.isSpecial = false; // Reset special state, in case of self-closing special tags\n        }\n        else if (!isWhitespace(c)) {\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        }\n    }\n    stateInAttributeName(c) {\n        if (c === CharCodes.Eq || isEndOfTagSection(c)) {\n            this.cbs.onattribname(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.state = State.AfterAttributeName;\n            this.stateAfterAttributeName(c);\n        }\n    }\n    stateAfterAttributeName(c) {\n        if (c === CharCodes.Eq) {\n            this.state = State.BeforeAttributeValue;\n        }\n        else if (c === CharCodes.Slash || c === CharCodes.Gt) {\n            this.cbs.onattribend(QuoteType.NoValue, this.index);\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        }\n        else if (!isWhitespace(c)) {\n            this.cbs.onattribend(QuoteType.NoValue, this.index);\n            this.state = State.InAttributeName;\n            this.sectionStart = this.index;\n        }\n    }\n    stateBeforeAttributeValue(c) {\n        if (c === CharCodes.DoubleQuote) {\n            this.state = State.InAttributeValueDq;\n            this.sectionStart = this.index + 1;\n        }\n        else if (c === CharCodes.SingleQuote) {\n            this.state = State.InAttributeValueSq;\n            this.sectionStart = this.index + 1;\n        }\n        else if (!isWhitespace(c)) {\n            this.sectionStart = this.index;\n            this.state = State.InAttributeValueNq;\n            this.stateInAttributeValueNoQuotes(c); // Reconsume token\n        }\n    }\n    handleInAttributeValue(c, quote) {\n        if (c === quote ||\n            (!this.decodeEntities && this.fastForwardTo(quote))) {\n            this.cbs.onattribdata(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.cbs.onattribend(quote === CharCodes.DoubleQuote\n                ? QuoteType.Double\n                : QuoteType.Single, this.index);\n            this.state = State.BeforeAttributeName;\n        }\n        else if (this.decodeEntities && c === CharCodes.Amp) {\n            this.baseState = this.state;\n            this.state = State.BeforeEntity;\n        }\n    }\n    stateInAttributeValueDoubleQuotes(c) {\n        this.handleInAttributeValue(c, CharCodes.DoubleQuote);\n    }\n    stateInAttributeValueSingleQuotes(c) {\n        this.handleInAttributeValue(c, CharCodes.SingleQuote);\n    }\n    stateInAttributeValueNoQuotes(c) {\n        if (isWhitespace(c) || c === CharCodes.Gt) {\n            this.cbs.onattribdata(this.sectionStart, this.index);\n            this.sectionStart = -1;\n            this.cbs.onattribend(QuoteType.Unquoted, this.index);\n            this.state = State.BeforeAttributeName;\n            this.stateBeforeAttributeName(c);\n        }\n        else if (this.decodeEntities && c === CharCodes.Amp) {\n            this.baseState = this.state;\n            this.state = State.BeforeEntity;\n        }\n    }\n    stateBeforeDeclaration(c) {\n        if (c === CharCodes.OpeningSquareBracket) {\n            this.state = State.CDATASequence;\n            this.sequenceIndex = 0;\n        }\n        else {\n            this.state =\n                c === CharCodes.Dash\n                    ? State.BeforeComment\n                    : State.InDeclaration;\n        }\n    }\n    stateInDeclaration(c) {\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.cbs.ondeclaration(this.sectionStart, this.index);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    stateInProcessingInstruction(c) {\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.cbs.onprocessinginstruction(this.sectionStart, this.index);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    stateBeforeComment(c) {\n        if (c === CharCodes.Dash) {\n            this.state = State.InCommentLike;\n            this.currentSequence = Sequences.CommentEnd;\n            // Allow short comments (eg. <!-->)\n            this.sequenceIndex = 2;\n            this.sectionStart = this.index + 1;\n        }\n        else {\n            this.state = State.InDeclaration;\n        }\n    }\n    stateInSpecialComment(c) {\n        if (c === CharCodes.Gt || this.fastForwardTo(CharCodes.Gt)) {\n            this.cbs.oncomment(this.sectionStart, this.index, 0);\n            this.state = State.Text;\n            this.sectionStart = this.index + 1;\n        }\n    }\n    stateBeforeSpecialS(c) {\n        const lower = c | 0x20;\n        if (lower === Sequences.ScriptEnd[3]) {\n            this.startSpecial(Sequences.ScriptEnd, 4);\n        }\n        else if (lower === Sequences.StyleEnd[3]) {\n            this.startSpecial(Sequences.StyleEnd, 4);\n        }\n        else {\n            this.state = State.InTagName;\n            this.stateInTagName(c); // Consume the token again\n        }\n    }\n    stateBeforeEntity(c) {\n        // Start excess with 1 to include the '&'\n        this.entityExcess = 1;\n        this.entityResult = 0;\n        if (c === CharCodes.Number) {\n            this.state = State.BeforeNumericEntity;\n        }\n        else if (c === CharCodes.Amp) {\n            // We have two `&` characters in a row. Stay in the current state.\n        }\n        else {\n            this.trieIndex = 0;\n            this.trieCurrent = this.entityTrie[0];\n            this.state = State.InNamedEntity;\n            this.stateInNamedEntity(c);\n        }\n    }\n    stateInNamedEntity(c) {\n        this.entityExcess += 1;\n        this.trieIndex = determineBranch(this.entityTrie, this.trieCurrent, this.trieIndex + 1, c);\n        if (this.trieIndex < 0) {\n            this.emitNamedEntity();\n            this.index--;\n            return;\n        }\n        this.trieCurrent = this.entityTrie[this.trieIndex];\n        const masked = this.trieCurrent & BinTrieFlags.VALUE_LENGTH;\n        // If the branch is a value, store it and continue\n        if (masked) {\n            // The mask is the number of bytes of the value, including the current byte.\n            const valueLength = (masked >> 14) - 1;\n            // If we have a legacy entity while parsing strictly, just skip the number of bytes\n            if (!this.allowLegacyEntity() && c !== CharCodes.Semi) {\n                this.trieIndex += valueLength;\n            }\n            else {\n                // Add 1 as we have already incremented the excess\n                const entityStart = this.index - this.entityExcess + 1;\n                if (entityStart > this.sectionStart) {\n                    this.emitPartial(this.sectionStart, entityStart);\n                }\n                // If this is a surrogate pair, consume the next two bytes\n                this.entityResult = this.trieIndex;\n                this.trieIndex += valueLength;\n                this.entityExcess = 0;\n                this.sectionStart = this.index + 1;\n                if (valueLength === 0) {\n                    this.emitNamedEntity();\n                }\n            }\n        }\n    }\n    emitNamedEntity() {\n        this.state = this.baseState;\n        if (this.entityResult === 0) {\n            return;\n        }\n        const valueLength = (this.entityTrie[this.entityResult] & BinTrieFlags.VALUE_LENGTH) >>\n            14;\n        switch (valueLength) {\n            case 1: {\n                this.emitCodePoint(this.entityTrie[this.entityResult] &\n                    ~BinTrieFlags.VALUE_LENGTH);\n                break;\n            }\n            case 2: {\n                this.emitCodePoint(this.entityTrie[this.entityResult + 1]);\n                break;\n            }\n            case 3: {\n                this.emitCodePoint(this.entityTrie[this.entityResult + 1]);\n                this.emitCodePoint(this.entityTrie[this.entityResult + 2]);\n            }\n        }\n    }\n    stateBeforeNumericEntity(c) {\n        if ((c | 0x20) === CharCodes.LowerX) {\n            this.entityExcess++;\n            this.state = State.InHexEntity;\n        }\n        else {\n            this.state = State.InNumericEntity;\n            this.stateInNumericEntity(c);\n        }\n    }\n    emitNumericEntity(strict) {\n        const entityStart = this.index - this.entityExcess - 1;\n        const numberStart = entityStart + 2 + Number(this.state === State.InHexEntity);\n        if (numberStart !== this.index) {\n            // Emit leading data if any\n            if (entityStart > this.sectionStart) {\n                this.emitPartial(this.sectionStart, entityStart);\n            }\n            this.sectionStart = this.index + Number(strict);\n            this.emitCodePoint(replaceCodePoint(this.entityResult));\n        }\n        this.state = this.baseState;\n    }\n    stateInNumericEntity(c) {\n        if (c === CharCodes.Semi) {\n            this.emitNumericEntity(true);\n        }\n        else if (isNumber(c)) {\n            this.entityResult = this.entityResult * 10 + (c - CharCodes.Zero);\n            this.entityExcess++;\n        }\n        else {\n            if (this.allowLegacyEntity()) {\n                this.emitNumericEntity(false);\n            }\n            else {\n                this.state = this.baseState;\n            }\n            this.index--;\n        }\n    }\n    stateInHexEntity(c) {\n        if (c === CharCodes.Semi) {\n            this.emitNumericEntity(true);\n        }\n        else if (isNumber(c)) {\n            this.entityResult = this.entityResult * 16 + (c - CharCodes.Zero);\n            this.entityExcess++;\n        }\n        else if (isHexDigit(c)) {\n            this.entityResult =\n                this.entityResult * 16 + ((c | 0x20) - CharCodes.LowerA + 10);\n            this.entityExcess++;\n        }\n        else {\n            if (this.allowLegacyEntity()) {\n                this.emitNumericEntity(false);\n            }\n            else {\n                this.state = this.baseState;\n            }\n            this.index--;\n        }\n    }\n    allowLegacyEntity() {\n        return (!this.xmlMode &&\n            (this.baseState === State.Text ||\n                this.baseState === State.InSpecialTag));\n    }\n    /**\n     * Remove data that has already been consumed from the buffer.\n     */\n    cleanup() {\n        // If we are inside of text or attributes, emit what we already have.\n        if (this.running && this.sectionStart !== this.index) {\n            if (this.state === State.Text ||\n                (this.state === State.InSpecialTag && this.sequenceIndex === 0)) {\n                this.cbs.ontext(this.sectionStart, this.index);\n                this.sectionStart = this.index;\n            }\n            else if (this.state === State.InAttributeValueDq ||\n                this.state === State.InAttributeValueSq ||\n                this.state === State.InAttributeValueNq) {\n                this.cbs.onattribdata(this.sectionStart, this.index);\n                this.sectionStart = this.index;\n            }\n        }\n    }\n    shouldContinue() {\n        return this.index < this.buffer.length + this.offset && this.running;\n    }\n    /**\n     * Iterates through the buffer, calling the function corresponding to the current state.\n     *\n     * States that are more likely to be hit are higher up, as a performance improvement.\n     */\n    parse() {\n        while (this.shouldContinue()) {\n            const c = this.buffer.charCodeAt(this.index - this.offset);\n            switch (this.state) {\n                case State.Text: {\n                    this.stateText(c);\n                    break;\n                }\n                case State.SpecialStartSequence: {\n                    this.stateSpecialStartSequence(c);\n                    break;\n                }\n                case State.InSpecialTag: {\n                    this.stateInSpecialTag(c);\n                    break;\n                }\n                case State.CDATASequence: {\n                    this.stateCDATASequence(c);\n                    break;\n                }\n                case State.InAttributeValueDq: {\n                    this.stateInAttributeValueDoubleQuotes(c);\n                    break;\n                }\n                case State.InAttributeName: {\n                    this.stateInAttributeName(c);\n                    break;\n                }\n                case State.InCommentLike: {\n                    this.stateInCommentLike(c);\n                    break;\n                }\n                case State.InSpecialComment: {\n                    this.stateInSpecialComment(c);\n                    break;\n                }\n                case State.BeforeAttributeName: {\n                    this.stateBeforeAttributeName(c);\n                    break;\n                }\n                case State.InTagName: {\n                    this.stateInTagName(c);\n                    break;\n                }\n                case State.InClosingTagName: {\n                    this.stateInClosingTagName(c);\n                    break;\n                }\n                case State.BeforeTagName: {\n                    this.stateBeforeTagName(c);\n                    break;\n                }\n                case State.AfterAttributeName: {\n                    this.stateAfterAttributeName(c);\n                    break;\n                }\n                case State.InAttributeValueSq: {\n                    this.stateInAttributeValueSingleQuotes(c);\n                    break;\n                }\n                case State.BeforeAttributeValue: {\n                    this.stateBeforeAttributeValue(c);\n                    break;\n                }\n                case State.BeforeClosingTagName: {\n                    this.stateBeforeClosingTagName(c);\n                    break;\n                }\n                case State.AfterClosingTagName: {\n                    this.stateAfterClosingTagName(c);\n                    break;\n                }\n                case State.BeforeSpecialS: {\n                    this.stateBeforeSpecialS(c);\n                    break;\n                }\n                case State.InAttributeValueNq: {\n                    this.stateInAttributeValueNoQuotes(c);\n                    break;\n                }\n                case State.InSelfClosingTag: {\n                    this.stateInSelfClosingTag(c);\n                    break;\n                }\n                case State.InDeclaration: {\n                    this.stateInDeclaration(c);\n                    break;\n                }\n                case State.BeforeDeclaration: {\n                    this.stateBeforeDeclaration(c);\n                    break;\n                }\n                case State.BeforeComment: {\n                    this.stateBeforeComment(c);\n                    break;\n                }\n                case State.InProcessingInstruction: {\n                    this.stateInProcessingInstruction(c);\n                    break;\n                }\n                case State.InNamedEntity: {\n                    this.stateInNamedEntity(c);\n                    break;\n                }\n                case State.BeforeEntity: {\n                    this.stateBeforeEntity(c);\n                    break;\n                }\n                case State.InHexEntity: {\n                    this.stateInHexEntity(c);\n                    break;\n                }\n                case State.InNumericEntity: {\n                    this.stateInNumericEntity(c);\n                    break;\n                }\n                default: {\n                    // `this._state === State.BeforeNumericEntity`\n                    this.stateBeforeNumericEntity(c);\n                }\n            }\n            this.index++;\n        }\n        this.cleanup();\n    }\n    finish() {\n        if (this.state === State.InNamedEntity) {\n            this.emitNamedEntity();\n        }\n        // If there is remaining data, emit it in a reasonable way\n        if (this.sectionStart < this.index) {\n            this.handleTrailingData();\n        }\n        this.cbs.onend();\n    }\n    /** Handle any trailing data. */\n    handleTrailingData() {\n        const endIndex = this.buffer.length + this.offset;\n        if (this.state === State.InCommentLike) {\n            if (this.currentSequence === Sequences.CdataEnd) {\n                this.cbs.oncdata(this.sectionStart, endIndex, 0);\n            }\n            else {\n                this.cbs.oncomment(this.sectionStart, endIndex, 0);\n            }\n        }\n        else if (this.state === State.InNumericEntity &&\n            this.allowLegacyEntity()) {\n            this.emitNumericEntity(false);\n            // All trailing data will have been consumed\n        }\n        else if (this.state === State.InHexEntity &&\n            this.allowLegacyEntity()) {\n            this.emitNumericEntity(false);\n            // All trailing data will have been consumed\n        }\n        else if (this.state === State.InTagName ||\n            this.state === State.BeforeAttributeName ||\n            this.state === State.BeforeAttributeValue ||\n            this.state === State.AfterAttributeName ||\n            this.state === State.InAttributeName ||\n            this.state === State.InAttributeValueSq ||\n            this.state === State.InAttributeValueDq ||\n            this.state === State.InAttributeValueNq ||\n            this.state === State.InClosingTagName) {\n            /*\n             * If we are currently in an opening or closing tag, us not calling the\n             * respective callback signals that the tag should be ignored.\n             */\n        }\n        else {\n            this.cbs.ontext(this.sectionStart, endIndex);\n        }\n    }\n    emitPartial(start, endIndex) {\n        if (this.baseState !== State.Text &&\n            this.baseState !== State.InSpecialTag) {\n            this.cbs.onattribdata(start, endIndex);\n        }\n        else {\n            this.cbs.ontext(start, endIndex);\n        }\n    }\n    emitCodePoint(cp) {\n        if (this.baseState !== State.Text &&\n            this.baseState !== State.InSpecialTag) {\n            this.cbs.onattribentity(cp);\n        }\n        else {\n            this.cbs.ontextentity(cp);\n        }\n    }\n}\n//# sourceMappingURL=Tokenizer.js.map","import Tokenizer, { QuoteType } from \"./Tokenizer.js\";\nimport { fromCodePoint } from \"entities/lib/decode.js\";\nconst formTags = new Set([\n    \"input\",\n    \"option\",\n    \"optgroup\",\n    \"select\",\n    \"button\",\n    \"datalist\",\n    \"textarea\",\n]);\nconst pTag = new Set([\"p\"]);\nconst tableSectionTags = new Set([\"thead\", \"tbody\"]);\nconst ddtTags = new Set([\"dd\", \"dt\"]);\nconst rtpTags = new Set([\"rt\", \"rp\"]);\nconst openImpliesClose = new Map([\n    [\"tr\", new Set([\"tr\", \"th\", \"td\"])],\n    [\"th\", new Set([\"th\"])],\n    [\"td\", new Set([\"thead\", \"th\", \"td\"])],\n    [\"body\", new Set([\"head\", \"link\", \"script\"])],\n    [\"li\", new Set([\"li\"])],\n    [\"p\", pTag],\n    [\"h1\", pTag],\n    [\"h2\", pTag],\n    [\"h3\", pTag],\n    [\"h4\", pTag],\n    [\"h5\", pTag],\n    [\"h6\", pTag],\n    [\"select\", formTags],\n    [\"input\", formTags],\n    [\"output\", formTags],\n    [\"button\", formTags],\n    [\"datalist\", formTags],\n    [\"textarea\", formTags],\n    [\"option\", new Set([\"option\"])],\n    [\"optgroup\", new Set([\"optgroup\", \"option\"])],\n    [\"dd\", ddtTags],\n    [\"dt\", ddtTags],\n    [\"address\", pTag],\n    [\"article\", pTag],\n    [\"aside\", pTag],\n    [\"blockquote\", pTag],\n    [\"details\", pTag],\n    [\"div\", pTag],\n    [\"dl\", pTag],\n    [\"fieldset\", pTag],\n    [\"figcaption\", pTag],\n    [\"figure\", pTag],\n    [\"footer\", pTag],\n    [\"form\", pTag],\n    [\"header\", pTag],\n    [\"hr\", pTag],\n    [\"main\", pTag],\n    [\"nav\", pTag],\n    [\"ol\", pTag],\n    [\"pre\", pTag],\n    [\"section\", pTag],\n    [\"table\", pTag],\n    [\"ul\", pTag],\n    [\"rt\", rtpTags],\n    [\"rp\", rtpTags],\n    [\"tbody\", tableSectionTags],\n    [\"tfoot\", tableSectionTags],\n]);\nconst voidElements = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\",\n]);\nconst foreignContextElements = new Set([\"math\", \"svg\"]);\nconst htmlIntegrationElements = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignobject\",\n    \"desc\",\n    \"title\",\n]);\nconst reNameEnd = /\\s|\\//;\nexport class Parser {\n    constructor(cbs, options = {}) {\n        var _a, _b, _c, _d, _e;\n        this.options = options;\n        /** The start index of the last event. */\n        this.startIndex = 0;\n        /** The end index of the last event. */\n        this.endIndex = 0;\n        /**\n         * Store the start index of the current open tag,\n         * so we can update the start index for attributes.\n         */\n        this.openTagStart = 0;\n        this.tagname = \"\";\n        this.attribname = \"\";\n        this.attribvalue = \"\";\n        this.attribs = null;\n        this.stack = [];\n        this.foreignContext = [];\n        this.buffers = [];\n        this.bufferOffset = 0;\n        /** The index of the last written buffer. Used when resuming after a `pause()`. */\n        this.writeIndex = 0;\n        /** Indicates whether the parser has finished running / `.end` has been called. */\n        this.ended = false;\n        this.cbs = cbs !== null && cbs !== void 0 ? cbs : {};\n        this.lowerCaseTagNames = (_a = options.lowerCaseTags) !== null && _a !== void 0 ? _a : !options.xmlMode;\n        this.lowerCaseAttributeNames =\n            (_b = options.lowerCaseAttributeNames) !== null && _b !== void 0 ? _b : !options.xmlMode;\n        this.tokenizer = new ((_c = options.Tokenizer) !== null && _c !== void 0 ? _c : Tokenizer)(this.options, this);\n        (_e = (_d = this.cbs).onparserinit) === null || _e === void 0 ? void 0 : _e.call(_d, this);\n    }\n    // Tokenizer event handlers\n    /** @internal */\n    ontext(start, endIndex) {\n        var _a, _b;\n        const data = this.getSlice(start, endIndex);\n        this.endIndex = endIndex - 1;\n        (_b = (_a = this.cbs).ontext) === null || _b === void 0 ? void 0 : _b.call(_a, data);\n        this.startIndex = endIndex;\n    }\n    /** @internal */\n    ontextentity(cp) {\n        var _a, _b;\n        /*\n         * Entities can be emitted on the character, or directly after.\n         * We use the section start here to get accurate indices.\n         */\n        const index = this.tokenizer.getSectionStart();\n        this.endIndex = index - 1;\n        (_b = (_a = this.cbs).ontext) === null || _b === void 0 ? void 0 : _b.call(_a, fromCodePoint(cp));\n        this.startIndex = index;\n    }\n    isVoidElement(name) {\n        return !this.options.xmlMode && voidElements.has(name);\n    }\n    /** @internal */\n    onopentagname(start, endIndex) {\n        this.endIndex = endIndex;\n        let name = this.getSlice(start, endIndex);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        this.emitOpenTag(name);\n    }\n    emitOpenTag(name) {\n        var _a, _b, _c, _d;\n        this.openTagStart = this.startIndex;\n        this.tagname = name;\n        const impliesClose = !this.options.xmlMode && openImpliesClose.get(name);\n        if (impliesClose) {\n            while (this.stack.length > 0 &&\n                impliesClose.has(this.stack[this.stack.length - 1])) {\n                const element = this.stack.pop();\n                (_b = (_a = this.cbs).onclosetag) === null || _b === void 0 ? void 0 : _b.call(_a, element, true);\n            }\n        }\n        if (!this.isVoidElement(name)) {\n            this.stack.push(name);\n            if (foreignContextElements.has(name)) {\n                this.foreignContext.push(true);\n            }\n            else if (htmlIntegrationElements.has(name)) {\n                this.foreignContext.push(false);\n            }\n        }\n        (_d = (_c = this.cbs).onopentagname) === null || _d === void 0 ? void 0 : _d.call(_c, name);\n        if (this.cbs.onopentag)\n            this.attribs = {};\n    }\n    endOpenTag(isImplied) {\n        var _a, _b;\n        this.startIndex = this.openTagStart;\n        if (this.attribs) {\n            (_b = (_a = this.cbs).onopentag) === null || _b === void 0 ? void 0 : _b.call(_a, this.tagname, this.attribs, isImplied);\n            this.attribs = null;\n        }\n        if (this.cbs.onclosetag && this.isVoidElement(this.tagname)) {\n            this.cbs.onclosetag(this.tagname, true);\n        }\n        this.tagname = \"\";\n    }\n    /** @internal */\n    onopentagend(endIndex) {\n        this.endIndex = endIndex;\n        this.endOpenTag(false);\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    onclosetag(start, endIndex) {\n        var _a, _b, _c, _d, _e, _f;\n        this.endIndex = endIndex;\n        let name = this.getSlice(start, endIndex);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        if (foreignContextElements.has(name) ||\n            htmlIntegrationElements.has(name)) {\n            this.foreignContext.pop();\n        }\n        if (!this.isVoidElement(name)) {\n            const pos = this.stack.lastIndexOf(name);\n            if (pos !== -1) {\n                if (this.cbs.onclosetag) {\n                    let count = this.stack.length - pos;\n                    while (count--) {\n                        // We know the stack has sufficient elements.\n                        this.cbs.onclosetag(this.stack.pop(), count !== 0);\n                    }\n                }\n                else\n                    this.stack.length = pos;\n            }\n            else if (!this.options.xmlMode && name === \"p\") {\n                // Implicit open before close\n                this.emitOpenTag(\"p\");\n                this.closeCurrentTag(true);\n            }\n        }\n        else if (!this.options.xmlMode && name === \"br\") {\n            // We can't use `emitOpenTag` for implicit open, as `br` would be implicitly closed.\n            (_b = (_a = this.cbs).onopentagname) === null || _b === void 0 ? void 0 : _b.call(_a, \"br\");\n            (_d = (_c = this.cbs).onopentag) === null || _d === void 0 ? void 0 : _d.call(_c, \"br\", {}, true);\n            (_f = (_e = this.cbs).onclosetag) === null || _f === void 0 ? void 0 : _f.call(_e, \"br\", false);\n        }\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    onselfclosingtag(endIndex) {\n        this.endIndex = endIndex;\n        if (this.options.xmlMode ||\n            this.options.recognizeSelfClosing ||\n            this.foreignContext[this.foreignContext.length - 1]) {\n            this.closeCurrentTag(false);\n            // Set `startIndex` for next node\n            this.startIndex = endIndex + 1;\n        }\n        else {\n            // Ignore the fact that the tag is self-closing.\n            this.onopentagend(endIndex);\n        }\n    }\n    closeCurrentTag(isOpenImplied) {\n        var _a, _b;\n        const name = this.tagname;\n        this.endOpenTag(isOpenImplied);\n        // Self-closing tags will be on the top of the stack\n        if (this.stack[this.stack.length - 1] === name) {\n            // If the opening tag isn't implied, the closing tag has to be implied.\n            (_b = (_a = this.cbs).onclosetag) === null || _b === void 0 ? void 0 : _b.call(_a, name, !isOpenImplied);\n            this.stack.pop();\n        }\n    }\n    /** @internal */\n    onattribname(start, endIndex) {\n        this.startIndex = start;\n        const name = this.getSlice(start, endIndex);\n        this.attribname = this.lowerCaseAttributeNames\n            ? name.toLowerCase()\n            : name;\n    }\n    /** @internal */\n    onattribdata(start, endIndex) {\n        this.attribvalue += this.getSlice(start, endIndex);\n    }\n    /** @internal */\n    onattribentity(cp) {\n        this.attribvalue += fromCodePoint(cp);\n    }\n    /** @internal */\n    onattribend(quote, endIndex) {\n        var _a, _b;\n        this.endIndex = endIndex;\n        (_b = (_a = this.cbs).onattribute) === null || _b === void 0 ? void 0 : _b.call(_a, this.attribname, this.attribvalue, quote === QuoteType.Double\n            ? '\"'\n            : quote === QuoteType.Single\n                ? \"'\"\n                : quote === QuoteType.NoValue\n                    ? undefined\n                    : null);\n        if (this.attribs &&\n            !Object.prototype.hasOwnProperty.call(this.attribs, this.attribname)) {\n            this.attribs[this.attribname] = this.attribvalue;\n        }\n        this.attribvalue = \"\";\n    }\n    getInstructionName(value) {\n        const index = value.search(reNameEnd);\n        let name = index < 0 ? value : value.substr(0, index);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        return name;\n    }\n    /** @internal */\n    ondeclaration(start, endIndex) {\n        this.endIndex = endIndex;\n        const value = this.getSlice(start, endIndex);\n        if (this.cbs.onprocessinginstruction) {\n            const name = this.getInstructionName(value);\n            this.cbs.onprocessinginstruction(`!${name}`, `!${value}`);\n        }\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    onprocessinginstruction(start, endIndex) {\n        this.endIndex = endIndex;\n        const value = this.getSlice(start, endIndex);\n        if (this.cbs.onprocessinginstruction) {\n            const name = this.getInstructionName(value);\n            this.cbs.onprocessinginstruction(`?${name}`, `?${value}`);\n        }\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    oncomment(start, endIndex, offset) {\n        var _a, _b, _c, _d;\n        this.endIndex = endIndex;\n        (_b = (_a = this.cbs).oncomment) === null || _b === void 0 ? void 0 : _b.call(_a, this.getSlice(start, endIndex - offset));\n        (_d = (_c = this.cbs).oncommentend) === null || _d === void 0 ? void 0 : _d.call(_c);\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    oncdata(start, endIndex, offset) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n        this.endIndex = endIndex;\n        const value = this.getSlice(start, endIndex - offset);\n        if (this.options.xmlMode || this.options.recognizeCDATA) {\n            (_b = (_a = this.cbs).oncdatastart) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_d = (_c = this.cbs).ontext) === null || _d === void 0 ? void 0 : _d.call(_c, value);\n            (_f = (_e = this.cbs).oncdataend) === null || _f === void 0 ? void 0 : _f.call(_e);\n        }\n        else {\n            (_h = (_g = this.cbs).oncomment) === null || _h === void 0 ? void 0 : _h.call(_g, `[CDATA[${value}]]`);\n            (_k = (_j = this.cbs).oncommentend) === null || _k === void 0 ? void 0 : _k.call(_j);\n        }\n        // Set `startIndex` for next node\n        this.startIndex = endIndex + 1;\n    }\n    /** @internal */\n    onend() {\n        var _a, _b;\n        if (this.cbs.onclosetag) {\n            // Set the end index for all remaining tags\n            this.endIndex = this.startIndex;\n            for (let index = this.stack.length; index > 0; this.cbs.onclosetag(this.stack[--index], true))\n                ;\n        }\n        (_b = (_a = this.cbs).onend) === null || _b === void 0 ? void 0 : _b.call(_a);\n    }\n    /**\n     * Resets the parser to a blank state, ready to parse a new HTML document\n     */\n    reset() {\n        var _a, _b, _c, _d;\n        (_b = (_a = this.cbs).onreset) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.tokenizer.reset();\n        this.tagname = \"\";\n        this.attribname = \"\";\n        this.attribs = null;\n        this.stack.length = 0;\n        this.startIndex = 0;\n        this.endIndex = 0;\n        (_d = (_c = this.cbs).onparserinit) === null || _d === void 0 ? void 0 : _d.call(_c, this);\n        this.buffers.length = 0;\n        this.bufferOffset = 0;\n        this.writeIndex = 0;\n        this.ended = false;\n    }\n    /**\n     * Resets the parser, then parses a complete document and\n     * pushes it to the handler.\n     *\n     * @param data Document to parse.\n     */\n    parseComplete(data) {\n        this.reset();\n        this.end(data);\n    }\n    getSlice(start, end) {\n        while (start - this.bufferOffset >= this.buffers[0].length) {\n            this.shiftBuffer();\n        }\n        let slice = this.buffers[0].slice(start - this.bufferOffset, end - this.bufferOffset);\n        while (end - this.bufferOffset > this.buffers[0].length) {\n            this.shiftBuffer();\n            slice += this.buffers[0].slice(0, end - this.bufferOffset);\n        }\n        return slice;\n    }\n    shiftBuffer() {\n        this.bufferOffset += this.buffers[0].length;\n        this.writeIndex--;\n        this.buffers.shift();\n    }\n    /**\n     * Parses a chunk of data and calls the corresponding callbacks.\n     *\n     * @param chunk Chunk to parse.\n     */\n    write(chunk) {\n        var _a, _b;\n        if (this.ended) {\n            (_b = (_a = this.cbs).onerror) === null || _b === void 0 ? void 0 : _b.call(_a, new Error(\".write() after done!\"));\n            return;\n        }\n        this.buffers.push(chunk);\n        if (this.tokenizer.running) {\n            this.tokenizer.write(chunk);\n            this.writeIndex++;\n        }\n    }\n    /**\n     * Parses the end of the buffer and clears the stack, calls onend.\n     *\n     * @param chunk Optional final chunk to parse.\n     */\n    end(chunk) {\n        var _a, _b;\n        if (this.ended) {\n            (_b = (_a = this.cbs).onerror) === null || _b === void 0 ? void 0 : _b.call(_a, new Error(\".end() after done!\"));\n            return;\n        }\n        if (chunk)\n            this.write(chunk);\n        this.ended = true;\n        this.tokenizer.end();\n    }\n    /**\n     * Pauses parsing. The parser won't emit events until `resume` is called.\n     */\n    pause() {\n        this.tokenizer.pause();\n    }\n    /**\n     * Resumes parsing after `pause` was called.\n     */\n    resume() {\n        this.tokenizer.resume();\n        while (this.tokenizer.running &&\n            this.writeIndex < this.buffers.length) {\n            this.tokenizer.write(this.buffers[this.writeIndex++]);\n        }\n        if (this.ended)\n            this.tokenizer.end();\n    }\n    /**\n     * Alias of `write`, for backwards compatibility.\n     *\n     * @param chunk Chunk to parse.\n     * @deprecated\n     */\n    parseChunk(chunk) {\n        this.write(chunk);\n    }\n    /**\n     * Alias of `end`, for backwards compatibility.\n     *\n     * @param chunk Optional final chunk to parse.\n     * @deprecated\n     */\n    done(chunk) {\n        this.end(chunk);\n    }\n}\n//# sourceMappingURL=Parser.js.map","/** Types of elements found in htmlparser2's DOM */\nexport var ElementType;\n(function (ElementType) {\n    /** Type for the root element of a document */\n    ElementType[\"Root\"] = \"root\";\n    /** Type for Text */\n    ElementType[\"Text\"] = \"text\";\n    /** Type for <? ... ?> */\n    ElementType[\"Directive\"] = \"directive\";\n    /** Type for <!-- ... --> */\n    ElementType[\"Comment\"] = \"comment\";\n    /** Type for <script> tags */\n    ElementType[\"Script\"] = \"script\";\n    /** Type for <style> tags */\n    ElementType[\"Style\"] = \"style\";\n    /** Type for Any tag */\n    ElementType[\"Tag\"] = \"tag\";\n    /** Type for <![CDATA[ ... ]]> */\n    ElementType[\"CDATA\"] = \"cdata\";\n    /** Type for <!doctype ...> */\n    ElementType[\"Doctype\"] = \"doctype\";\n})(ElementType || (ElementType = {}));\n/**\n * Tests whether an element is a tag or not.\n *\n * @param elem Element to test\n */\nexport function isTag(elem) {\n    return (elem.type === ElementType.Tag ||\n        elem.type === ElementType.Script ||\n        elem.type === ElementType.Style);\n}\n// Exports for backwards compatibility\n/** Type for the root element of a document */\nexport const Root = ElementType.Root;\n/** Type for Text */\nexport const Text = ElementType.Text;\n/** Type for <? ... ?> */\nexport const Directive = ElementType.Directive;\n/** Type for <!-- ... --> */\nexport const Comment = ElementType.Comment;\n/** Type for <script> tags */\nexport const Script = ElementType.Script;\n/** Type for <style> tags */\nexport const Style = ElementType.Style;\n/** Type for Any tag */\nexport const Tag = ElementType.Tag;\n/** Type for <![CDATA[ ... ]]> */\nexport const CDATA = ElementType.CDATA;\n/** Type for <!doctype ...> */\nexport const Doctype = ElementType.Doctype;\n","import { ElementType, isTag as isTagRaw } from \"domelementtype\";\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nexport class Node {\n    constructor() {\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    // Read-write aliases for properties\n    /**\n     * Same as {@link parent}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get parentNode() {\n        return this.parent;\n    }\n    set parentNode(parent) {\n        this.parent = parent;\n    }\n    /**\n     * Same as {@link prev}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get previousSibling() {\n        return this.prev;\n    }\n    set previousSibling(prev) {\n        this.prev = prev;\n    }\n    /**\n     * Same as {@link next}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get nextSibling() {\n        return this.next;\n    }\n    set nextSibling(next) {\n        this.next = next;\n    }\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    cloneNode(recursive = false) {\n        return cloneNode(this, recursive);\n    }\n}\n/**\n * A node that contains some data.\n */\nexport class DataNode extends Node {\n    /**\n     * @param data The content of the data node\n     */\n    constructor(data) {\n        super();\n        this.data = data;\n    }\n    /**\n     * Same as {@link data}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get nodeValue() {\n        return this.data;\n    }\n    set nodeValue(data) {\n        this.data = data;\n    }\n}\n/**\n * Text within the document.\n */\nexport class Text extends DataNode {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.Text;\n    }\n    get nodeType() {\n        return 3;\n    }\n}\n/**\n * Comments within the document.\n */\nexport class Comment extends DataNode {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.Comment;\n    }\n    get nodeType() {\n        return 8;\n    }\n}\n/**\n * Processing instructions, including doc types.\n */\nexport class ProcessingInstruction extends DataNode {\n    constructor(name, data) {\n        super(data);\n        this.name = name;\n        this.type = ElementType.Directive;\n    }\n    get nodeType() {\n        return 1;\n    }\n}\n/**\n * A `Node` that can have children.\n */\nexport class NodeWithChildren extends Node {\n    /**\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    constructor(children) {\n        super();\n        this.children = children;\n    }\n    // Aliases\n    /** First child of the node. */\n    get firstChild() {\n        var _a;\n        return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n    }\n    /** Last child of the node. */\n    get lastChild() {\n        return this.children.length > 0\n            ? this.children[this.children.length - 1]\n            : null;\n    }\n    /**\n     * Same as {@link children}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get childNodes() {\n        return this.children;\n    }\n    set childNodes(children) {\n        this.children = children;\n    }\n}\nexport class CDATA extends NodeWithChildren {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.CDATA;\n    }\n    get nodeType() {\n        return 4;\n    }\n}\n/**\n * The root node of the document.\n */\nexport class Document extends NodeWithChildren {\n    constructor() {\n        super(...arguments);\n        this.type = ElementType.Root;\n    }\n    get nodeType() {\n        return 9;\n    }\n}\n/**\n * An element within the DOM.\n */\nexport class Element extends NodeWithChildren {\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    constructor(name, attribs, children = [], type = name === \"script\"\n        ? ElementType.Script\n        : name === \"style\"\n            ? ElementType.Style\n            : ElementType.Tag) {\n        super(children);\n        this.name = name;\n        this.attribs = attribs;\n        this.type = type;\n    }\n    get nodeType() {\n        return 1;\n    }\n    // DOM Level 1 aliases\n    /**\n     * Same as {@link name}.\n     * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.\n     */\n    get tagName() {\n        return this.name;\n    }\n    set tagName(name) {\n        this.name = name;\n    }\n    get attributes() {\n        return Object.keys(this.attribs).map((name) => {\n            var _a, _b;\n            return ({\n                name,\n                value: this.attribs[name],\n                namespace: (_a = this[\"x-attribsNamespace\"]) === null || _a === void 0 ? void 0 : _a[name],\n                prefix: (_b = this[\"x-attribsPrefix\"]) === null || _b === void 0 ? void 0 : _b[name],\n            });\n        });\n    }\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `Element`, `false` otherwise.\n */\nexport function isTag(node) {\n    return isTagRaw(node);\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `CDATA`, `false` otherwise.\n */\nexport function isCDATA(node) {\n    return node.type === ElementType.CDATA;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Text`, `false` otherwise.\n */\nexport function isText(node) {\n    return node.type === ElementType.Text;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `Comment`, `false` otherwise.\n */\nexport function isComment(node) {\n    return node.type === ElementType.Comment;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nexport function isDirective(node) {\n    return node.type === ElementType.Directive;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has the type `ProcessingInstruction`, `false` otherwise.\n */\nexport function isDocument(node) {\n    return node.type === ElementType.Root;\n}\n/**\n * @param node Node to check.\n * @returns `true` if the node has children, `false` otherwise.\n */\nexport function hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nexport function cloneNode(node, recursive = false) {\n    let result;\n    if (isText(node)) {\n        result = new Text(node.data);\n    }\n    else if (isComment(node)) {\n        result = new Comment(node.data);\n    }\n    else if (isTag(node)) {\n        const children = recursive ? cloneChildren(node.children) : [];\n        const clone = new Element(node.name, { ...node.attribs }, children);\n        children.forEach((child) => (child.parent = clone));\n        if (node.namespace != null) {\n            clone.namespace = node.namespace;\n        }\n        if (node[\"x-attribsNamespace\"]) {\n            clone[\"x-attribsNamespace\"] = { ...node[\"x-attribsNamespace\"] };\n        }\n        if (node[\"x-attribsPrefix\"]) {\n            clone[\"x-attribsPrefix\"] = { ...node[\"x-attribsPrefix\"] };\n        }\n        result = clone;\n    }\n    else if (isCDATA(node)) {\n        const children = recursive ? cloneChildren(node.children) : [];\n        const clone = new CDATA(children);\n        children.forEach((child) => (child.parent = clone));\n        result = clone;\n    }\n    else if (isDocument(node)) {\n        const children = recursive ? cloneChildren(node.children) : [];\n        const clone = new Document(children);\n        children.forEach((child) => (child.parent = clone));\n        if (node[\"x-mode\"]) {\n            clone[\"x-mode\"] = node[\"x-mode\"];\n        }\n        result = clone;\n    }\n    else if (isDirective(node)) {\n        const instruction = new ProcessingInstruction(node.name, node.data);\n        if (node[\"x-name\"] != null) {\n            instruction[\"x-name\"] = node[\"x-name\"];\n            instruction[\"x-publicId\"] = node[\"x-publicId\"];\n            instruction[\"x-systemId\"] = node[\"x-systemId\"];\n        }\n        result = instruction;\n    }\n    else {\n        throw new Error(`Not implemented yet: ${node.type}`);\n    }\n    result.startIndex = node.startIndex;\n    result.endIndex = node.endIndex;\n    if (node.sourceCodeLocation != null) {\n        result.sourceCodeLocation = node.sourceCodeLocation;\n    }\n    return result;\n}\nfunction cloneChildren(childs) {\n    const children = childs.map((child) => cloneNode(child, true));\n    for (let i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n","import { ElementType } from \"domelementtype\";\nimport { Element, Text, Comment, CDATA, Document, ProcessingInstruction, } from \"./node.js\";\nexport * from \"./node.js\";\n// Default options\nconst defaultOpts = {\n    withStartIndices: false,\n    withEndIndices: false,\n    xmlMode: false,\n};\nexport class DomHandler {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    constructor(callback, options, elementCB) {\n        /** The elements of the DOM */\n        this.dom = [];\n        /** The root element for the DOM */\n        this.root = new Document(this.dom);\n        /** Indicated whether parsing has been completed. */\n        this.done = false;\n        /** Stack of open tags. */\n        this.tagStack = [this.root];\n        /** A data node that is still being written to. */\n        this.lastNode = null;\n        /** Reference to the parser instance. Used for location information. */\n        this.parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this.callback = callback !== null && callback !== void 0 ? callback : null;\n        this.options = options !== null && options !== void 0 ? options : defaultOpts;\n        this.elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    onparserinit(parser) {\n        this.parser = parser;\n    }\n    // Resets the handler back to starting state\n    onreset() {\n        this.dom = [];\n        this.root = new Document(this.dom);\n        this.done = false;\n        this.tagStack = [this.root];\n        this.lastNode = null;\n        this.parser = null;\n    }\n    // Signals the handler that parsing is done\n    onend() {\n        if (this.done)\n            return;\n        this.done = true;\n        this.parser = null;\n        this.handleCallback(null);\n    }\n    onerror(error) {\n        this.handleCallback(error);\n    }\n    onclosetag() {\n        this.lastNode = null;\n        const elem = this.tagStack.pop();\n        if (this.options.withEndIndices) {\n            elem.endIndex = this.parser.endIndex;\n        }\n        if (this.elementCB)\n            this.elementCB(elem);\n    }\n    onopentag(name, attribs) {\n        const type = this.options.xmlMode ? ElementType.Tag : undefined;\n        const element = new Element(name, attribs, undefined, type);\n        this.addNode(element);\n        this.tagStack.push(element);\n    }\n    ontext(data) {\n        const { lastNode } = this;\n        if (lastNode && lastNode.type === ElementType.Text) {\n            lastNode.data += data;\n            if (this.options.withEndIndices) {\n                lastNode.endIndex = this.parser.endIndex;\n            }\n        }\n        else {\n            const node = new Text(data);\n            this.addNode(node);\n            this.lastNode = node;\n        }\n    }\n    oncomment(data) {\n        if (this.lastNode && this.lastNode.type === ElementType.Comment) {\n            this.lastNode.data += data;\n            return;\n        }\n        const node = new Comment(data);\n        this.addNode(node);\n        this.lastNode = node;\n    }\n    oncommentend() {\n        this.lastNode = null;\n    }\n    oncdatastart() {\n        const text = new Text(\"\");\n        const node = new CDATA([text]);\n        this.addNode(node);\n        text.parent = node;\n        this.lastNode = text;\n    }\n    oncdataend() {\n        this.lastNode = null;\n    }\n    onprocessinginstruction(name, data) {\n        const node = new ProcessingInstruction(name, data);\n        this.addNode(node);\n    }\n    handleCallback(error) {\n        if (typeof this.callback === \"function\") {\n            this.callback(error, this.dom);\n        }\n        else if (error) {\n            throw error;\n        }\n    }\n    addNode(node) {\n        const parent = this.tagStack[this.tagStack.length - 1];\n        const previousSibling = parent.children[parent.children.length - 1];\n        if (this.options.withStartIndices) {\n            node.startIndex = this.parser.startIndex;\n        }\n        if (this.options.withEndIndices) {\n            node.endIndex = this.parser.endIndex;\n        }\n        parent.children.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        node.parent = parent;\n        this.lastNode = null;\n    }\n}\nexport default DomHandler;\n","import { isTag, isCDATA, isText, hasChildren, isComment, } from \"domhandler\";\nimport renderHTML from \"dom-serializer\";\nimport { ElementType } from \"domelementtype\";\n/**\n * @category Stringify\n * @deprecated Use the `dom-serializer` module directly.\n * @param node Node to get the outer HTML of.\n * @param options Options for serialization.\n * @returns `node`'s outer HTML.\n */\nexport function getOuterHTML(node, options) {\n    return renderHTML(node, options);\n}\n/**\n * @category Stringify\n * @deprecated Use the `dom-serializer` module directly.\n * @param node Node to get the inner HTML of.\n * @param options Options for serialization.\n * @returns `node`'s inner HTML.\n */\nexport function getInnerHTML(node, options) {\n    return hasChildren(node)\n        ? node.children.map((node) => getOuterHTML(node, options)).join(\"\")\n        : \"\";\n}\n/**\n * Get a node's inner text. Same as `textContent`, but inserts newlines for `<br>` tags. Ignores comments.\n *\n * @category Stringify\n * @deprecated Use `textContent` instead.\n * @param node Node to get the inner text of.\n * @returns `node`'s inner text.\n */\nexport function getText(node) {\n    if (Array.isArray(node))\n        return node.map(getText).join(\"\");\n    if (isTag(node))\n        return node.name === \"br\" ? \"\\n\" : getText(node.children);\n    if (isCDATA(node))\n        return getText(node.children);\n    if (isText(node))\n        return node.data;\n    return \"\";\n}\n/**\n * Get a node's text content. Ignores comments.\n *\n * @category Stringify\n * @param node Node to get the text content of.\n * @returns `node`'s text content.\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent}\n */\nexport function textContent(node) {\n    if (Array.isArray(node))\n        return node.map(textContent).join(\"\");\n    if (hasChildren(node) && !isComment(node)) {\n        return textContent(node.children);\n    }\n    if (isText(node))\n        return node.data;\n    return \"\";\n}\n/**\n * Get a node's inner text, ignoring `<script>` and `<style>` tags. Ignores comments.\n *\n * @category Stringify\n * @param node Node to get the inner text of.\n * @returns `node`'s inner text.\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Node/innerText}\n */\nexport function innerText(node) {\n    if (Array.isArray(node))\n        return node.map(innerText).join(\"\");\n    if (hasChildren(node) && (node.type === ElementType.Tag || isCDATA(node))) {\n        return innerText(node.children);\n    }\n    if (isText(node))\n        return node.data;\n    return \"\";\n}\n//# sourceMappingURL=stringify.js.map","import { isTag, hasChildren } from \"domhandler\";\n/**\n * Search a node and its children for nodes passing a test function. If `node` is not an array, it will be wrapped in one.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param node Node to search. Will be included in the result set if it matches.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes passing `test`.\n */\nexport function filter(test, node, recurse = true, limit = Infinity) {\n    return find(test, Array.isArray(node) ? node : [node], recurse, limit);\n}\n/**\n * Search an array of nodes and their children for nodes passing a test function.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes passing `test`.\n */\nexport function find(test, nodes, recurse, limit) {\n    const result = [];\n    /** Stack of the arrays we are looking at. */\n    const nodeStack = [Array.isArray(nodes) ? nodes : [nodes]];\n    /** Stack of the indices within the arrays. */\n    const indexStack = [0];\n    for (;;) {\n        // First, check if the current array has any more elements to look at.\n        if (indexStack[0] >= nodeStack[0].length) {\n            // If we have no more arrays to look at, we are done.\n            if (indexStack.length === 1) {\n                return result;\n            }\n            // Otherwise, remove the current array from the stack.\n            nodeStack.shift();\n            indexStack.shift();\n            // Loop back to the start to continue with the next array.\n            continue;\n        }\n        const elem = nodeStack[0][indexStack[0]++];\n        if (test(elem)) {\n            result.push(elem);\n            if (--limit <= 0)\n                return result;\n        }\n        if (recurse && hasChildren(elem) && elem.children.length > 0) {\n            /*\n             * Add the children to the stack. We are depth-first, so this is\n             * the next array we look at.\n             */\n            indexStack.unshift(0);\n            nodeStack.unshift(elem.children);\n        }\n    }\n}\n/**\n * Finds the first element inside of an array that matches a test function. This is an alias for `Array.prototype.find`.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns The first node in the array that passes `test`.\n * @deprecated Use `Array.prototype.find` directly.\n */\nexport function findOneChild(test, nodes) {\n    return nodes.find(test);\n}\n/**\n * Finds one element in a tree that passes a test.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Node or array of nodes to search.\n * @param recurse Also consider child nodes.\n * @returns The first node that passes `test`.\n */\nexport function findOne(test, nodes, recurse = true) {\n    const searchedNodes = Array.isArray(nodes) ? nodes : [nodes];\n    for (let i = 0; i < searchedNodes.length; i++) {\n        const node = searchedNodes[i];\n        if (isTag(node) && test(node)) {\n            return node;\n        }\n        if (recurse && hasChildren(node) && node.children.length > 0) {\n            const found = findOne(test, node.children, true);\n            if (found)\n                return found;\n        }\n    }\n    return null;\n}\n/**\n * Checks if a tree of nodes contains at least one node passing a test.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns Whether a tree of nodes contains at least one node passing the test.\n */\nexport function existsOne(test, nodes) {\n    return (Array.isArray(nodes) ? nodes : [nodes]).some((node) => (isTag(node) && test(node)) ||\n        (hasChildren(node) && existsOne(test, node.children)));\n}\n/**\n * Search an array of nodes and their children for elements passing a test function.\n *\n * Same as `find`, but limited to elements and with less options, leading to reduced complexity.\n *\n * @category Querying\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns All nodes passing `test`.\n */\nexport function findAll(test, nodes) {\n    const result = [];\n    const nodeStack = [Array.isArray(nodes) ? nodes : [nodes]];\n    const indexStack = [0];\n    for (;;) {\n        if (indexStack[0] >= nodeStack[0].length) {\n            if (nodeStack.length === 1) {\n                return result;\n            }\n            // Otherwise, remove the current array from the stack.\n            nodeStack.shift();\n            indexStack.shift();\n            // Loop back to the start to continue with the next array.\n            continue;\n        }\n        const elem = nodeStack[0][indexStack[0]++];\n        if (isTag(elem) && test(elem))\n            result.push(elem);\n        if (hasChildren(elem) && elem.children.length > 0) {\n            indexStack.unshift(0);\n            nodeStack.unshift(elem.children);\n        }\n    }\n}\n//# sourceMappingURL=querying.js.map","import { isTag, isText } from \"domhandler\";\nimport { filter, findOne } from \"./querying.js\";\n/**\n * A map of functions to check nodes against.\n */\nconst Checks = {\n    tag_name(name) {\n        if (typeof name === \"function\") {\n            return (elem) => isTag(elem) && name(elem.name);\n        }\n        else if (name === \"*\") {\n            return isTag;\n        }\n        return (elem) => isTag(elem) && elem.name === name;\n    },\n    tag_type(type) {\n        if (typeof type === \"function\") {\n            return (elem) => type(elem.type);\n        }\n        return (elem) => elem.type === type;\n    },\n    tag_contains(data) {\n        if (typeof data === \"function\") {\n            return (elem) => isText(elem) && data(elem.data);\n        }\n        return (elem) => isText(elem) && elem.data === data;\n    },\n};\n/**\n * Returns a function to check whether a node has an attribute with a particular\n * value.\n *\n * @param attrib Attribute to check.\n * @param value Attribute value to look for.\n * @returns A function to check whether the a node has an attribute with a\n *   particular value.\n */\nfunction getAttribCheck(attrib, value) {\n    if (typeof value === \"function\") {\n        return (elem) => isTag(elem) && value(elem.attribs[attrib]);\n    }\n    return (elem) => isTag(elem) && elem.attribs[attrib] === value;\n}\n/**\n * Returns a function that returns `true` if either of the input functions\n * returns `true` for a node.\n *\n * @param a First function to combine.\n * @param b Second function to combine.\n * @returns A function taking a node and returning `true` if either of the input\n *   functions returns `true` for the node.\n */\nfunction combineFuncs(a, b) {\n    return (elem) => a(elem) || b(elem);\n}\n/**\n * Returns a function that executes all checks in `options` and returns `true`\n * if any of them match a node.\n *\n * @param options An object describing nodes to look for.\n * @returns A function that executes all checks in `options` and returns `true`\n *   if any of them match a node.\n */\nfunction compileTest(options) {\n    const funcs = Object.keys(options).map((key) => {\n        const value = options[key];\n        return Object.prototype.hasOwnProperty.call(Checks, key)\n            ? Checks[key](value)\n            : getAttribCheck(key, value);\n    });\n    return funcs.length === 0 ? null : funcs.reduce(combineFuncs);\n}\n/**\n * Checks whether a node matches the description in `options`.\n *\n * @category Legacy Query Functions\n * @param options An object describing nodes to look for.\n * @param node The element to test.\n * @returns Whether the element matches the description in `options`.\n */\nexport function testElement(options, node) {\n    const test = compileTest(options);\n    return test ? test(node) : true;\n}\n/**\n * Returns all nodes that match `options`.\n *\n * @category Legacy Query Functions\n * @param options An object describing nodes to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes that match `options`.\n */\nexport function getElements(options, nodes, recurse, limit = Infinity) {\n    const test = compileTest(options);\n    return test ? filter(test, nodes, recurse, limit) : [];\n}\n/**\n * Returns the node with the supplied ID.\n *\n * @category Legacy Query Functions\n * @param id The unique ID attribute value to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @returns The node with the supplied ID.\n */\nexport function getElementById(id, nodes, recurse = true) {\n    if (!Array.isArray(nodes))\n        nodes = [nodes];\n    return findOne(getAttribCheck(\"id\", id), nodes, recurse);\n}\n/**\n * Returns all nodes with the supplied `tagName`.\n *\n * @category Legacy Query Functions\n * @param tagName Tag name to search for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes with the supplied `tagName`.\n */\nexport function getElementsByTagName(tagName, nodes, recurse = true, limit = Infinity) {\n    return filter(Checks[\"tag_name\"](tagName), nodes, recurse, limit);\n}\n/**\n * Returns all nodes with the supplied `className`.\n *\n * @category Legacy Query Functions\n * @param className Class name to search for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes with the supplied `className`.\n */\nexport function getElementsByClassName(className, nodes, recurse = true, limit = Infinity) {\n    return filter(getAttribCheck(\"class\", className), nodes, recurse, limit);\n}\n/**\n * Returns all nodes with the supplied `type`.\n *\n * @category Legacy Query Functions\n * @param type Element type to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes with the supplied `type`.\n */\nexport function getElementsByTagType(type, nodes, recurse = true, limit = Infinity) {\n    return filter(Checks[\"tag_type\"](type), nodes, recurse, limit);\n}\n//# sourceMappingURL=legacy.js.map","import { textContent } from \"./stringify.js\";\nimport { getElementsByTagName } from \"./legacy.js\";\n/**\n * Get the feed object from the root of a DOM tree.\n *\n * @category Feeds\n * @param doc - The DOM to to extract the feed from.\n * @returns The feed.\n */\nexport function getFeed(doc) {\n    const feedRoot = getOneElement(isValidFeed, doc);\n    return !feedRoot\n        ? null\n        : feedRoot.name === \"feed\"\n            ? getAtomFeed(feedRoot)\n            : getRssFeed(feedRoot);\n}\n/**\n * Parse an Atom feed.\n *\n * @param feedRoot The root of the feed.\n * @returns The parsed feed.\n */\nfunction getAtomFeed(feedRoot) {\n    var _a;\n    const childs = feedRoot.children;\n    const feed = {\n        type: \"atom\",\n        items: getElementsByTagName(\"entry\", childs).map((item) => {\n            var _a;\n            const { children } = item;\n            const entry = { media: getMediaElements(children) };\n            addConditionally(entry, \"id\", \"id\", children);\n            addConditionally(entry, \"title\", \"title\", children);\n            const href = (_a = getOneElement(\"link\", children)) === null || _a === void 0 ? void 0 : _a.attribs[\"href\"];\n            if (href) {\n                entry.link = href;\n            }\n            const description = fetch(\"summary\", children) || fetch(\"content\", children);\n            if (description) {\n                entry.description = description;\n            }\n            const pubDate = fetch(\"updated\", children);\n            if (pubDate) {\n                entry.pubDate = new Date(pubDate);\n            }\n            return entry;\n        }),\n    };\n    addConditionally(feed, \"id\", \"id\", childs);\n    addConditionally(feed, \"title\", \"title\", childs);\n    const href = (_a = getOneElement(\"link\", childs)) === null || _a === void 0 ? void 0 : _a.attribs[\"href\"];\n    if (href) {\n        feed.link = href;\n    }\n    addConditionally(feed, \"description\", \"subtitle\", childs);\n    const updated = fetch(\"updated\", childs);\n    if (updated) {\n        feed.updated = new Date(updated);\n    }\n    addConditionally(feed, \"author\", \"email\", childs, true);\n    return feed;\n}\n/**\n * Parse a RSS feed.\n *\n * @param feedRoot The root of the feed.\n * @returns The parsed feed.\n */\nfunction getRssFeed(feedRoot) {\n    var _a, _b;\n    const childs = (_b = (_a = getOneElement(\"channel\", feedRoot.children)) === null || _a === void 0 ? void 0 : _a.children) !== null && _b !== void 0 ? _b : [];\n    const feed = {\n        type: feedRoot.name.substr(0, 3),\n        id: \"\",\n        items: getElementsByTagName(\"item\", feedRoot.children).map((item) => {\n            const { children } = item;\n            const entry = { media: getMediaElements(children) };\n            addConditionally(entry, \"id\", \"guid\", children);\n            addConditionally(entry, \"title\", \"title\", children);\n            addConditionally(entry, \"link\", \"link\", children);\n            addConditionally(entry, \"description\", \"description\", children);\n            const pubDate = fetch(\"pubDate\", children) || fetch(\"dc:date\", children);\n            if (pubDate)\n                entry.pubDate = new Date(pubDate);\n            return entry;\n        }),\n    };\n    addConditionally(feed, \"title\", \"title\", childs);\n    addConditionally(feed, \"link\", \"link\", childs);\n    addConditionally(feed, \"description\", \"description\", childs);\n    const updated = fetch(\"lastBuildDate\", childs);\n    if (updated) {\n        feed.updated = new Date(updated);\n    }\n    addConditionally(feed, \"author\", \"managingEditor\", childs, true);\n    return feed;\n}\nconst MEDIA_KEYS_STRING = [\"url\", \"type\", \"lang\"];\nconst MEDIA_KEYS_INT = [\n    \"fileSize\",\n    \"bitrate\",\n    \"framerate\",\n    \"samplingrate\",\n    \"channels\",\n    \"duration\",\n    \"height\",\n    \"width\",\n];\n/**\n * Get all media elements of a feed item.\n *\n * @param where Nodes to search in.\n * @returns Media elements.\n */\nfunction getMediaElements(where) {\n    return getElementsByTagName(\"media:content\", where).map((elem) => {\n        const { attribs } = elem;\n        const media = {\n            medium: attribs[\"medium\"],\n            isDefault: !!attribs[\"isDefault\"],\n        };\n        for (const attrib of MEDIA_KEYS_STRING) {\n            if (attribs[attrib]) {\n                media[attrib] = attribs[attrib];\n            }\n        }\n        for (const attrib of MEDIA_KEYS_INT) {\n            if (attribs[attrib]) {\n                media[attrib] = parseInt(attribs[attrib], 10);\n            }\n        }\n        if (attribs[\"expression\"]) {\n            media.expression = attribs[\"expression\"];\n        }\n        return media;\n    });\n}\n/**\n * Get one element by tag name.\n *\n * @param tagName Tag name to look for\n * @param node Node to search in\n * @returns The element or null\n */\nfunction getOneElement(tagName, node) {\n    return getElementsByTagName(tagName, node, true, 1)[0];\n}\n/**\n * Get the text content of an element with a certain tag name.\n *\n * @param tagName Tag name to look for.\n * @param where Node to search in.\n * @param recurse Whether to recurse into child nodes.\n * @returns The text content of the element.\n */\nfunction fetch(tagName, where, recurse = false) {\n    return textContent(getElementsByTagName(tagName, where, recurse, 1)).trim();\n}\n/**\n * Adds a property to an object if it has a value.\n *\n * @param obj Object to be extended\n * @param prop Property name\n * @param tagName Tag name that contains the conditionally added property\n * @param where Element to search for the property\n * @param recurse Whether to recurse into child nodes.\n */\nfunction addConditionally(obj, prop, tagName, where, recurse = false) {\n    const val = fetch(tagName, where, recurse);\n    if (val)\n        obj[prop] = val;\n}\n/**\n * Checks if an element is a feed root node.\n *\n * @param value The name of the element to check.\n * @returns Whether an element is a feed root node.\n */\nfunction isValidFeed(value) {\n    return value === \"rss\" || value === \"feed\" || value === \"rdf:RDF\";\n}\n//# sourceMappingURL=feeds.js.map","import { Parser } from \"./Parser.js\";\nexport { Parser } from \"./Parser.js\";\nimport { DomHandler, } from \"domhandler\";\nexport { DomHandler, \n// Old name for DomHandler\nDomHandler as DefaultHandler, } from \"domhandler\";\n// Helper methods\n/**\n * Parses the data, returns the resulting document.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM builder.\n */\nexport function parseDocument(data, options) {\n    const handler = new DomHandler(undefined, options);\n    new Parser(handler, options).end(data);\n    return handler.root;\n}\n/**\n * Parses data, returns an array of the root nodes.\n *\n * Note that the root nodes still have a `Document` node as their parent.\n * Use `parseDocument` to get the `Document` node instead.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM builder.\n * @deprecated Use `parseDocument` instead.\n */\nexport function parseDOM(data, options) {\n    return parseDocument(data, options).children;\n}\n/**\n * Creates a parser instance, with an attached DOM handler.\n *\n * @param callback A callback that will be called once parsing has been completed.\n * @param options Optional options for the parser and DOM builder.\n * @param elementCallback An optional callback that will be called every time a tag has been completed inside of the DOM.\n */\nexport function createDomStream(callback, options, elementCallback) {\n    const handler = new DomHandler(callback, options, elementCallback);\n    return new Parser(handler, options);\n}\nexport { default as Tokenizer, } from \"./Tokenizer.js\";\n/*\n * All of the following exports exist for backwards-compatibility.\n * They should probably be removed eventually.\n */\nexport * as ElementType from \"domelementtype\";\nimport { getFeed } from \"domutils\";\nexport { getFeed } from \"domutils\";\nconst parseFeedDefaultOptions = { xmlMode: true };\n/**\n * Parse a feed.\n *\n * @param feed The feed that should be parsed, as a string.\n * @param options Optionally, options for parsing. When using this, you should set `xmlMode` to `true`.\n */\nexport function parseFeed(feed, options = parseFeedDefaultOptions) {\n    return getFeed(parseDOM(feed, options));\n}\nexport * as DomUtils from \"domutils\";\n//# sourceMappingURL=index.js.map","export var IdentifyOperation;\n(function (IdentifyOperation) {\n    // Base Operations to set values\n    IdentifyOperation[\"SET\"] = \"$set\";\n    IdentifyOperation[\"SET_ONCE\"] = \"$setOnce\";\n    // Operations around modifying existing values\n    IdentifyOperation[\"ADD\"] = \"$add\";\n    IdentifyOperation[\"APPEND\"] = \"$append\";\n    IdentifyOperation[\"PREPEND\"] = \"$prepend\";\n    IdentifyOperation[\"REMOVE\"] = \"$remove\";\n    // Operations around appending values *if* they aren't present\n    IdentifyOperation[\"PREINSERT\"] = \"$preInsert\";\n    IdentifyOperation[\"POSTINSERT\"] = \"$postInsert\";\n    // Operations around removing properties/values\n    IdentifyOperation[\"UNSET\"] = \"$unset\";\n    IdentifyOperation[\"CLEAR_ALL\"] = \"$clearAll\";\n})(IdentifyOperation || (IdentifyOperation = {}));\nexport var RevenueProperty;\n(function (RevenueProperty) {\n    RevenueProperty[\"REVENUE_PRODUCT_ID\"] = \"$productId\";\n    RevenueProperty[\"REVENUE_QUANTITY\"] = \"$quantity\";\n    RevenueProperty[\"REVENUE_PRICE\"] = \"$price\";\n    RevenueProperty[\"REVENUE_TYPE\"] = \"$revenueType\";\n    RevenueProperty[\"REVENUE_CURRENCY\"] = \"$currency\";\n    RevenueProperty[\"REVENUE\"] = \"$revenue\";\n})(RevenueProperty || (RevenueProperty = {}));\n/**\n * Strings that have special meaning when used as an event's type\n * and have different specifications.\n */\nexport var SpecialEventType;\n(function (SpecialEventType) {\n    SpecialEventType[\"IDENTIFY\"] = \"$identify\";\n    SpecialEventType[\"GROUP_IDENTIFY\"] = \"$groupidentify\";\n    SpecialEventType[\"REVENUE\"] = \"revenue_amount\";\n})(SpecialEventType || (SpecialEventType = {}));\n//# sourceMappingURL=event.js.map","export var LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"None\"] = 0] = \"None\";\n    LogLevel[LogLevel[\"Error\"] = 1] = \"Error\";\n    LogLevel[LogLevel[\"Warn\"] = 2] = \"Warn\";\n    LogLevel[LogLevel[\"Verbose\"] = 3] = \"Verbose\";\n    LogLevel[LogLevel[\"Debug\"] = 4] = \"Debug\";\n})(LogLevel || (LogLevel = {}));\n//# sourceMappingURL=logger.js.map","export var PluginType;\n(function (PluginType) {\n    PluginType[\"BEFORE\"] = \"before\";\n    PluginType[\"ENRICHMENT\"] = \"enrichment\";\n    PluginType[\"DESTINATION\"] = \"destination\";\n})(PluginType || (PluginType = {}));\n//# sourceMappingURL=plugin.js.map","export var ServerZone;\n(function (ServerZone) {\n    ServerZone[\"US\"] = \"US\";\n    ServerZone[\"EU\"] = \"EU\";\n    ServerZone[\"STAGING\"] = \"STAGING\";\n})(ServerZone || (ServerZone = {}));\n//# sourceMappingURL=server-zone.js.map","/** The status of an event. */\nexport var Status;\n(function (Status) {\n    /** The status could not be determined. */\n    Status[\"Unknown\"] = \"unknown\";\n    /** The event was skipped due to configuration or callbacks. */\n    Status[\"Skipped\"] = \"skipped\";\n    /** The event was sent successfully. */\n    Status[\"Success\"] = \"success\";\n    /** A user or device in the payload is currently rate limited and should try again later. */\n    Status[\"RateLimit\"] = \"rate_limit\";\n    /** The sent payload was too large to be processed. */\n    Status[\"PayloadTooLarge\"] = \"payload_too_large\";\n    /** The event could not be processed. */\n    Status[\"Invalid\"] = \"invalid\";\n    /** A server-side error ocurred during submission. */\n    Status[\"Failed\"] = \"failed\";\n    /** a server or client side error occuring when a request takes too long and is cancelled */\n    Status[\"Timeout\"] = \"Timeout\";\n    /** NodeJS runtime environment error.. E.g. disconnected from network */\n    Status[\"SystemError\"] = \"SystemError\";\n})(Status || (Status = {}));\n//# sourceMappingURL=status.js.map","export var TransportType;\n(function (TransportType) {\n    TransportType[\"XHR\"] = \"xhr\";\n    TransportType[\"SendBeacon\"] = \"beacon\";\n    TransportType[\"Fetch\"] = \"fetch\";\n})(TransportType || (TransportType = {}));\n//# sourceMappingURL=transport.js.map","export var UNSET_VALUE = '-';\nexport var AMPLITUDE_PREFIX = 'AMP';\nexport var STORAGE_PREFIX = \"\".concat(AMPLITUDE_PREFIX, \"_unsent\");\nexport var AMPLITUDE_SERVER_URL = 'https://api2.amplitude.com/2/httpapi';\nexport var EU_AMPLITUDE_SERVER_URL = 'https://api.eu.amplitude.com/2/httpapi';\nexport var AMPLITUDE_BATCH_SERVER_URL = 'https://api2.amplitude.com/batch';\nexport var EU_AMPLITUDE_BATCH_SERVER_URL = 'https://api.eu.amplitude.com/batch';\n//# sourceMappingURL=constants.js.map","import { __values } from \"tslib\";\nvar MAX_PROPERTY_KEYS = 1000;\nexport var isValidObject = function (properties) {\n    if (Object.keys(properties).length > MAX_PROPERTY_KEYS) {\n        return false;\n    }\n    for (var key in properties) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        var value = properties[key];\n        if (!isValidProperties(key, value))\n            return false;\n    }\n    return true;\n};\nexport var isValidProperties = function (property, value) {\n    var e_1, _a;\n    if (typeof property !== 'string')\n        return false;\n    if (Array.isArray(value)) {\n        var isValid = true;\n        try {\n            for (var value_1 = __values(value), value_1_1 = value_1.next(); !value_1_1.done; value_1_1 = value_1.next()) {\n                var valueElement = value_1_1.value;\n                if (Array.isArray(valueElement)) {\n                    return false;\n                }\n                else if (typeof valueElement === 'object') {\n                    isValid = isValid && isValidObject(valueElement);\n                }\n                else if (!['number', 'string'].includes(typeof valueElement)) {\n                    return false;\n                }\n                if (!isValid) {\n                    return false;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (value_1_1 && !value_1_1.done && (_a = value_1.return)) _a.call(value_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    else if (value === null || value === undefined) {\n        return false;\n    }\n    else if (typeof value === 'object') {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        return isValidObject(value);\n    }\n    else if (!['number', 'string', 'boolean'].includes(typeof value)) {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=valid-properties.js.map","import { __assign } from \"tslib\";\nimport { IdentifyOperation, } from '@amplitude/analytics-types';\nimport { UNSET_VALUE } from './constants';\nimport { isValidProperties } from './utils/valid-properties';\nvar Identify = /** @class */ (function () {\n    function Identify() {\n        this._propertySet = new Set();\n        this._properties = {};\n    }\n    Identify.prototype.getUserProperties = function () {\n        return __assign({}, this._properties);\n    };\n    Identify.prototype.set = function (property, value) {\n        this._safeSet(IdentifyOperation.SET, property, value);\n        return this;\n    };\n    Identify.prototype.setOnce = function (property, value) {\n        this._safeSet(IdentifyOperation.SET_ONCE, property, value);\n        return this;\n    };\n    Identify.prototype.append = function (property, value) {\n        this._safeSet(IdentifyOperation.APPEND, property, value);\n        return this;\n    };\n    Identify.prototype.prepend = function (property, value) {\n        this._safeSet(IdentifyOperation.PREPEND, property, value);\n        return this;\n    };\n    Identify.prototype.postInsert = function (property, value) {\n        this._safeSet(IdentifyOperation.POSTINSERT, property, value);\n        return this;\n    };\n    Identify.prototype.preInsert = function (property, value) {\n        this._safeSet(IdentifyOperation.PREINSERT, property, value);\n        return this;\n    };\n    Identify.prototype.remove = function (property, value) {\n        this._safeSet(IdentifyOperation.REMOVE, property, value);\n        return this;\n    };\n    Identify.prototype.add = function (property, value) {\n        this._safeSet(IdentifyOperation.ADD, property, value);\n        return this;\n    };\n    Identify.prototype.unset = function (property) {\n        this._safeSet(IdentifyOperation.UNSET, property, UNSET_VALUE);\n        return this;\n    };\n    Identify.prototype.clearAll = function () {\n        // When clear all happens, all properties are unset. Reset the entire object.\n        this._properties = {};\n        this._properties[IdentifyOperation.CLEAR_ALL] = UNSET_VALUE;\n        return this;\n    };\n    // Returns whether or not this set actually worked.\n    Identify.prototype._safeSet = function (operation, property, value) {\n        if (this._validate(operation, property, value)) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            var userPropertyMap = this._properties[operation];\n            if (userPropertyMap === undefined) {\n                userPropertyMap = {};\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                this._properties[operation] = userPropertyMap;\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            userPropertyMap[property] = value;\n            this._propertySet.add(property);\n            return true;\n        }\n        return false;\n    };\n    Identify.prototype._validate = function (operation, property, value) {\n        if (this._properties[IdentifyOperation.CLEAR_ALL] !== undefined) {\n            // clear all already set. Skipping operation;\n            return false;\n        }\n        if (this._propertySet.has(property)) {\n            // Property already used. Skipping operation\n            return false;\n        }\n        if (operation === IdentifyOperation.ADD) {\n            return typeof value === 'number';\n        }\n        if (operation !== IdentifyOperation.UNSET && operation !== IdentifyOperation.REMOVE) {\n            return isValidProperties(property, value);\n        }\n        return true;\n    };\n    return Identify;\n}());\nexport { Identify };\n//# sourceMappingURL=identify.js.map","import { __assign } from \"tslib\";\nimport { SpecialEventType, } from '@amplitude/analytics-types';\nimport { Identify } from '../identify';\nexport var createTrackEvent = function (eventInput, eventProperties, eventOptions) {\n    var baseEvent = typeof eventInput === 'string' ? { event_type: eventInput } : eventInput;\n    return __assign(__assign(__assign({}, baseEvent), eventOptions), (eventProperties && { event_properties: eventProperties }));\n};\nexport var createIdentifyEvent = function (identify, eventOptions) {\n    var identifyEvent = __assign(__assign({}, eventOptions), { event_type: SpecialEventType.IDENTIFY, user_properties: identify.getUserProperties() });\n    return identifyEvent;\n};\nexport var createGroupIdentifyEvent = function (groupType, groupName, identify, eventOptions) {\n    var _a;\n    var groupIdentify = __assign(__assign({}, eventOptions), { event_type: SpecialEventType.GROUP_IDENTIFY, group_properties: identify.getUserProperties(), groups: (_a = {},\n            _a[groupType] = groupName,\n            _a) });\n    return groupIdentify;\n};\nexport var createGroupEvent = function (groupType, groupName, eventOptions) {\n    var _a;\n    var identify = new Identify();\n    identify.set(groupType, groupName);\n    var groupEvent = __assign(__assign({}, eventOptions), { event_type: SpecialEventType.IDENTIFY, user_properties: identify.getUserProperties(), groups: (_a = {},\n            _a[groupType] = groupName,\n            _a) });\n    return groupEvent;\n};\nexport var createRevenueEvent = function (revenue, eventOptions) {\n    return __assign(__assign({}, eventOptions), { event_type: SpecialEventType.REVENUE, event_properties: revenue.getEventProperties() });\n};\n//# sourceMappingURL=event-builder.js.map","import { Status } from '@amplitude/analytics-types';\nexport var buildResult = function (event, code, message) {\n    if (code === void 0) { code = 0; }\n    if (message === void 0) { message = Status.Unknown; }\n    return { event: event, code: code, message: message };\n};\n//# sourceMappingURL=result-builder.js.map","import { __assign, __awaiter, __generator, __read, __values } from \"tslib\";\nimport { PluginType, } from '@amplitude/analytics-types';\nimport { buildResult } from './utils/result-builder';\nvar Timeline = /** @class */ (function () {\n    function Timeline(client) {\n        this.client = client;\n        this.queue = [];\n        // Flag to guarantee one schedule apply is running\n        this.applying = false;\n        // Flag indicates whether timeline is ready to process event\n        // Events collected before timeline is ready will stay in the queue to be processed later\n        this.plugins = [];\n    }\n    Timeline.prototype.register = function (plugin, config) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, plugin.setup(config, this.client)];\n                    case 1:\n                        _a.sent();\n                        this.plugins.push(plugin);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Timeline.prototype.deregister = function (pluginName, config) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var index, plugin;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        index = this.plugins.findIndex(function (plugin) { return plugin.name === pluginName; });\n                        if (index === -1) {\n                            config.loggerProvider.warn(\"Plugin with name \".concat(pluginName, \" does not exist, skipping deregistration\"));\n                            return [2 /*return*/];\n                        }\n                        plugin = this.plugins[index];\n                        this.plugins.splice(index, 1);\n                        return [4 /*yield*/, ((_a = plugin.teardown) === null || _a === void 0 ? void 0 : _a.call(plugin))];\n                    case 1:\n                        _b.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Timeline.prototype.reset = function (client) {\n        this.applying = false;\n        var plugins = this.plugins;\n        plugins.map(function (plugin) { var _a; return (_a = plugin.teardown) === null || _a === void 0 ? void 0 : _a.call(plugin); });\n        this.plugins = [];\n        this.client = client;\n    };\n    Timeline.prototype.push = function (event) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            _this.queue.push([event, resolve]);\n            _this.scheduleApply(0);\n        });\n    };\n    Timeline.prototype.scheduleApply = function (timeout) {\n        var _this = this;\n        if (this.applying)\n            return;\n        this.applying = true;\n        setTimeout(function () {\n            void _this.apply(_this.queue.shift()).then(function () {\n                _this.applying = false;\n                if (_this.queue.length > 0) {\n                    _this.scheduleApply(0);\n                }\n            });\n        }, timeout);\n    };\n    Timeline.prototype.apply = function (item) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, event, _b, resolve, before, before_1, before_1_1, plugin, e, e_1_1, enrichment, enrichment_1, enrichment_1_1, plugin, e, e_2_1, destination, executeDestinations;\n            var e_1, _c, e_2, _d;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        if (!item) {\n                            return [2 /*return*/];\n                        }\n                        _a = __read(item, 1), event = _a[0];\n                        _b = __read(item, 2), resolve = _b[1];\n                        before = this.plugins.filter(function (plugin) { return plugin.type === PluginType.BEFORE; });\n                        _e.label = 1;\n                    case 1:\n                        _e.trys.push([1, 6, 7, 8]);\n                        before_1 = __values(before), before_1_1 = before_1.next();\n                        _e.label = 2;\n                    case 2:\n                        if (!!before_1_1.done) return [3 /*break*/, 5];\n                        plugin = before_1_1.value;\n                        return [4 /*yield*/, plugin.execute(__assign({}, event))];\n                    case 3:\n                        e = _e.sent();\n                        if (e === null) {\n                            resolve({ event: event, code: 0, message: '' });\n                            return [2 /*return*/];\n                        }\n                        else {\n                            event = e;\n                        }\n                        _e.label = 4;\n                    case 4:\n                        before_1_1 = before_1.next();\n                        return [3 /*break*/, 2];\n                    case 5: return [3 /*break*/, 8];\n                    case 6:\n                        e_1_1 = _e.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 8];\n                    case 7:\n                        try {\n                            if (before_1_1 && !before_1_1.done && (_c = before_1.return)) _c.call(before_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                        return [7 /*endfinally*/];\n                    case 8:\n                        enrichment = this.plugins.filter(function (plugin) { return plugin.type === PluginType.ENRICHMENT; });\n                        _e.label = 9;\n                    case 9:\n                        _e.trys.push([9, 14, 15, 16]);\n                        enrichment_1 = __values(enrichment), enrichment_1_1 = enrichment_1.next();\n                        _e.label = 10;\n                    case 10:\n                        if (!!enrichment_1_1.done) return [3 /*break*/, 13];\n                        plugin = enrichment_1_1.value;\n                        return [4 /*yield*/, plugin.execute(__assign({}, event))];\n                    case 11:\n                        e = _e.sent();\n                        if (e === null) {\n                            resolve({ event: event, code: 0, message: '' });\n                            return [2 /*return*/];\n                        }\n                        else {\n                            event = e;\n                        }\n                        _e.label = 12;\n                    case 12:\n                        enrichment_1_1 = enrichment_1.next();\n                        return [3 /*break*/, 10];\n                    case 13: return [3 /*break*/, 16];\n                    case 14:\n                        e_2_1 = _e.sent();\n                        e_2 = { error: e_2_1 };\n                        return [3 /*break*/, 16];\n                    case 15:\n                        try {\n                            if (enrichment_1_1 && !enrichment_1_1.done && (_d = enrichment_1.return)) _d.call(enrichment_1);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                        return [7 /*endfinally*/];\n                    case 16:\n                        destination = this.plugins.filter(function (plugin) { return plugin.type === PluginType.DESTINATION; });\n                        executeDestinations = destination.map(function (plugin) {\n                            var eventClone = __assign({}, event);\n                            return plugin.execute(eventClone).catch(function (e) { return buildResult(eventClone, 0, String(e)); });\n                        });\n                        void Promise.all(executeDestinations).then(function (_a) {\n                            var _b = __read(_a, 1), result = _b[0];\n                            resolve(result);\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Timeline.prototype.flush = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var queue, destination, executeDestinations;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        queue = this.queue;\n                        this.queue = [];\n                        return [4 /*yield*/, Promise.all(queue.map(function (item) { return _this.apply(item); }))];\n                    case 1:\n                        _a.sent();\n                        destination = this.plugins.filter(function (plugin) { return plugin.type === PluginType.DESTINATION; });\n                        executeDestinations = destination.map(function (plugin) {\n                            return plugin.flush && plugin.flush();\n                        });\n                        return [4 /*yield*/, Promise.all(executeDestinations)];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return Timeline;\n}());\nexport { Timeline };\n//# sourceMappingURL=timeline.js.map","export var SUCCESS_MESSAGE = 'Event tracked successfully';\nexport var UNEXPECTED_ERROR_MESSAGE = 'Unexpected error occurred';\nexport var MAX_RETRIES_EXCEEDED_MESSAGE = 'Event rejected due to exceeded retry count';\nexport var OPT_OUT_MESSAGE = 'Event skipped due to optOut config';\nexport var MISSING_API_KEY_MESSAGE = 'Event rejected due to missing API key';\nexport var INVALID_API_KEY = 'Invalid API key';\nexport var CLIENT_NOT_INITIALIZED = 'Client not initialized';\n//# sourceMappingURL=messages.js.map","export var returnWrapper = function (awaitable) { return ({\n    promise: awaitable || Promise.resolve(),\n}); };\n//# sourceMappingURL=return-wrapper.js.map","import { __awaiter, __generator, __values } from \"tslib\";\nimport { createGroupIdentifyEvent, createIdentifyEvent, createTrackEvent, createRevenueEvent, createGroupEvent, } from './utils/event-builder';\nimport { Timeline } from './timeline';\nimport { buildResult } from './utils/result-builder';\nimport { CLIENT_NOT_INITIALIZED, OPT_OUT_MESSAGE } from './messages';\nimport { returnWrapper } from './utils/return-wrapper';\nvar AmplitudeCore = /** @class */ (function () {\n    function AmplitudeCore(name) {\n        if (name === void 0) { name = '$default'; }\n        this.initializing = false;\n        this.q = [];\n        this.dispatchQ = [];\n        this.logEvent = this.track.bind(this);\n        this.timeline = new Timeline(this);\n        this.name = name;\n    }\n    AmplitudeCore.prototype._init = function (config) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.config = config;\n                        this.timeline.reset(this);\n                        return [4 /*yield*/, this.runQueuedFunctions('q')];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AmplitudeCore.prototype.runQueuedFunctions = function (queueName) {\n        return __awaiter(this, void 0, void 0, function () {\n            var queuedFunctions, queuedFunctions_1, queuedFunctions_1_1, queuedFunction, e_1_1;\n            var e_1, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        queuedFunctions = this[queueName];\n                        this[queueName] = [];\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 6, 7, 8]);\n                        queuedFunctions_1 = __values(queuedFunctions), queuedFunctions_1_1 = queuedFunctions_1.next();\n                        _b.label = 2;\n                    case 2:\n                        if (!!queuedFunctions_1_1.done) return [3 /*break*/, 5];\n                        queuedFunction = queuedFunctions_1_1.value;\n                        return [4 /*yield*/, queuedFunction()];\n                    case 3:\n                        _b.sent();\n                        _b.label = 4;\n                    case 4:\n                        queuedFunctions_1_1 = queuedFunctions_1.next();\n                        return [3 /*break*/, 2];\n                    case 5: return [3 /*break*/, 8];\n                    case 6:\n                        e_1_1 = _b.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 8];\n                    case 7:\n                        try {\n                            if (queuedFunctions_1_1 && !queuedFunctions_1_1.done && (_a = queuedFunctions_1.return)) _a.call(queuedFunctions_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                        return [7 /*endfinally*/];\n                    case 8: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AmplitudeCore.prototype.track = function (eventInput, eventProperties, eventOptions) {\n        var event = createTrackEvent(eventInput, eventProperties, eventOptions);\n        return returnWrapper(this.dispatch(event));\n    };\n    AmplitudeCore.prototype.identify = function (identify, eventOptions) {\n        var event = createIdentifyEvent(identify, eventOptions);\n        return returnWrapper(this.dispatch(event));\n    };\n    AmplitudeCore.prototype.groupIdentify = function (groupType, groupName, identify, eventOptions) {\n        var event = createGroupIdentifyEvent(groupType, groupName, identify, eventOptions);\n        return returnWrapper(this.dispatch(event));\n    };\n    AmplitudeCore.prototype.setGroup = function (groupType, groupName, eventOptions) {\n        var event = createGroupEvent(groupType, groupName, eventOptions);\n        return returnWrapper(this.dispatch(event));\n    };\n    AmplitudeCore.prototype.revenue = function (revenue, eventOptions) {\n        var event = createRevenueEvent(revenue, eventOptions);\n        return returnWrapper(this.dispatch(event));\n    };\n    AmplitudeCore.prototype.add = function (plugin) {\n        if (!this.config) {\n            this.q.push(this.add.bind(this, plugin));\n            return returnWrapper();\n        }\n        return returnWrapper(this.timeline.register(plugin, this.config));\n    };\n    AmplitudeCore.prototype.remove = function (pluginName) {\n        if (!this.config) {\n            this.q.push(this.remove.bind(this, pluginName));\n            return returnWrapper();\n        }\n        return returnWrapper(this.timeline.deregister(pluginName, this.config));\n    };\n    AmplitudeCore.prototype.dispatchWithCallback = function (event, callback) {\n        if (!this.config) {\n            return callback(buildResult(event, 0, CLIENT_NOT_INITIALIZED));\n        }\n        void this.process(event).then(callback);\n    };\n    AmplitudeCore.prototype.dispatch = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (!this.config) {\n                    return [2 /*return*/, new Promise(function (resolve) {\n                            _this.dispatchQ.push(_this.dispatchWithCallback.bind(_this, event, resolve));\n                        })];\n                }\n                return [2 /*return*/, this.process(event)];\n            });\n        });\n    };\n    AmplitudeCore.prototype.process = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var result, e_2, message, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        // skip event processing if opt out\n                        if (this.config.optOut) {\n                            return [2 /*return*/, buildResult(event, 0, OPT_OUT_MESSAGE)];\n                        }\n                        return [4 /*yield*/, this.timeline.push(event)];\n                    case 1:\n                        result = _a.sent();\n                        result.code === 200\n                            ? this.config.loggerProvider.log(result.message)\n                            : this.config.loggerProvider.error(result.message);\n                        return [2 /*return*/, result];\n                    case 2:\n                        e_2 = _a.sent();\n                        this.config.loggerProvider.error(e_2);\n                        message = String(e_2);\n                        result = buildResult(event, 0, message);\n                        return [2 /*return*/, result];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AmplitudeCore.prototype.setOptOut = function (optOut) {\n        if (!this.config) {\n            this.q.push(this.setOptOut.bind(this, Boolean(optOut)));\n            return;\n        }\n        this.config.optOut = Boolean(optOut);\n    };\n    AmplitudeCore.prototype.flush = function () {\n        return returnWrapper(this.timeline.flush());\n    };\n    return AmplitudeCore;\n}());\nexport { AmplitudeCore };\n//# sourceMappingURL=core-client.js.map","import { __assign } from \"tslib\";\nimport { RevenueProperty, } from '@amplitude/analytics-types';\nimport { isValidObject } from './utils/valid-properties';\nvar Revenue = /** @class */ (function () {\n    function Revenue() {\n        this.productId = '';\n        this.quantity = 1;\n        this.price = 0.0;\n    }\n    Revenue.prototype.setProductId = function (productId) {\n        this.productId = productId;\n        return this;\n    };\n    Revenue.prototype.setQuantity = function (quantity) {\n        if (quantity > 0) {\n            this.quantity = quantity;\n        }\n        return this;\n    };\n    Revenue.prototype.setPrice = function (price) {\n        this.price = price;\n        return this;\n    };\n    Revenue.prototype.setRevenueType = function (revenueType) {\n        this.revenueType = revenueType;\n        return this;\n    };\n    Revenue.prototype.setCurrency = function (currency) {\n        this.currency = currency;\n        return this;\n    };\n    Revenue.prototype.setRevenue = function (revenue) {\n        this.revenue = revenue;\n        return this;\n    };\n    Revenue.prototype.setEventProperties = function (properties) {\n        if (isValidObject(properties)) {\n            this.properties = properties;\n        }\n        return this;\n    };\n    Revenue.prototype.getEventProperties = function () {\n        var eventProperties = this.properties ? __assign({}, this.properties) : {};\n        eventProperties[RevenueProperty.REVENUE_PRODUCT_ID] = this.productId;\n        eventProperties[RevenueProperty.REVENUE_QUANTITY] = this.quantity;\n        eventProperties[RevenueProperty.REVENUE_PRICE] = this.price;\n        eventProperties[RevenueProperty.REVENUE_TYPE] = this.revenueType;\n        eventProperties[RevenueProperty.REVENUE_CURRENCY] = this.currency;\n        eventProperties[RevenueProperty.REVENUE] = this.revenue;\n        return eventProperties;\n    };\n    return Revenue;\n}());\nexport { Revenue };\n//# sourceMappingURL=revenue.js.map","// Creates an array of elements split into groups the length of size.\n// If array can't be split evenly, the final chunk will be the remaining elements.\n// Works similary as https://lodash.com/docs/4.17.15#chunk\nexport var chunk = function (arr, size) {\n    var chunkSize = Math.max(size, 1);\n    return arr.reduce(function (chunks, element, index) {\n        var chunkIndex = Math.floor(index / chunkSize);\n        if (!chunks[chunkIndex]) {\n            chunks[chunkIndex] = [];\n        }\n        chunks[chunkIndex].push(element);\n        return chunks;\n    }, []);\n};\n//# sourceMappingURL=chunk.js.map","import { LogLevel } from '@amplitude/analytics-types';\nvar PREFIX = 'Amplitude Logger ';\nvar Logger = /** @class */ (function () {\n    function Logger() {\n        this.logLevel = LogLevel.None;\n    }\n    Logger.prototype.disable = function () {\n        this.logLevel = LogLevel.None;\n    };\n    Logger.prototype.enable = function (logLevel) {\n        if (logLevel === void 0) { logLevel = LogLevel.Warn; }\n        this.logLevel = logLevel;\n    };\n    Logger.prototype.log = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (this.logLevel < LogLevel.Verbose) {\n            return;\n        }\n        console.log(\"\".concat(PREFIX, \"[Log]: \").concat(args.join(' ')));\n    };\n    Logger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (this.logLevel < LogLevel.Warn) {\n            return;\n        }\n        console.warn(\"\".concat(PREFIX, \"[Warn]: \").concat(args.join(' ')));\n    };\n    Logger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (this.logLevel < LogLevel.Error) {\n            return;\n        }\n        console.error(\"\".concat(PREFIX, \"[Error]: \").concat(args.join(' ')));\n    };\n    Logger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (this.logLevel < LogLevel.Debug) {\n            return;\n        }\n        // console.debug output is hidden by default in chrome\n        console.log(\"\".concat(PREFIX, \"[Debug]: \").concat(args.join(' ')));\n    };\n    return Logger;\n}());\nexport { Logger };\n//# sourceMappingURL=logger.js.map","import { LogLevel, ServerZone, } from '@amplitude/analytics-types';\nimport { AMPLITUDE_SERVER_URL, AMPLITUDE_BATCH_SERVER_URL, EU_AMPLITUDE_SERVER_URL, EU_AMPLITUDE_BATCH_SERVER_URL, } from './constants';\nimport { Logger } from './logger';\nexport var getDefaultConfig = function () { return ({\n    flushMaxRetries: 12,\n    flushQueueSize: 200,\n    flushIntervalMillis: 10000,\n    instanceName: '$default_instance',\n    logLevel: LogLevel.Warn,\n    loggerProvider: new Logger(),\n    optOut: false,\n    serverUrl: AMPLITUDE_SERVER_URL,\n    serverZone: ServerZone.US,\n    useBatch: false,\n}); };\nvar Config = /** @class */ (function () {\n    function Config(options) {\n        var _a, _b, _c, _d;\n        this._optOut = false;\n        var defaultConfig = getDefaultConfig();\n        this.apiKey = options.apiKey;\n        this.flushIntervalMillis = (_a = options.flushIntervalMillis) !== null && _a !== void 0 ? _a : defaultConfig.flushIntervalMillis;\n        this.flushMaxRetries = options.flushMaxRetries || defaultConfig.flushMaxRetries;\n        this.flushQueueSize = options.flushQueueSize || defaultConfig.flushQueueSize;\n        this.instanceName = options.instanceName || defaultConfig.instanceName;\n        this.loggerProvider = options.loggerProvider || defaultConfig.loggerProvider;\n        this.logLevel = (_b = options.logLevel) !== null && _b !== void 0 ? _b : defaultConfig.logLevel;\n        this.minIdLength = options.minIdLength;\n        this.plan = options.plan;\n        this.ingestionMetadata = options.ingestionMetadata;\n        this.optOut = (_c = options.optOut) !== null && _c !== void 0 ? _c : defaultConfig.optOut;\n        this.serverUrl = options.serverUrl;\n        this.serverZone = options.serverZone || defaultConfig.serverZone;\n        this.storageProvider = options.storageProvider;\n        this.transportProvider = options.transportProvider;\n        this.useBatch = (_d = options.useBatch) !== null && _d !== void 0 ? _d : defaultConfig.useBatch;\n        this.loggerProvider.enable(this.logLevel);\n        var serverConfig = createServerConfig(options.serverUrl, options.serverZone, options.useBatch);\n        this.serverZone = serverConfig.serverZone;\n        this.serverUrl = serverConfig.serverUrl;\n    }\n    Object.defineProperty(Config.prototype, \"optOut\", {\n        get: function () {\n            return this._optOut;\n        },\n        set: function (optOut) {\n            this._optOut = optOut;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Config;\n}());\nexport { Config };\nexport var getServerUrl = function (serverZone, useBatch) {\n    if (serverZone === ServerZone.EU) {\n        return useBatch ? EU_AMPLITUDE_BATCH_SERVER_URL : EU_AMPLITUDE_SERVER_URL;\n    }\n    return useBatch ? AMPLITUDE_BATCH_SERVER_URL : AMPLITUDE_SERVER_URL;\n};\nexport var createServerConfig = function (serverUrl, serverZone, useBatch) {\n    if (serverUrl === void 0) { serverUrl = ''; }\n    if (serverZone === void 0) { serverZone = getDefaultConfig().serverZone; }\n    if (useBatch === void 0) { useBatch = getDefaultConfig().useBatch; }\n    if (serverUrl) {\n        return { serverUrl: serverUrl, serverZone: undefined };\n    }\n    var _serverZone = ['US', 'EU'].includes(serverZone) ? serverZone : getDefaultConfig().serverZone;\n    return {\n        serverZone: _serverZone,\n        serverUrl: getServerUrl(_serverZone, useBatch),\n    };\n};\n//# sourceMappingURL=config.js.map","import { __awaiter, __generator, __read, __rest, __spreadArray } from \"tslib\";\nimport { PluginType, Status, } from '@amplitude/analytics-types';\nimport { INVALID_API_KEY, MAX_RETRIES_EXCEEDED_MESSAGE, MISSING_API_KEY_MESSAGE, SUCCESS_MESSAGE, UNEXPECTED_ERROR_MESSAGE, } from '../messages';\nimport { STORAGE_PREFIX } from '../constants';\nimport { chunk } from '../utils/chunk';\nimport { buildResult } from '../utils/result-builder';\nimport { createServerConfig } from '../config';\nfunction getErrorMessage(error) {\n    if (error instanceof Error)\n        return error.message;\n    return String(error);\n}\nexport function getResponseBodyString(res) {\n    var responseBodyString = '';\n    try {\n        if ('body' in res) {\n            responseBodyString = JSON.stringify(res.body);\n        }\n    }\n    catch (_a) {\n        // to avoid crash, but don't care about the error, add comment to avoid empty block lint error\n    }\n    return responseBodyString;\n}\nvar Destination = /** @class */ (function () {\n    function Destination() {\n        this.name = 'amplitude';\n        this.type = PluginType.DESTINATION;\n        this.retryTimeout = 1000;\n        this.throttleTimeout = 30000;\n        this.storageKey = '';\n        this.scheduled = null;\n        this.queue = [];\n    }\n    Destination.prototype.setup = function (config) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var unsent;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this.config = config;\n                        this.storageKey = \"\".concat(STORAGE_PREFIX, \"_\").concat(this.config.apiKey.substring(0, 10));\n                        return [4 /*yield*/, ((_a = this.config.storageProvider) === null || _a === void 0 ? void 0 : _a.get(this.storageKey))];\n                    case 1:\n                        unsent = _b.sent();\n                        this.saveEvents(); // sets storage to '[]'\n                        if (unsent && unsent.length > 0) {\n                            void Promise.all(unsent.map(function (event) { return _this.execute(event); })).catch();\n                        }\n                        return [2 /*return*/, Promise.resolve(undefined)];\n                }\n            });\n        });\n    };\n    Destination.prototype.execute = function (event) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            var context = {\n                event: event,\n                attempts: 0,\n                callback: function (result) { return resolve(result); },\n                timeout: 0,\n            };\n            void _this.addToQueue(context);\n        });\n    };\n    Destination.prototype.addToQueue = function () {\n        var _this = this;\n        var list = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            list[_i] = arguments[_i];\n        }\n        var tryable = list.filter(function (context) {\n            if (context.attempts < _this.config.flushMaxRetries) {\n                context.attempts += 1;\n                return true;\n            }\n            void _this.fulfillRequest([context], 500, MAX_RETRIES_EXCEEDED_MESSAGE);\n            return false;\n        });\n        tryable.forEach(function (context) {\n            _this.queue = _this.queue.concat(context);\n            if (context.timeout === 0) {\n                _this.schedule(_this.config.flushIntervalMillis);\n                return;\n            }\n            setTimeout(function () {\n                context.timeout = 0;\n                _this.schedule(0);\n            }, context.timeout);\n        });\n        this.saveEvents();\n    };\n    Destination.prototype.schedule = function (timeout) {\n        var _this = this;\n        if (this.scheduled)\n            return;\n        this.scheduled = setTimeout(function () {\n            void _this.flush(true).then(function () {\n                if (_this.queue.length > 0) {\n                    _this.schedule(timeout);\n                }\n            });\n        }, timeout);\n    };\n    Destination.prototype.flush = function (useRetry) {\n        if (useRetry === void 0) { useRetry = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var list, later, batches;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        list = [];\n                        later = [];\n                        this.queue.forEach(function (context) { return (context.timeout === 0 ? list.push(context) : later.push(context)); });\n                        this.queue = later;\n                        if (this.scheduled) {\n                            clearTimeout(this.scheduled);\n                            this.scheduled = null;\n                        }\n                        batches = chunk(list, this.config.flushQueueSize);\n                        return [4 /*yield*/, Promise.all(batches.map(function (batch) { return _this.send(batch, useRetry); }))];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Destination.prototype.send = function (list, useRetry) {\n        if (useRetry === void 0) { useRetry = true; }\n        return __awaiter(this, void 0, void 0, function () {\n            var payload, serverUrl, res, e_1, errorMessage;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.config.apiKey) {\n                            return [2 /*return*/, this.fulfillRequest(list, 400, MISSING_API_KEY_MESSAGE)];\n                        }\n                        payload = {\n                            api_key: this.config.apiKey,\n                            events: list.map(function (context) {\n                                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                                var _a = context.event, extra = _a.extra, eventWithoutExtra = __rest(_a, [\"extra\"]);\n                                return eventWithoutExtra;\n                            }),\n                            options: {\n                                min_id_length: this.config.minIdLength,\n                            },\n                        };\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        serverUrl = createServerConfig(this.config.serverUrl, this.config.serverZone, this.config.useBatch).serverUrl;\n                        return [4 /*yield*/, this.config.transportProvider.send(serverUrl, payload)];\n                    case 2:\n                        res = _a.sent();\n                        if (res === null) {\n                            this.fulfillRequest(list, 0, UNEXPECTED_ERROR_MESSAGE);\n                            return [2 /*return*/];\n                        }\n                        if (!useRetry) {\n                            if ('body' in res) {\n                                this.fulfillRequest(list, res.statusCode, \"\".concat(res.status, \": \").concat(getResponseBodyString(res)));\n                            }\n                            else {\n                                this.fulfillRequest(list, res.statusCode, res.status);\n                            }\n                            return [2 /*return*/];\n                        }\n                        this.handleResponse(res, list);\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        this.config.loggerProvider.error(e_1);\n                        errorMessage = getErrorMessage(e_1);\n                        this.fulfillRequest(list, 0, errorMessage);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Destination.prototype.handleResponse = function (res, list) {\n        var status = res.status;\n        switch (status) {\n            case Status.Success: {\n                this.handleSuccessResponse(res, list);\n                break;\n            }\n            case Status.Invalid: {\n                this.handleInvalidResponse(res, list);\n                break;\n            }\n            case Status.PayloadTooLarge: {\n                this.handlePayloadTooLargeResponse(res, list);\n                break;\n            }\n            case Status.RateLimit: {\n                this.handleRateLimitResponse(res, list);\n                break;\n            }\n            default: {\n                // log intermediate event status before retry\n                this.config.loggerProvider.warn(\"{code: 0, error: \\\"Status '\".concat(status, \"' provided for \").concat(list.length, \" events\\\"}\"));\n                this.handleOtherResponse(list);\n                break;\n            }\n        }\n    };\n    Destination.prototype.handleSuccessResponse = function (res, list) {\n        this.fulfillRequest(list, res.statusCode, SUCCESS_MESSAGE);\n    };\n    Destination.prototype.handleInvalidResponse = function (res, list) {\n        var _this = this;\n        if (res.body.missingField || res.body.error.startsWith(INVALID_API_KEY)) {\n            this.fulfillRequest(list, res.statusCode, res.body.error);\n            return;\n        }\n        var dropIndex = __spreadArray(__spreadArray(__spreadArray(__spreadArray([], __read(Object.values(res.body.eventsWithInvalidFields)), false), __read(Object.values(res.body.eventsWithMissingFields)), false), __read(Object.values(res.body.eventsWithInvalidIdLengths)), false), __read(res.body.silencedEvents), false).flat();\n        var dropIndexSet = new Set(dropIndex);\n        var retry = list.filter(function (context, index) {\n            if (dropIndexSet.has(index)) {\n                _this.fulfillRequest([context], res.statusCode, res.body.error);\n                return;\n            }\n            return true;\n        });\n        if (retry.length > 0) {\n            // log intermediate event status before retry\n            this.config.loggerProvider.warn(getResponseBodyString(res));\n        }\n        this.addToQueue.apply(this, __spreadArray([], __read(retry), false));\n    };\n    Destination.prototype.handlePayloadTooLargeResponse = function (res, list) {\n        if (list.length === 1) {\n            this.fulfillRequest(list, res.statusCode, res.body.error);\n            return;\n        }\n        // log intermediate event status before retry\n        this.config.loggerProvider.warn(getResponseBodyString(res));\n        this.config.flushQueueSize /= 2;\n        this.addToQueue.apply(this, __spreadArray([], __read(list), false));\n    };\n    Destination.prototype.handleRateLimitResponse = function (res, list) {\n        var _this = this;\n        var dropUserIds = Object.keys(res.body.exceededDailyQuotaUsers);\n        var dropDeviceIds = Object.keys(res.body.exceededDailyQuotaDevices);\n        var throttledIndex = res.body.throttledEvents;\n        var dropUserIdsSet = new Set(dropUserIds);\n        var dropDeviceIdsSet = new Set(dropDeviceIds);\n        var throttledIndexSet = new Set(throttledIndex);\n        var retry = list.filter(function (context, index) {\n            if ((context.event.user_id && dropUserIdsSet.has(context.event.user_id)) ||\n                (context.event.device_id && dropDeviceIdsSet.has(context.event.device_id))) {\n                _this.fulfillRequest([context], res.statusCode, res.body.error);\n                return;\n            }\n            if (throttledIndexSet.has(index)) {\n                context.timeout = _this.throttleTimeout;\n            }\n            return true;\n        });\n        if (retry.length > 0) {\n            // log intermediate event status before retry\n            this.config.loggerProvider.warn(getResponseBodyString(res));\n        }\n        this.addToQueue.apply(this, __spreadArray([], __read(retry), false));\n    };\n    Destination.prototype.handleOtherResponse = function (list) {\n        var _this = this;\n        this.addToQueue.apply(this, __spreadArray([], __read(list.map(function (context) {\n            context.timeout = context.attempts * _this.retryTimeout;\n            return context;\n        })), false));\n    };\n    Destination.prototype.fulfillRequest = function (list, code, message) {\n        this.saveEvents();\n        list.forEach(function (context) { return context.callback(buildResult(context.event, code, message)); });\n    };\n    /**\n     * Saves events to storage\n     * This is called on\n     * 1) new events are added to queue; or\n     * 2) response comes back for a request\n     */\n    Destination.prototype.saveEvents = function () {\n        if (!this.config.storageProvider) {\n            return;\n        }\n        var events = Array.from(this.queue.map(function (context) { return context.event; }));\n        void this.config.storageProvider.set(this.storageKey, events);\n    };\n    return Destination;\n}());\nexport { Destination };\n//# sourceMappingURL=destination.js.map","import { __assign, __values } from \"tslib\";\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-unsafe-call */\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { LogLevel } from '@amplitude/analytics-types';\nexport var getStacktrace = function (ignoreDepth) {\n    if (ignoreDepth === void 0) { ignoreDepth = 0; }\n    var trace = new Error().stack || '';\n    return trace\n        .split('\\n')\n        .slice(2 + ignoreDepth)\n        .map(function (text) { return text.trim(); });\n};\n// This hook makes sure we always get the latest logger and logLevel.\nexport var getClientLogConfig = function (client) { return function () {\n    var _a = __assign({}, client.config), logger = _a.loggerProvider, logLevel = _a.logLevel;\n    return {\n        logger: logger,\n        logLevel: logLevel,\n    };\n}; };\n// This is a convenient function to get the attribute from object with string path, similar to lodash '#get'.\nexport var getValueByStringPath = function (obj, path) {\n    var e_1, _a;\n    path = path.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\n    path = path.replace(/^\\./, ''); // strip a leading dot\n    try {\n        for (var _b = __values(path.split('.')), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var attr = _c.value;\n            if (attr in obj) {\n                obj = obj[attr];\n            }\n            else {\n                return;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return obj;\n};\nexport var getClientStates = function (client, paths) { return function () {\n    var e_2, _a;\n    var res = {};\n    try {\n        for (var paths_1 = __values(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()) {\n            var path = paths_1_1.value;\n            res[path] = getValueByStringPath(client, path);\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (paths_1_1 && !paths_1_1.done && (_a = paths_1.return)) _a.call(paths_1);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return res;\n}; };\nexport var debugWrapper = function (fn, fnName, getLogConfig, getStates, fnContext) {\n    if (fnContext === void 0) { fnContext = null; }\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var _a = getLogConfig(), logger = _a.logger, logLevel = _a.logLevel;\n        // return early if possible to reduce overhead\n        if ((logLevel && logLevel < LogLevel.Debug) || !logLevel || !logger) {\n            return fn.apply(fnContext, args);\n        }\n        var debugContext = {\n            type: 'invoke public method',\n            name: fnName,\n            args: args,\n            stacktrace: getStacktrace(1),\n            time: {\n                start: new Date().toISOString(),\n            },\n            states: {},\n        };\n        if (getStates && debugContext.states) {\n            debugContext.states.before = getStates();\n        }\n        var result = fn.apply(fnContext, args);\n        if (result && result.promise) {\n            // if result is a promise, add the callback\n            result.promise.then(function () {\n                if (getStates && debugContext.states) {\n                    debugContext.states.after = getStates();\n                }\n                if (debugContext.time) {\n                    debugContext.time.end = new Date().toISOString();\n                }\n                logger.debug(JSON.stringify(debugContext, null, 2));\n            });\n        }\n        else {\n            if (getStates && debugContext.states) {\n                debugContext.states.after = getStates();\n            }\n            if (debugContext.time) {\n                debugContext.time.end = new Date().toISOString();\n            }\n            logger.debug(JSON.stringify(debugContext, null, 2));\n        }\n        return result;\n    };\n};\n//# sourceMappingURL=debug.js.map","/**\n * Source: [jed's gist]{@link https://gist.github.com/982883}.\n * Returns a random v4 UUID of the form xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx,\n * where each x is replaced with a random hexadecimal digit from 0 to f, and\n * y is replaced with a random hexadecimal digit from 8 to b.\n * Used to generate UUIDs for deviceIds.\n * @private\n */\nexport var UUID = function (a) {\n    return a // if the placeholder was passed, return\n        ? // a random number from 0 to 15\n            (a ^ // unless b is 8,\n                ((Math.random() * // in which case\n                    16) >> // a random number from\n                    (a / 4))) // 8 to 11\n                .toString(16) // in hexadecimal\n        : // or otherwise a concatenated string:\n            (String(1e7) + // 10000000 +\n                String(-1e3) + // -1000 +\n                String(-4e3) + // -4000 +\n                String(-8e3) + // -80000000 +\n                String(-1e11)) // -100000000000,\n                .replace(\n            // replacing\n            /[018]/g, // zeroes, ones, and eights with\n            UUID);\n};\n//# sourceMappingURL=uuid.js.map","import { __awaiter, __generator } from \"tslib\";\nvar MemoryStorage = /** @class */ (function () {\n    function MemoryStorage() {\n        this.memoryStorage = new Map();\n    }\n    MemoryStorage.prototype.isEnabled = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, true];\n            });\n        });\n    };\n    MemoryStorage.prototype.get = function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.memoryStorage.get(key)];\n            });\n        });\n    };\n    MemoryStorage.prototype.getRaw = function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            var value;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.get(key)];\n                    case 1:\n                        value = _a.sent();\n                        return [2 /*return*/, value ? JSON.stringify(value) : undefined];\n                }\n            });\n        });\n    };\n    MemoryStorage.prototype.set = function (key, value) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.memoryStorage.set(key, value);\n                return [2 /*return*/];\n            });\n        });\n    };\n    MemoryStorage.prototype.remove = function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.memoryStorage.delete(key);\n                return [2 /*return*/];\n            });\n        });\n    };\n    MemoryStorage.prototype.reset = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.memoryStorage.clear();\n                return [2 /*return*/];\n            });\n        });\n    };\n    return MemoryStorage;\n}());\nexport { MemoryStorage };\n//# sourceMappingURL=memory.js.map","/* eslint-disable @typescript-eslint/no-unsafe-argument */\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable @typescript-eslint/no-unsafe-call */\nimport { Status } from '@amplitude/analytics-types';\nvar BaseTransport = /** @class */ (function () {\n    function BaseTransport() {\n    }\n    BaseTransport.prototype.send = function (_serverUrl, _payload) {\n        return Promise.resolve(null);\n    };\n    BaseTransport.prototype.buildResponse = function (responseJSON) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;\n        if (typeof responseJSON !== 'object') {\n            return null;\n        }\n        var statusCode = responseJSON.code || 0;\n        var status = this.buildStatus(statusCode);\n        switch (status) {\n            case Status.Success:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                    body: {\n                        eventsIngested: (_a = responseJSON.events_ingested) !== null && _a !== void 0 ? _a : 0,\n                        payloadSizeBytes: (_b = responseJSON.payload_size_bytes) !== null && _b !== void 0 ? _b : 0,\n                        serverUploadTime: (_c = responseJSON.server_upload_time) !== null && _c !== void 0 ? _c : 0,\n                    },\n                };\n            case Status.Invalid:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                    body: {\n                        error: (_d = responseJSON.error) !== null && _d !== void 0 ? _d : '',\n                        missingField: (_e = responseJSON.missing_field) !== null && _e !== void 0 ? _e : '',\n                        eventsWithInvalidFields: (_f = responseJSON.events_with_invalid_fields) !== null && _f !== void 0 ? _f : {},\n                        eventsWithMissingFields: (_g = responseJSON.events_with_missing_fields) !== null && _g !== void 0 ? _g : {},\n                        eventsWithInvalidIdLengths: (_h = responseJSON.events_with_invalid_id_lengths) !== null && _h !== void 0 ? _h : {},\n                        epsThreshold: (_j = responseJSON.eps_threshold) !== null && _j !== void 0 ? _j : 0,\n                        exceededDailyQuotaDevices: (_k = responseJSON.exceeded_daily_quota_devices) !== null && _k !== void 0 ? _k : {},\n                        silencedDevices: (_l = responseJSON.silenced_devices) !== null && _l !== void 0 ? _l : [],\n                        silencedEvents: (_m = responseJSON.silenced_events) !== null && _m !== void 0 ? _m : [],\n                        throttledDevices: (_o = responseJSON.throttled_devices) !== null && _o !== void 0 ? _o : {},\n                        throttledEvents: (_p = responseJSON.throttled_events) !== null && _p !== void 0 ? _p : [],\n                    },\n                };\n            case Status.PayloadTooLarge:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                    body: {\n                        error: (_q = responseJSON.error) !== null && _q !== void 0 ? _q : '',\n                    },\n                };\n            case Status.RateLimit:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                    body: {\n                        error: (_r = responseJSON.error) !== null && _r !== void 0 ? _r : '',\n                        epsThreshold: (_s = responseJSON.eps_threshold) !== null && _s !== void 0 ? _s : 0,\n                        throttledDevices: (_t = responseJSON.throttled_devices) !== null && _t !== void 0 ? _t : {},\n                        throttledUsers: (_u = responseJSON.throttled_users) !== null && _u !== void 0 ? _u : {},\n                        exceededDailyQuotaDevices: (_v = responseJSON.exceeded_daily_quota_devices) !== null && _v !== void 0 ? _v : {},\n                        exceededDailyQuotaUsers: (_w = responseJSON.exceeded_daily_quota_users) !== null && _w !== void 0 ? _w : {},\n                        throttledEvents: (_x = responseJSON.throttled_events) !== null && _x !== void 0 ? _x : [],\n                    },\n                };\n            case Status.Timeout:\n            default:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                };\n        }\n    };\n    BaseTransport.prototype.buildStatus = function (code) {\n        if (code >= 200 && code < 300) {\n            return Status.Success;\n        }\n        if (code === 429) {\n            return Status.RateLimit;\n        }\n        if (code === 413) {\n            return Status.PayloadTooLarge;\n        }\n        if (code === 408) {\n            return Status.Timeout;\n        }\n        if (code >= 400 && code < 500) {\n            return Status.Invalid;\n        }\n        if (code >= 500) {\n            return Status.Failed;\n        }\n        return Status.Unknown;\n    };\n    return BaseTransport;\n}());\nexport { BaseTransport };\n//# sourceMappingURL=base.js.map","var ApplicationContextProviderImpl = /** @class */ (function () {\n    function ApplicationContextProviderImpl() {\n    }\n    ApplicationContextProviderImpl.prototype.getApplicationContext = function () {\n        return {\n            versionName: this.versionName,\n            language: getLanguage(),\n            platform: 'Web',\n            os: undefined,\n            deviceModel: undefined,\n        };\n    };\n    return ApplicationContextProviderImpl;\n}());\nvar getLanguage = function () {\n    return ((typeof navigator !== 'undefined' &&\n        ((navigator.languages && navigator.languages[0]) ||\n            navigator.language)) ||\n        '');\n};\n\nvar EventBridgeImpl = /** @class */ (function () {\n    function EventBridgeImpl() {\n        this.queue = [];\n    }\n    EventBridgeImpl.prototype.logEvent = function (event) {\n        if (!this.receiver) {\n            if (this.queue.length < 512) {\n                this.queue.push(event);\n            }\n        }\n        else {\n            this.receiver(event);\n        }\n    };\n    EventBridgeImpl.prototype.setEventReceiver = function (receiver) {\n        this.receiver = receiver;\n        if (this.queue.length > 0) {\n            this.queue.forEach(function (event) {\n                receiver(event);\n            });\n            this.queue = [];\n        }\n    };\n    return EventBridgeImpl;\n}());\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar isEqual = function (obj1, obj2) {\n    var e_1, _a;\n    var primitive = ['string', 'number', 'boolean', 'undefined'];\n    var typeA = typeof obj1;\n    var typeB = typeof obj2;\n    if (typeA !== typeB) {\n        return false;\n    }\n    try {\n        for (var primitive_1 = __values(primitive), primitive_1_1 = primitive_1.next(); !primitive_1_1.done; primitive_1_1 = primitive_1.next()) {\n            var p = primitive_1_1.value;\n            if (p === typeA) {\n                return obj1 === obj2;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (primitive_1_1 && !primitive_1_1.done && (_a = primitive_1.return)) _a.call(primitive_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    // check null\n    if (obj1 == null && obj2 == null) {\n        return true;\n    }\n    else if (obj1 == null || obj2 == null) {\n        return false;\n    }\n    // if got here - objects\n    if (obj1.length !== obj2.length) {\n        return false;\n    }\n    //check if arrays\n    var isArrayA = Array.isArray(obj1);\n    var isArrayB = Array.isArray(obj2);\n    if (isArrayA !== isArrayB) {\n        return false;\n    }\n    if (isArrayA && isArrayB) {\n        //arrays\n        for (var i = 0; i < obj1.length; i++) {\n            if (!isEqual(obj1[i], obj2[i])) {\n                return false;\n            }\n        }\n    }\n    else {\n        //objects\n        var sorted1 = Object.keys(obj1).sort();\n        var sorted2 = Object.keys(obj2).sort();\n        if (!isEqual(sorted1, sorted2)) {\n            return false;\n        }\n        //compare object values\n        var result_1 = true;\n        Object.keys(obj1).forEach(function (key) {\n            if (!isEqual(obj1[key], obj2[key])) {\n                result_1 = false;\n            }\n        });\n        return result_1;\n    }\n    return true;\n};\n\nvar ID_OP_SET = '$set';\nvar ID_OP_UNSET = '$unset';\nvar ID_OP_CLEAR_ALL = '$clearAll';\n// Polyfill for Object.entries\nif (!Object.entries) {\n    Object.entries = function (obj) {\n        var ownProps = Object.keys(obj);\n        var i = ownProps.length;\n        var resArray = new Array(i);\n        while (i--) {\n            resArray[i] = [ownProps[i], obj[ownProps[i]]];\n        }\n        return resArray;\n    };\n}\nvar IdentityStoreImpl = /** @class */ (function () {\n    function IdentityStoreImpl() {\n        this.identity = { userProperties: {} };\n        this.listeners = new Set();\n    }\n    IdentityStoreImpl.prototype.editIdentity = function () {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var self = this;\n        var actingUserProperties = __assign({}, this.identity.userProperties);\n        var actingIdentity = __assign(__assign({}, this.identity), { userProperties: actingUserProperties });\n        return {\n            setUserId: function (userId) {\n                actingIdentity.userId = userId;\n                return this;\n            },\n            setDeviceId: function (deviceId) {\n                actingIdentity.deviceId = deviceId;\n                return this;\n            },\n            setUserProperties: function (userProperties) {\n                actingIdentity.userProperties = userProperties;\n                return this;\n            },\n            setOptOut: function (optOut) {\n                actingIdentity.optOut = optOut;\n                return this;\n            },\n            updateUserProperties: function (actions) {\n                var e_1, _a, e_2, _b, e_3, _c;\n                var actingProperties = actingIdentity.userProperties || {};\n                try {\n                    for (var _d = __values(Object.entries(actions)), _e = _d.next(); !_e.done; _e = _d.next()) {\n                        var _f = __read(_e.value, 2), action = _f[0], properties = _f[1];\n                        switch (action) {\n                            case ID_OP_SET:\n                                try {\n                                    for (var _g = (e_2 = void 0, __values(Object.entries(properties))), _h = _g.next(); !_h.done; _h = _g.next()) {\n                                        var _j = __read(_h.value, 2), key = _j[0], value = _j[1];\n                                        actingProperties[key] = value;\n                                    }\n                                }\n                                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                                finally {\n                                    try {\n                                        if (_h && !_h.done && (_b = _g.return)) _b.call(_g);\n                                    }\n                                    finally { if (e_2) throw e_2.error; }\n                                }\n                                break;\n                            case ID_OP_UNSET:\n                                try {\n                                    for (var _k = (e_3 = void 0, __values(Object.keys(properties))), _l = _k.next(); !_l.done; _l = _k.next()) {\n                                        var key = _l.value;\n                                        delete actingProperties[key];\n                                    }\n                                }\n                                catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                                finally {\n                                    try {\n                                        if (_l && !_l.done && (_c = _k.return)) _c.call(_k);\n                                    }\n                                    finally { if (e_3) throw e_3.error; }\n                                }\n                                break;\n                            case ID_OP_CLEAR_ALL:\n                                actingProperties = {};\n                                break;\n                        }\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                actingIdentity.userProperties = actingProperties;\n                return this;\n            },\n            commit: function () {\n                self.setIdentity(actingIdentity);\n                return this;\n            },\n        };\n    };\n    IdentityStoreImpl.prototype.getIdentity = function () {\n        return __assign({}, this.identity);\n    };\n    IdentityStoreImpl.prototype.setIdentity = function (identity) {\n        var originalIdentity = __assign({}, this.identity);\n        this.identity = __assign({}, identity);\n        if (!isEqual(originalIdentity, this.identity)) {\n            this.listeners.forEach(function (listener) {\n                listener(identity);\n            });\n        }\n    };\n    IdentityStoreImpl.prototype.addIdentityListener = function (listener) {\n        this.listeners.add(listener);\n    };\n    IdentityStoreImpl.prototype.removeIdentityListener = function (listener) {\n        this.listeners.delete(listener);\n    };\n    return IdentityStoreImpl;\n}());\n\nvar safeGlobal = typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof global !== 'undefined'\n        ? global\n        : self;\n\nvar AnalyticsConnector = /** @class */ (function () {\n    function AnalyticsConnector() {\n        this.identityStore = new IdentityStoreImpl();\n        this.eventBridge = new EventBridgeImpl();\n        this.applicationContextProvider = new ApplicationContextProviderImpl();\n    }\n    AnalyticsConnector.getInstance = function (instanceName) {\n        if (!safeGlobal['analyticsConnectorInstances']) {\n            safeGlobal['analyticsConnectorInstances'] = {};\n        }\n        if (!safeGlobal['analyticsConnectorInstances'][instanceName]) {\n            safeGlobal['analyticsConnectorInstances'][instanceName] =\n                new AnalyticsConnector();\n        }\n        return safeGlobal['analyticsConnectorInstances'][instanceName];\n    };\n    return AnalyticsConnector;\n}());\n\nexport { AnalyticsConnector };\n","import { AnalyticsConnector } from '@amplitude/analytics-connector';\nexport var getAnalyticsConnector = function (instanceName) {\n    if (instanceName === void 0) { instanceName = '$default_instance'; }\n    return AnalyticsConnector.getInstance(instanceName);\n};\nexport var setConnectorUserId = function (userId, instanceName) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    getAnalyticsConnector(instanceName).identityStore.editIdentity().setUserId(userId).commit();\n};\nexport var setConnectorDeviceId = function (deviceId, instanceName) {\n    getAnalyticsConnector(instanceName).identityStore.editIdentity().setDeviceId(deviceId).commit();\n};\nexport var setConnectorOptOut = function (optOut, instanceName) {\n    getAnalyticsConnector(instanceName).identityStore.editIdentity().setOptOut(optOut).commit();\n};\n//# sourceMappingURL=analytics-connector.js.map","/* eslint-disable no-restricted-globals */\n/* Only file allowed to access to globalThis, window, self */\nexport var getGlobalScope = function () {\n    if (typeof globalThis !== 'undefined') {\n        return globalThis;\n    }\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    return undefined;\n};\n//# sourceMappingURL=global-scope.js.map","import { getGlobalScope } from './global-scope';\nexport var getQueryParams = function () {\n    var _a;\n    var globalScope = getGlobalScope();\n    /* istanbul ignore if */\n    if (!((_a = globalScope === null || globalScope === void 0 ? void 0 : globalScope.location) === null || _a === void 0 ? void 0 : _a.search)) {\n        return {};\n    }\n    var pairs = globalScope.location.search.substring(1).split('&').filter(Boolean);\n    var params = pairs.reduce(function (acc, curr) {\n        var query = curr.split('=', 2);\n        var key = tryDecodeURIComponent(query[0]);\n        var value = tryDecodeURIComponent(query[1]);\n        if (!value) {\n            return acc;\n        }\n        acc[key] = value;\n        return acc;\n    }, {});\n    return params;\n};\nexport var tryDecodeURIComponent = function (value) {\n    if (value === void 0) { value = ''; }\n    try {\n        return decodeURIComponent(value);\n    }\n    catch (_a) {\n        return '';\n    }\n};\n//# sourceMappingURL=query-params.js.map","export var UTM_CAMPAIGN = 'utm_campaign';\nexport var UTM_CONTENT = 'utm_content';\nexport var UTM_ID = 'utm_id';\nexport var UTM_MEDIUM = 'utm_medium';\nexport var UTM_SOURCE = 'utm_source';\nexport var UTM_TERM = 'utm_term';\nexport var DCLID = 'dclid';\nexport var FBCLID = 'fbclid';\nexport var GBRAID = 'gbraid';\nexport var GCLID = 'gclid';\nexport var KO_CLICK_ID = 'ko_click_id';\nexport var LI_FAT_ID = 'li_fat_id';\nexport var MSCLKID = 'msclkid';\nexport var RDT_CID = 'rtd_cid';\nexport var TTCLID = 'ttclid';\nexport var TWCLID = 'twclid';\nexport var WBRAID = 'wbraid';\nexport var EMPTY_VALUE = 'EMPTY';\nexport var BASE_CAMPAIGN = {\n    utm_campaign: undefined,\n    utm_content: undefined,\n    utm_id: undefined,\n    utm_medium: undefined,\n    utm_source: undefined,\n    utm_term: undefined,\n    referrer: undefined,\n    referring_domain: undefined,\n    dclid: undefined,\n    gbraid: undefined,\n    gclid: undefined,\n    fbclid: undefined,\n    ko_click_id: undefined,\n    li_fat_id: undefined,\n    msclkid: undefined,\n    rtd_cid: undefined,\n    ttclid: undefined,\n    twclid: undefined,\n    wbraid: undefined,\n};\nexport var MKTG = 'MKTG';\n//# sourceMappingURL=constants.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { getQueryParams } from '../query-params';\nimport { UTM_CAMPAIGN, UTM_CONTENT, UTM_MEDIUM, UTM_SOURCE, UTM_TERM, GCLID, FBCLID, BASE_CAMPAIGN, DCLID, MSCLKID, RDT_CID, TWCLID, TTCLID, KO_CLICK_ID, LI_FAT_ID, GBRAID, WBRAID, UTM_ID, } from './constants';\nvar CampaignParser = /** @class */ (function () {\n    function CampaignParser() {\n    }\n    CampaignParser.prototype.parse = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, __assign(__assign(__assign(__assign({}, BASE_CAMPAIGN), this.getUtmParam()), this.getReferrer()), this.getClickIds())];\n            });\n        });\n    };\n    CampaignParser.prototype.getUtmParam = function () {\n        var params = getQueryParams();\n        var utmCampaign = params[UTM_CAMPAIGN];\n        var utmContent = params[UTM_CONTENT];\n        var utmId = params[UTM_ID];\n        var utmMedium = params[UTM_MEDIUM];\n        var utmSource = params[UTM_SOURCE];\n        var utmTerm = params[UTM_TERM];\n        return {\n            utm_campaign: utmCampaign,\n            utm_content: utmContent,\n            utm_id: utmId,\n            utm_medium: utmMedium,\n            utm_source: utmSource,\n            utm_term: utmTerm,\n        };\n    };\n    CampaignParser.prototype.getReferrer = function () {\n        var _a, _b;\n        var data = {\n            referrer: undefined,\n            referring_domain: undefined,\n        };\n        try {\n            data.referrer = document.referrer || undefined;\n            data.referring_domain = (_b = (_a = data.referrer) === null || _a === void 0 ? void 0 : _a.split('/')[2]) !== null && _b !== void 0 ? _b : undefined;\n        }\n        catch (_c) {\n            // nothing to track\n        }\n        return data;\n    };\n    CampaignParser.prototype.getClickIds = function () {\n        var _a;\n        var params = getQueryParams();\n        return _a = {},\n            _a[DCLID] = params[DCLID],\n            _a[FBCLID] = params[FBCLID],\n            _a[GBRAID] = params[GBRAID],\n            _a[GCLID] = params[GCLID],\n            _a[KO_CLICK_ID] = params[KO_CLICK_ID],\n            _a[LI_FAT_ID] = params[LI_FAT_ID],\n            _a[MSCLKID] = params[MSCLKID],\n            _a[RDT_CID] = params[RDT_CID],\n            _a[TTCLID] = params[TTCLID],\n            _a[TWCLID] = params[TWCLID],\n            _a[WBRAID] = params[WBRAID],\n            _a;\n    };\n    return CampaignParser;\n}());\nexport { CampaignParser };\n//# sourceMappingURL=campaign-parser.js.map","import { AMPLITUDE_PREFIX } from '@amplitude/analytics-core';\nexport var getCookieName = function (apiKey, postKey, limit) {\n    if (postKey === void 0) { postKey = ''; }\n    if (limit === void 0) { limit = 10; }\n    return [AMPLITUDE_PREFIX, postKey, apiKey.substring(0, limit)].filter(Boolean).join('_');\n};\nexport var getOldCookieName = function (apiKey) {\n    return \"\".concat(AMPLITUDE_PREFIX.toLowerCase(), \"_\").concat(apiKey.substring(0, 6));\n};\n//# sourceMappingURL=cookie-name.js.map","export var isFileDownloadTrackingEnabled = function (defaultTracking) {\n    if (typeof defaultTracking === 'boolean') {\n        return defaultTracking;\n    }\n    if (defaultTracking === null || defaultTracking === void 0 ? void 0 : defaultTracking.fileDownloads) {\n        return true;\n    }\n    return false;\n};\nexport var isFormInteractionTrackingEnabled = function (defaultTracking) {\n    if (typeof defaultTracking === 'boolean') {\n        return defaultTracking;\n    }\n    if (defaultTracking === null || defaultTracking === void 0 ? void 0 : defaultTracking.formInteractions) {\n        return true;\n    }\n    return false;\n};\nexport var isPageViewTrackingEnabled = function (defaultTracking) {\n    if (typeof defaultTracking === 'boolean') {\n        return defaultTracking;\n    }\n    if ((defaultTracking === null || defaultTracking === void 0 ? void 0 : defaultTracking.pageViews) === true ||\n        ((defaultTracking === null || defaultTracking === void 0 ? void 0 : defaultTracking.pageViews) && typeof defaultTracking.pageViews === 'object')) {\n        return true;\n    }\n    return false;\n};\nexport var isSessionTrackingEnabled = function (defaultTracking) {\n    if (typeof defaultTracking === 'boolean') {\n        return defaultTracking;\n    }\n    if (defaultTracking === null || defaultTracking === void 0 ? void 0 : defaultTracking.sessions) {\n        return true;\n    }\n    return false;\n};\n/**\n * Returns page view tracking config\n *\n * if config.attribution.trackPageViews and config.defaultTracking.pageViews are both TRUE\n * then always track page views\n *\n * if config.attribution.trackPageViews is TRUE and config.defaultTracking.pageViews is FALSE\n * then only track page views on attribution\n *\n * if config.attribution.trackPageViews is FALSE and config.defaultTracking.pageViews is TRUE\n * then always track page views\n *\n * if config.attribution.trackPageViews and config.defaultTracking.pageViews are both FALSE\n * then never track page views\n */\nexport var getPageViewTrackingConfig = function (config) {\n    var _a;\n    var trackOn = ((_a = config.attribution) === null || _a === void 0 ? void 0 : _a.trackPageViews) ? 'attribution' : function () { return false; };\n    var trackHistoryChanges = undefined;\n    var eventType = 'Page View';\n    var isDefaultPageViewTrackingEnabled = isPageViewTrackingEnabled(config.defaultTracking);\n    if (isDefaultPageViewTrackingEnabled) {\n        trackOn = undefined;\n        eventType = undefined;\n        if (config.defaultTracking &&\n            typeof config.defaultTracking === 'object' &&\n            config.defaultTracking.pageViews &&\n            typeof config.defaultTracking.pageViews === 'object') {\n            if ('trackOn' in config.defaultTracking.pageViews) {\n                trackOn = config.defaultTracking.pageViews.trackOn;\n            }\n            if ('trackHistoryChanges' in config.defaultTracking.pageViews) {\n                trackHistoryChanges = config.defaultTracking.pageViews.trackHistoryChanges;\n            }\n            if ('eventType' in config.defaultTracking.pageViews && config.defaultTracking.pageViews.eventType) {\n                eventType = config.defaultTracking.pageViews.eventType;\n            }\n        }\n    }\n    return {\n        trackOn: trackOn,\n        trackHistoryChanges: trackHistoryChanges,\n        eventType: eventType,\n    };\n};\n//# sourceMappingURL=default-tracking.js.map","export var getLanguage = function () {\n    var _a, _b, _c, _d;\n    if (typeof navigator === 'undefined')\n        return '';\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    var userLanguage = navigator.userLanguage;\n    return (_d = (_c = (_b = (_a = navigator.languages) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : navigator.language) !== null && _c !== void 0 ? _c : userLanguage) !== null && _d !== void 0 ? _d : '';\n};\n//# sourceMappingURL=language.js.map","import { __awaiter, __generator } from \"tslib\";\nimport { PluginType } from '@amplitude/analytics-types';\nimport { getAnalyticsConnector } from '../analytics-connector';\nvar IdentityEventSender = /** @class */ (function () {\n    function IdentityEventSender() {\n        this.name = 'identity';\n        this.type = PluginType.BEFORE;\n        this.identityStore = getAnalyticsConnector().identityStore;\n    }\n    IdentityEventSender.prototype.execute = function (context) {\n        return __awaiter(this, void 0, void 0, function () {\n            var userProperties;\n            return __generator(this, function (_a) {\n                userProperties = context.user_properties;\n                if (userProperties) {\n                    this.identityStore.editIdentity().updateUserProperties(userProperties).commit();\n                }\n                return [2 /*return*/, context];\n            });\n        });\n    };\n    IdentityEventSender.prototype.setup = function (config) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (config.instanceName) {\n                    this.identityStore = getAnalyticsConnector(config.instanceName).identityStore;\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    return IdentityEventSender;\n}());\nexport { IdentityEventSender };\n//# sourceMappingURL=identity.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { getGlobalScope } from '../global-scope';\nvar CookieStorage = /** @class */ (function () {\n    function CookieStorage(options) {\n        this.options = __assign({}, options);\n    }\n    CookieStorage.prototype.isEnabled = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var testStrorage, testKey, value, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        /* istanbul ignore if */\n                        if (!getGlobalScope()) {\n                            return [2 /*return*/, false];\n                        }\n                        CookieStorage.testValue = String(Date.now());\n                        testStrorage = new CookieStorage(this.options);\n                        testKey = 'AMP_TEST';\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 4, 5, 7]);\n                        return [4 /*yield*/, testStrorage.set(testKey, CookieStorage.testValue)];\n                    case 2:\n                        _b.sent();\n                        return [4 /*yield*/, testStrorage.get(testKey)];\n                    case 3:\n                        value = _b.sent();\n                        return [2 /*return*/, value === CookieStorage.testValue];\n                    case 4:\n                        _a = _b.sent();\n                        /* istanbul ignore next */\n                        return [2 /*return*/, false];\n                    case 5: return [4 /*yield*/, testStrorage.remove(testKey)];\n                    case 6:\n                        _b.sent();\n                        return [7 /*endfinally*/];\n                    case 7: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CookieStorage.prototype.get = function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            var value;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getRaw(key)];\n                    case 1:\n                        value = _a.sent();\n                        if (!value) {\n                            return [2 /*return*/, undefined];\n                        }\n                        try {\n                            try {\n                                value = decodeURIComponent(atob(value));\n                            }\n                            catch (_b) {\n                                // value not encoded\n                            }\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n                            return [2 /*return*/, JSON.parse(value)];\n                        }\n                        catch (_c) {\n                            /* istanbul ignore next */\n                            return [2 /*return*/, undefined];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CookieStorage.prototype.getRaw = function (key) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var globalScope, cookie, match;\n            return __generator(this, function (_b) {\n                globalScope = getGlobalScope();\n                cookie = (_a = globalScope === null || globalScope === void 0 ? void 0 : globalScope.document.cookie.split('; ')) !== null && _a !== void 0 ? _a : [];\n                match = cookie.find(function (c) { return c.indexOf(key + '=') === 0; });\n                if (!match) {\n                    return [2 /*return*/, undefined];\n                }\n                return [2 /*return*/, match.substring(key.length + 1)];\n            });\n        });\n    };\n    CookieStorage.prototype.set = function (key, value) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var expirationDays, expires, expireDate, date, str, globalScope;\n            return __generator(this, function (_b) {\n                try {\n                    expirationDays = (_a = this.options.expirationDays) !== null && _a !== void 0 ? _a : 0;\n                    expires = value !== null ? expirationDays : -1;\n                    expireDate = undefined;\n                    if (expires) {\n                        date = new Date();\n                        date.setTime(date.getTime() + expires * 24 * 60 * 60 * 1000);\n                        expireDate = date;\n                    }\n                    str = \"\".concat(key, \"=\").concat(btoa(encodeURIComponent(JSON.stringify(value))));\n                    if (expireDate) {\n                        str += \"; expires=\".concat(expireDate.toUTCString());\n                    }\n                    str += '; path=/';\n                    if (this.options.domain) {\n                        str += \"; domain=\".concat(this.options.domain);\n                    }\n                    if (this.options.secure) {\n                        str += '; Secure';\n                    }\n                    if (this.options.sameSite) {\n                        str += \"; SameSite=\".concat(this.options.sameSite);\n                    }\n                    globalScope = getGlobalScope();\n                    if (globalScope) {\n                        globalScope.document.cookie = str;\n                    }\n                }\n                catch (_c) {\n                    //\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    CookieStorage.prototype.remove = function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.set(key, null)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CookieStorage.prototype.reset = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/];\n            });\n        });\n    };\n    return CookieStorage;\n}());\nexport { CookieStorage };\n//# sourceMappingURL=cookie.js.map","import { __awaiter, __extends, __generator } from \"tslib\";\nimport { BaseTransport } from '@amplitude/analytics-core';\nvar FetchTransport = /** @class */ (function (_super) {\n    __extends(FetchTransport, _super);\n    function FetchTransport() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FetchTransport.prototype.send = function (serverUrl, payload) {\n        return __awaiter(this, void 0, void 0, function () {\n            var options, response, responseText;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        /* istanbul ignore if */\n                        if (typeof fetch === 'undefined') {\n                            throw new Error('FetchTransport is not supported');\n                        }\n                        options = {\n                            headers: {\n                                'Content-Type': 'application/json',\n                                Accept: '*/*',\n                            },\n                            body: JSON.stringify(payload),\n                            method: 'POST',\n                        };\n                        return [4 /*yield*/, fetch(serverUrl, options)];\n                    case 1:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.text()];\n                    case 2:\n                        responseText = _a.sent();\n                        try {\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                            return [2 /*return*/, this.buildResponse(JSON.parse(responseText))];\n                        }\n                        catch (_b) {\n                            return [2 /*return*/, this.buildResponse({ code: response.status })];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return FetchTransport;\n}(BaseTransport));\nexport { FetchTransport };\n//# sourceMappingURL=fetch.js.map","export var omitUndefined = function (input) {\n    var obj = {};\n    for (var key in input) {\n        var val = input[key];\n        if (val) {\n            obj[key] = val;\n        }\n    }\n    return obj;\n};\n//# sourceMappingURL=utils.js.map","import { __assign, __awaiter, __generator, __read, __spreadArray } from \"tslib\";\nimport { CampaignParser, getGlobalScope } from '@amplitude/analytics-client-common';\nimport { IdentifyOperation, PluginType, } from '@amplitude/analytics-types';\nimport { BASE_CAMPAIGN } from '@amplitude/analytics-client-common';\nimport { omitUndefined } from './utils';\nexport var pageViewTrackingPlugin = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var amplitude;\n    var options = {};\n    var globalScope = getGlobalScope();\n    var loggerProvider = undefined;\n    var pushState;\n    var _a = __read(args, 2), clientOrOptions = _a[0], configOrUndefined = _a[1];\n    if (clientOrOptions && 'init' in clientOrOptions) {\n        amplitude = clientOrOptions;\n        if (configOrUndefined) {\n            options = configOrUndefined;\n        }\n    }\n    else if (clientOrOptions) {\n        options = clientOrOptions;\n    }\n    var createPageViewEvent = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var _a;\n        var _b;\n        var _c;\n        return __generator(this, function (_d) {\n            switch (_d.label) {\n                case 0:\n                    _b = {\n                        event_type: (_c = options.eventType) !== null && _c !== void 0 ? _c : 'Page View'\n                    };\n                    _a = [{}];\n                    return [4 /*yield*/, getCampaignParams()];\n                case 1: return [2 /*return*/, (_b.event_properties = __assign.apply(void 0, [__assign.apply(void 0, _a.concat([(_d.sent())])), { page_domain: /* istanbul ignore next */ (typeof location !== 'undefined' && location.hostname) || '', page_location: /* istanbul ignore next */ (typeof location !== 'undefined' && location.href) || '', page_path: /* istanbul ignore next */ (typeof location !== 'undefined' && location.pathname) || '', page_title: /* istanbul ignore next */ (typeof document !== 'undefined' && document.title) || '', page_url: /* istanbul ignore next */ (typeof location !== 'undefined' && location.href.split('?')[0]) || '' }]),\n                        _b)];\n            }\n        });\n    }); };\n    var shouldTrackOnPageLoad = function () {\n        return typeof options.trackOn === 'undefined' || (typeof options.trackOn === 'function' && options.trackOn());\n    };\n    /* istanbul ignore next */\n    var previousURL = typeof location !== 'undefined' ? location.href : null;\n    var trackHistoryPageView = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var newURL, shouldTrackPageView, _a, _b, _c;\n        return __generator(this, function (_d) {\n            switch (_d.label) {\n                case 0:\n                    newURL = location.href;\n                    shouldTrackPageView = shouldTrackHistoryPageView(options.trackHistoryChanges, newURL, previousURL || '') && shouldTrackOnPageLoad();\n                    // Note: Update `previousURL` in the same clock tick as `shouldTrackHistoryPageView()`\n                    // This was previously done after `amplitude?.track(await createPageViewEvent());` and\n                    // causes a concurrency issue where app triggers `pushState` twice with the same URL target\n                    // but `previousURL` is only updated after the second `pushState` producing two page viewed events\n                    previousURL = newURL;\n                    if (!shouldTrackPageView) return [3 /*break*/, 4];\n                    /* istanbul ignore next */\n                    loggerProvider === null || loggerProvider === void 0 ? void 0 : loggerProvider.log('Tracking page view event');\n                    if (!(amplitude === null || amplitude === void 0)) return [3 /*break*/, 1];\n                    _a = void 0;\n                    return [3 /*break*/, 3];\n                case 1:\n                    _c = (_b = amplitude).track;\n                    return [4 /*yield*/, createPageViewEvent()];\n                case 2:\n                    _a = _c.apply(_b, [_d.sent()]);\n                    _d.label = 3;\n                case 3:\n                    _a;\n                    _d.label = 4;\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    /* istanbul ignore next */\n    var trackHistoryPageViewWrapper = function () {\n        void trackHistoryPageView();\n    };\n    var plugin = {\n        name: 'page-view-tracking',\n        type: PluginType.ENRICHMENT,\n        setup: function (config, client) { return __awaiter(void 0, void 0, void 0, function () {\n            var receivedType, _a, _b;\n            var _c, _d;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        amplitude = amplitude !== null && amplitude !== void 0 ? amplitude : client;\n                        if (!amplitude) {\n                            receivedType = clientOrOptions ? 'Options' : 'undefined';\n                            config.loggerProvider.error(\"Argument of type '\".concat(receivedType, \"' is not assignable to parameter of type 'BrowserClient'.\"));\n                            return [2 /*return*/];\n                        }\n                        loggerProvider = config.loggerProvider;\n                        loggerProvider.log('Installing @amplitude/plugin-page-view-tracking-browser');\n                        options.trackOn = ((_c = config.attribution) === null || _c === void 0 ? void 0 : _c.trackPageViews) ? 'attribution' : options.trackOn;\n                        if (!client && ((_d = config.attribution) === null || _d === void 0 ? void 0 : _d.trackPageViews)) {\n                            loggerProvider.warn(\"@amplitude/plugin-page-view-tracking-browser overrides page view tracking behavior defined in @amplitude/analytics-browser. Resolve by disabling page view tracking in @amplitude/analytics-browser.\");\n                            config.attribution.trackPageViews = false;\n                        }\n                        if (options.trackHistoryChanges && globalScope) {\n                            /* istanbul ignore next */\n                            globalScope.addEventListener('popstate', trackHistoryPageViewWrapper);\n                            // Save reference to original push state, to be used in teardown\n                            // eslint-disable-next-line @typescript-eslint/unbound-method\n                            pushState = globalScope.history.pushState;\n                            /* istanbul ignore next */\n                            // There is no global browser listener for changes to history, so we have\n                            // to modify pushState directly.\n                            // https://stackoverflow.com/a/64927639\n                            // eslint-disable-next-line @typescript-eslint/unbound-method\n                            globalScope.history.pushState = new Proxy(globalScope.history.pushState, {\n                                apply: function (target, thisArg, _a) {\n                                    var _b = __read(_a, 3), state = _b[0], unused = _b[1], url = _b[2];\n                                    target.apply(thisArg, [state, unused, url]);\n                                    void trackHistoryPageView();\n                                },\n                            });\n                        }\n                        if (!shouldTrackOnPageLoad()) return [3 /*break*/, 2];\n                        loggerProvider.log('Tracking page view event');\n                        _b = (_a = amplitude).track;\n                        return [4 /*yield*/, createPageViewEvent()];\n                    case 1:\n                        _b.apply(_a, [_e.sent()]);\n                        _e.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        }); },\n        execute: function (event) { return __awaiter(void 0, void 0, void 0, function () {\n            var pageViewEvent;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(options.trackOn === 'attribution' && isCampaignEvent(event))) return [3 /*break*/, 2];\n                        /* istanbul ignore next */ // loggerProvider should be defined by the time execute is invoked\n                        loggerProvider === null || loggerProvider === void 0 ? void 0 : loggerProvider.log('Enriching campaign event to page view event with campaign parameters');\n                        return [4 /*yield*/, createPageViewEvent()];\n                    case 1:\n                        pageViewEvent = _a.sent();\n                        event.event_type = pageViewEvent.event_type;\n                        event.event_properties = __assign(__assign({}, event.event_properties), pageViewEvent.event_properties);\n                        _a.label = 2;\n                    case 2: return [2 /*return*/, event];\n                }\n            });\n        }); },\n        teardown: function () { return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (globalScope) {\n                    globalScope.removeEventListener('popstate', trackHistoryPageViewWrapper);\n                    if (pushState) {\n                        globalScope.history.pushState = pushState;\n                    }\n                }\n                return [2 /*return*/];\n            });\n        }); },\n    };\n    // Required for unit tests\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    plugin.__trackHistoryPageView = trackHistoryPageView;\n    return plugin;\n};\nvar getCampaignParams = function () { return __awaiter(void 0, void 0, void 0, function () { var _a; return __generator(this, function (_b) {\n    switch (_b.label) {\n        case 0:\n            _a = omitUndefined;\n            return [4 /*yield*/, new CampaignParser().parse()];\n        case 1: return [2 /*return*/, _a.apply(void 0, [_b.sent()])];\n    }\n}); }); };\nvar isCampaignEvent = function (event) {\n    if (event.event_type === '$identify' && event.user_properties) {\n        var properties = event.user_properties;\n        var $set = properties[IdentifyOperation.SET] || {};\n        var $unset = properties[IdentifyOperation.UNSET] || {};\n        var userProperties_1 = __spreadArray(__spreadArray([], __read(Object.keys($set)), false), __read(Object.keys($unset)), false);\n        return Object.keys(BASE_CAMPAIGN).every(function (value) { return userProperties_1.includes(value); });\n    }\n    return false;\n};\nexport var shouldTrackHistoryPageView = function (trackingOption, newURL, oldURL) {\n    switch (trackingOption) {\n        case 'pathOnly':\n            return newURL.split('?')[0] !== oldURL.split('?')[0];\n        default:\n            return newURL !== oldURL;\n    }\n};\n//# sourceMappingURL=page-view-tracking.js.map","import { __assign, __read, __rest } from \"tslib\";\nimport { BASE_CAMPAIGN } from '@amplitude/analytics-client-common';\nimport { AMPLITUDE_PREFIX, createIdentifyEvent, Identify } from '@amplitude/analytics-core';\nexport var getStorageKey = function (apiKey, postKey, limit) {\n    if (postKey === void 0) { postKey = ''; }\n    if (limit === void 0) { limit = 10; }\n    return [AMPLITUDE_PREFIX, postKey, apiKey.substring(0, limit)].filter(Boolean).join('_');\n};\nvar domainWithoutSubdomain = function (domain) {\n    var parts = domain.split('.');\n    if (parts.length <= 2) {\n        return domain;\n    }\n    return parts.slice(parts.length - 2, parts.length).join('.');\n};\nexport var isNewCampaign = function (current, previous, options) {\n    var _a;\n    var referrer = current.referrer, referring_domain = current.referring_domain, currentCampaign = __rest(current, [\"referrer\", \"referring_domain\"]);\n    var _b = previous || {}, _previous_referrer = _b.referrer, prevReferringDomain = _b.referring_domain, previousCampaign = __rest(_b, [\"referrer\", \"referring_domain\"]);\n    if (current.referring_domain && ((_a = options.excludeReferrers) === null || _a === void 0 ? void 0 : _a.includes(current.referring_domain))) {\n        return false;\n    }\n    var hasNewCampaign = JSON.stringify(currentCampaign) !== JSON.stringify(previousCampaign);\n    var hasNewDomain = domainWithoutSubdomain(referring_domain || '') !== domainWithoutSubdomain(prevReferringDomain || '');\n    return !previous || hasNewCampaign || hasNewDomain;\n};\nexport var createCampaignEvent = function (campaign, options) {\n    var campaignParameters = __assign(__assign({}, BASE_CAMPAIGN), campaign);\n    var identifyEvent = Object.entries(campaignParameters).reduce(function (identify, _a) {\n        var _b;\n        var _c = __read(_a, 2), key = _c[0], value = _c[1];\n        identify.setOnce(\"initial_\".concat(key), (_b = value !== null && value !== void 0 ? value : options.initialEmptyValue) !== null && _b !== void 0 ? _b : 'EMPTY');\n        if (value) {\n            return identify.set(key, value);\n        }\n        return identify.unset(key);\n    }, new Identify());\n    return createIdentifyEvent(identifyEvent);\n};\n//# sourceMappingURL=helpers.js.map","import { __assign, __awaiter, __generator, __read } from \"tslib\";\nimport { CampaignParser } from '@amplitude/analytics-client-common';\nimport { PluginType, } from '@amplitude/analytics-types';\nimport { createCampaignEvent, getStorageKey, isNewCampaign } from './helpers';\nexport var webAttributionPlugin = function () {\n    var _this = this;\n    var _a;\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var amplitude;\n    var options = {};\n    var _b = __read(args, 2), clientOrOptions = _b[0], configOrUndefined = _b[1];\n    if (clientOrOptions && 'init' in clientOrOptions) {\n        amplitude = clientOrOptions;\n        if (configOrUndefined) {\n            options = configOrUndefined;\n        }\n    }\n    else if (clientOrOptions) {\n        options = clientOrOptions;\n    }\n    var excludeReferrers = (_a = options.excludeReferrers) !== null && _a !== void 0 ? _a : [];\n    if (typeof location !== 'undefined') {\n        excludeReferrers.unshift(location.hostname);\n    }\n    options = __assign(__assign({ disabled: false, initialEmptyValue: 'EMPTY', resetSessionOnNewCampaign: false }, options), { excludeReferrers: excludeReferrers });\n    var plugin = {\n        name: 'web-attribution',\n        type: PluginType.BEFORE,\n        setup: function (config, client) {\n            var _a;\n            return __awaiter(this, void 0, void 0, function () {\n                var receivedType, storage, storageKey, _b, currentCampaign, previousCampaign, pluginEnabledOverride, campaignEvent;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            amplitude = amplitude !== null && amplitude !== void 0 ? amplitude : client;\n                            if (!amplitude) {\n                                receivedType = clientOrOptions ? 'Options' : 'undefined';\n                                config.loggerProvider.error(\"Argument of type '\".concat(receivedType, \"' is not assignable to parameter of type 'BrowserClient'.\"));\n                                return [2 /*return*/];\n                            }\n                            if (options.disabled) {\n                                config.loggerProvider.log('@amplitude/plugin-web-attribution-browser is disabled. Attribution is not tracked.');\n                                return [2 /*return*/];\n                            }\n                            config.loggerProvider.log('Installing @amplitude/plugin-web-attribution-browser.');\n                            if (!client && !((_a = config.attribution) === null || _a === void 0 ? void 0 : _a.disabled)) {\n                                config.loggerProvider.warn('@amplitude/plugin-web-attribution-browser overrides web attribution behavior defined in @amplitude/analytics-browser. Resolve by disabling web attribution tracking in @amplitude/analytics-browser.');\n                                config.attribution = {\n                                    disabled: true,\n                                };\n                            }\n                            storage = config.cookieStorage;\n                            storageKey = getStorageKey(config.apiKey, 'MKTG');\n                            return [4 /*yield*/, Promise.all([\n                                    new CampaignParser().parse(),\n                                    storage.get(storageKey),\n                                ])];\n                        case 1:\n                            _b = __read.apply(void 0, [_c.sent(), 2]), currentCampaign = _b[0], previousCampaign = _b[1];\n                            pluginEnabledOverride = this.__pluginEnabledOverride;\n                            if (pluginEnabledOverride !== null && pluginEnabledOverride !== void 0 ? pluginEnabledOverride : isNewCampaign(currentCampaign, previousCampaign, options)) {\n                                if (options.resetSessionOnNewCampaign) {\n                                    amplitude.setSessionId(Date.now());\n                                    config.loggerProvider.log('Created a new session for new campaign.');\n                                }\n                                config.loggerProvider.log('Tracking attribution.');\n                                campaignEvent = createCampaignEvent(currentCampaign, options);\n                                amplitude.track(campaignEvent);\n                                void storage.set(storageKey, currentCampaign);\n                            }\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        execute: function (event) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n            return [2 /*return*/, event];\n        }); }); },\n    };\n    // For Amplitude-internal functionality\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    plugin.__pluginEnabledOverride = undefined;\n    return plugin;\n};\n//# sourceMappingURL=web-attribution.js.map","import { __awaiter, __generator } from \"tslib\";\nimport { getGlobalScope } from '@amplitude/analytics-client-common';\nvar MAX_ARRAY_LENGTH = 1000;\nvar LocalStorage = /** @class */ (function () {\n    function LocalStorage(config) {\n        this.loggerProvider = config === null || config === void 0 ? void 0 : config.loggerProvider;\n    }\n    LocalStorage.prototype.isEnabled = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var random, testStorage, testKey, value, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        /* istanbul ignore if */\n                        if (!getGlobalScope()) {\n                            return [2 /*return*/, false];\n                        }\n                        random = String(Date.now());\n                        testStorage = new LocalStorage();\n                        testKey = 'AMP_TEST';\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 4, 5, 7]);\n                        return [4 /*yield*/, testStorage.set(testKey, random)];\n                    case 2:\n                        _b.sent();\n                        return [4 /*yield*/, testStorage.get(testKey)];\n                    case 3:\n                        value = _b.sent();\n                        return [2 /*return*/, value === random];\n                    case 4:\n                        _a = _b.sent();\n                        /* istanbul ignore next */\n                        return [2 /*return*/, false];\n                    case 5: return [4 /*yield*/, testStorage.remove(testKey)];\n                    case 6:\n                        _b.sent();\n                        return [7 /*endfinally*/];\n                    case 7: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    LocalStorage.prototype.get = function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            var value, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.getRaw(key)];\n                    case 1:\n                        value = _b.sent();\n                        if (!value) {\n                            return [2 /*return*/, undefined];\n                        }\n                        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n                        return [2 /*return*/, JSON.parse(value)];\n                    case 2:\n                        _a = _b.sent();\n                        /* istanbul ignore next */\n                        return [2 /*return*/, undefined];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    LocalStorage.prototype.getRaw = function (key) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                return [2 /*return*/, ((_a = getGlobalScope()) === null || _a === void 0 ? void 0 : _a.localStorage.getItem(key)) || undefined];\n            });\n        });\n    };\n    LocalStorage.prototype.set = function (key, value) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function () {\n            var isExceededArraySize, serializedValue, droppedEventsCount;\n            return __generator(this, function (_c) {\n                isExceededArraySize = Array.isArray(value) && value.length > MAX_ARRAY_LENGTH;\n                try {\n                    serializedValue = isExceededArraySize\n                        ? JSON.stringify(value.slice(0, MAX_ARRAY_LENGTH))\n                        : JSON.stringify(value);\n                    (_a = getGlobalScope()) === null || _a === void 0 ? void 0 : _a.localStorage.setItem(key, serializedValue);\n                }\n                catch (_d) {\n                    //\n                }\n                if (isExceededArraySize) {\n                    droppedEventsCount = value.length - MAX_ARRAY_LENGTH;\n                    (_b = this.loggerProvider) === null || _b === void 0 ? void 0 : _b.error(\"Failed to save \".concat(droppedEventsCount, \" events because the queue length exceeded \").concat(MAX_ARRAY_LENGTH, \".\"));\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    LocalStorage.prototype.remove = function (key) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                try {\n                    (_a = getGlobalScope()) === null || _a === void 0 ? void 0 : _a.localStorage.removeItem(key);\n                }\n                catch (_c) {\n                    //\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    LocalStorage.prototype.reset = function () {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                try {\n                    (_a = getGlobalScope()) === null || _a === void 0 ? void 0 : _a.localStorage.clear();\n                }\n                catch (_c) {\n                    //\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    return LocalStorage;\n}());\nexport { LocalStorage };\n//# sourceMappingURL=local-storage.js.map","import { __awaiter, __extends, __generator } from \"tslib\";\nimport { BaseTransport } from '@amplitude/analytics-core';\nvar XHRTransport = /** @class */ (function (_super) {\n    __extends(XHRTransport, _super);\n    function XHRTransport() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            done: 4,\n        };\n        return _this;\n    }\n    XHRTransport.prototype.send = function (serverUrl, payload) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        /* istanbul ignore if */\n                        if (typeof XMLHttpRequest === 'undefined') {\n                            reject(new Error('XHRTransport is not supported.'));\n                        }\n                        var xhr = new XMLHttpRequest();\n                        xhr.open('POST', serverUrl, true);\n                        xhr.onreadystatechange = function () {\n                            if (xhr.readyState === _this.state.done) {\n                                var responseText = xhr.responseText;\n                                try {\n                                    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                                    resolve(_this.buildResponse(JSON.parse(responseText)));\n                                }\n                                catch (_a) {\n                                    resolve(_this.buildResponse({ code: xhr.status }));\n                                }\n                            }\n                        };\n                        xhr.setRequestHeader('Content-Type', 'application/json');\n                        xhr.setRequestHeader('Accept', '*/*');\n                        xhr.send(JSON.stringify(payload));\n                    })];\n            });\n        });\n    };\n    return XHRTransport;\n}(BaseTransport));\nexport { XHRTransport };\n//# sourceMappingURL=xhr.js.map","import { __awaiter, __extends, __generator } from \"tslib\";\nimport { getGlobalScope } from '@amplitude/analytics-client-common';\nimport { BaseTransport } from '@amplitude/analytics-core';\nvar SendBeaconTransport = /** @class */ (function (_super) {\n    __extends(SendBeaconTransport, _super);\n    function SendBeaconTransport() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SendBeaconTransport.prototype.send = function (serverUrl, payload) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        var globalScope = getGlobalScope();\n                        /* istanbul ignore if */\n                        if (!(globalScope === null || globalScope === void 0 ? void 0 : globalScope.navigator.sendBeacon)) {\n                            throw new Error('SendBeaconTransport is not supported');\n                        }\n                        try {\n                            var data = JSON.stringify(payload);\n                            var success = globalScope.navigator.sendBeacon(serverUrl, JSON.stringify(payload));\n                            if (success) {\n                                return resolve(_this.buildResponse({\n                                    code: 200,\n                                    events_ingested: payload.events.length,\n                                    payload_size_bytes: data.length,\n                                    server_upload_time: Date.now(),\n                                }));\n                            }\n                            return resolve(_this.buildResponse({ code: 500 }));\n                        }\n                        catch (e) {\n                            reject(e);\n                        }\n                    })];\n            });\n        });\n    };\n    return SendBeaconTransport;\n}(BaseTransport));\nexport { SendBeaconTransport };\n//# sourceMappingURL=send-beacon.js.map","export var VERSION = '1.14.0';\n//# sourceMappingURL=version.js.map","import { __assign, __awaiter, __extends, __generator, __values } from \"tslib\";\nimport { TransportType, } from '@amplitude/analytics-types';\nimport { Config, MemoryStorage, UUID } from '@amplitude/analytics-core';\nimport { CookieStorage, getCookieName, FetchTransport } from '@amplitude/analytics-client-common';\nimport { LocalStorage } from './storage/local-storage';\nimport { XHRTransport } from './transports/xhr';\nimport { SendBeaconTransport } from './transports/send-beacon';\nimport { VERSION } from './version';\nexport var getDefaultConfig = function () {\n    var cookieStorage = new MemoryStorage();\n    var trackingOptions = {\n        deviceManufacturer: true,\n        deviceModel: true,\n        ipAddress: true,\n        language: true,\n        osName: true,\n        osVersion: true,\n        platform: true,\n    };\n    return {\n        cookieExpiration: 365,\n        cookieSameSite: 'Lax',\n        cookieSecure: false,\n        cookieStorage: cookieStorage,\n        cookieUpgrade: true,\n        disableCookies: false,\n        domain: '',\n        sessionTimeout: 30 * 60 * 1000,\n        trackingOptions: trackingOptions,\n        transportProvider: new FetchTransport(),\n    };\n};\nvar BrowserConfig = /** @class */ (function (_super) {\n    __extends(BrowserConfig, _super);\n    function BrowserConfig(apiKey, options) {\n        var _this = this;\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n        var defaultConfig = getDefaultConfig();\n        _this = _super.call(this, __assign(__assign({ flushIntervalMillis: 1000, flushMaxRetries: 5, flushQueueSize: 30, transportProvider: defaultConfig.transportProvider }, options), { apiKey: apiKey })) || this;\n        _this.version = VERSION;\n        _this._optOut = false;\n        // NOTE: Define `cookieStorage` first to persist user session\n        // user session properties expect `cookieStorage` to be defined\n        _this.cookieStorage = (_a = options === null || options === void 0 ? void 0 : options.cookieStorage) !== null && _a !== void 0 ? _a : defaultConfig.cookieStorage;\n        _this.deviceId = options === null || options === void 0 ? void 0 : options.deviceId;\n        _this.lastEventId = options === null || options === void 0 ? void 0 : options.lastEventId;\n        _this.lastEventTime = options === null || options === void 0 ? void 0 : options.lastEventTime;\n        _this.optOut = Boolean(options === null || options === void 0 ? void 0 : options.optOut);\n        _this.sessionId = options === null || options === void 0 ? void 0 : options.sessionId;\n        _this.userId = options === null || options === void 0 ? void 0 : options.userId;\n        _this.appVersion = options === null || options === void 0 ? void 0 : options.appVersion;\n        _this.attribution = options === null || options === void 0 ? void 0 : options.attribution;\n        _this.cookieExpiration = (_b = options === null || options === void 0 ? void 0 : options.cookieExpiration) !== null && _b !== void 0 ? _b : defaultConfig.cookieExpiration;\n        _this.cookieSameSite = (_c = options === null || options === void 0 ? void 0 : options.cookieSameSite) !== null && _c !== void 0 ? _c : defaultConfig.cookieSameSite;\n        _this.cookieSecure = (_d = options === null || options === void 0 ? void 0 : options.cookieSecure) !== null && _d !== void 0 ? _d : defaultConfig.cookieSecure;\n        _this.cookieUpgrade = (_e = options === null || options === void 0 ? void 0 : options.cookieUpgrade) !== null && _e !== void 0 ? _e : defaultConfig.cookieUpgrade;\n        _this.defaultTracking = options === null || options === void 0 ? void 0 : options.defaultTracking;\n        _this.disableCookies = (_f = options === null || options === void 0 ? void 0 : options.disableCookies) !== null && _f !== void 0 ? _f : defaultConfig.disableCookies;\n        _this.defaultTracking = options === null || options === void 0 ? void 0 : options.defaultTracking;\n        _this.domain = (_g = options === null || options === void 0 ? void 0 : options.domain) !== null && _g !== void 0 ? _g : defaultConfig.domain;\n        _this.partnerId = options === null || options === void 0 ? void 0 : options.partnerId;\n        _this.sessionTimeout = (_h = options === null || options === void 0 ? void 0 : options.sessionTimeout) !== null && _h !== void 0 ? _h : defaultConfig.sessionTimeout;\n        _this.trackingOptions = (_j = options === null || options === void 0 ? void 0 : options.trackingOptions) !== null && _j !== void 0 ? _j : defaultConfig.trackingOptions;\n        return _this;\n    }\n    Object.defineProperty(BrowserConfig.prototype, \"deviceId\", {\n        get: function () {\n            return this._deviceId;\n        },\n        set: function (deviceId) {\n            if (this._deviceId !== deviceId) {\n                this._deviceId = deviceId;\n                this.updateStorage();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BrowserConfig.prototype, \"userId\", {\n        get: function () {\n            return this._userId;\n        },\n        set: function (userId) {\n            if (this._userId !== userId) {\n                this._userId = userId;\n                this.updateStorage();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BrowserConfig.prototype, \"sessionId\", {\n        get: function () {\n            return this._sessionId;\n        },\n        set: function (sessionId) {\n            if (this._sessionId !== sessionId) {\n                this._sessionId = sessionId;\n                this.updateStorage();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BrowserConfig.prototype, \"optOut\", {\n        get: function () {\n            return this._optOut;\n        },\n        set: function (optOut) {\n            if (this._optOut !== optOut) {\n                this._optOut = optOut;\n                this.updateStorage();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BrowserConfig.prototype, \"lastEventTime\", {\n        get: function () {\n            return this._lastEventTime;\n        },\n        set: function (lastEventTime) {\n            if (this._lastEventTime !== lastEventTime) {\n                this._lastEventTime = lastEventTime;\n                this.updateStorage();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BrowserConfig.prototype, \"lastEventId\", {\n        get: function () {\n            return this._lastEventId;\n        },\n        set: function (lastEventId) {\n            if (this._lastEventId !== lastEventId) {\n                this._lastEventId = lastEventId;\n                this.updateStorage();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BrowserConfig.prototype.updateStorage = function () {\n        var _a;\n        var cache = {\n            deviceId: this._deviceId,\n            userId: this._userId,\n            sessionId: this._sessionId,\n            optOut: this._optOut,\n            lastEventTime: this._lastEventTime,\n            lastEventId: this._lastEventId,\n        };\n        void ((_a = this.cookieStorage) === null || _a === void 0 ? void 0 : _a.set(getCookieName(this.apiKey), cache));\n    };\n    return BrowserConfig;\n}(Config));\nexport { BrowserConfig };\nexport var useBrowserConfig = function (apiKey, options) { return __awaiter(void 0, void 0, void 0, function () {\n    var defaultConfig, deviceId, lastEventId, lastEventTime, optOut, sessionId, userId, cookieStorage, domain, _a, _b, _c;\n    var _d;\n    var _e, _f;\n    return __generator(this, function (_g) {\n        switch (_g.label) {\n            case 0:\n                defaultConfig = getDefaultConfig();\n                deviceId = (_e = options === null || options === void 0 ? void 0 : options.deviceId) !== null && _e !== void 0 ? _e : UUID();\n                lastEventId = options === null || options === void 0 ? void 0 : options.lastEventId;\n                lastEventTime = options === null || options === void 0 ? void 0 : options.lastEventTime;\n                optOut = options === null || options === void 0 ? void 0 : options.optOut;\n                sessionId = options === null || options === void 0 ? void 0 : options.sessionId;\n                userId = options === null || options === void 0 ? void 0 : options.userId;\n                cookieStorage = options === null || options === void 0 ? void 0 : options.cookieStorage;\n                domain = options === null || options === void 0 ? void 0 : options.domain;\n                _a = BrowserConfig.bind;\n                _b = [void 0, apiKey];\n                _c = [__assign({}, options)];\n                _d = { cookieStorage: cookieStorage, deviceId: deviceId, domain: domain, lastEventId: lastEventId, lastEventTime: lastEventTime, optOut: optOut, sessionId: sessionId };\n                return [4 /*yield*/, createEventsStorage(options)];\n            case 1: return [2 /*return*/, new (_a.apply(BrowserConfig, _b.concat([__assign.apply(void 0, _c.concat([(_d.storageProvider = _g.sent(), _d.trackingOptions = __assign(__assign({}, defaultConfig.trackingOptions), options === null || options === void 0 ? void 0 : options.trackingOptions), _d.transportProvider = (_f = options === null || options === void 0 ? void 0 : options.transportProvider) !== null && _f !== void 0 ? _f : createTransport(options === null || options === void 0 ? void 0 : options.transport), _d.userId = userId, _d)]))])))()];\n        }\n    });\n}); };\nexport var createCookieStorage = function (overrides, baseConfig) {\n    if (baseConfig === void 0) { baseConfig = getDefaultConfig(); }\n    return __awaiter(void 0, void 0, void 0, function () {\n        var options, cookieStorage, _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    options = __assign(__assign({}, baseConfig), overrides);\n                    cookieStorage = overrides === null || overrides === void 0 ? void 0 : overrides.cookieStorage;\n                    _a = !cookieStorage;\n                    if (_a) return [3 /*break*/, 2];\n                    return [4 /*yield*/, cookieStorage.isEnabled()];\n                case 1:\n                    _a = !(_b.sent());\n                    _b.label = 2;\n                case 2:\n                    if (_a) {\n                        return [2 /*return*/, createFlexibleStorage(options)];\n                    }\n                    return [2 /*return*/, cookieStorage];\n            }\n        });\n    });\n};\nvar createFlexibleStorage = function (options) { return __awaiter(void 0, void 0, void 0, function () {\n    var storage, _a;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                storage = new CookieStorage({\n                    domain: options.domain,\n                    expirationDays: options.cookieExpiration,\n                    sameSite: options.cookieSameSite,\n                    secure: options.cookieSecure,\n                });\n                _a = options.disableCookies;\n                if (_a) return [3 /*break*/, 2];\n                return [4 /*yield*/, storage.isEnabled()];\n            case 1:\n                _a = !(_b.sent());\n                _b.label = 2;\n            case 2:\n                if (!_a) return [3 /*break*/, 4];\n                storage = new LocalStorage();\n                return [4 /*yield*/, storage.isEnabled()];\n            case 3:\n                if (!(_b.sent())) {\n                    storage = new MemoryStorage();\n                }\n                _b.label = 4;\n            case 4: return [2 /*return*/, storage];\n        }\n    });\n}); };\nexport var createEventsStorage = function (overrides) { return __awaiter(void 0, void 0, void 0, function () {\n    var hasStorageProviderProperty, loggerProvider, _a, _b, storage, _c, e_1_1;\n    var e_1, _d;\n    return __generator(this, function (_e) {\n        switch (_e.label) {\n            case 0:\n                hasStorageProviderProperty = overrides && Object.prototype.hasOwnProperty.call(overrides, 'storageProvider');\n                loggerProvider = overrides && overrides.loggerProvider;\n                if (!(!hasStorageProviderProperty || overrides.storageProvider)) return [3 /*break*/, 9];\n                _e.label = 1;\n            case 1:\n                _e.trys.push([1, 7, 8, 9]);\n                _a = __values([overrides === null || overrides === void 0 ? void 0 : overrides.storageProvider, new LocalStorage({ loggerProvider: loggerProvider })]), _b = _a.next();\n                _e.label = 2;\n            case 2:\n                if (!!_b.done) return [3 /*break*/, 6];\n                storage = _b.value;\n                _c = storage;\n                if (!_c) return [3 /*break*/, 4];\n                return [4 /*yield*/, storage.isEnabled()];\n            case 3:\n                _c = (_e.sent());\n                _e.label = 4;\n            case 4:\n                if (_c) {\n                    return [2 /*return*/, storage];\n                }\n                _e.label = 5;\n            case 5:\n                _b = _a.next();\n                return [3 /*break*/, 2];\n            case 6: return [3 /*break*/, 9];\n            case 7:\n                e_1_1 = _e.sent();\n                e_1 = { error: e_1_1 };\n                return [3 /*break*/, 9];\n            case 8:\n                try {\n                    if (_b && !_b.done && (_d = _a.return)) _d.call(_a);\n                }\n                finally { if (e_1) throw e_1.error; }\n                return [7 /*endfinally*/];\n            case 9: return [2 /*return*/, undefined];\n        }\n    });\n}); };\nexport var createTransport = function (transport) {\n    if (transport === TransportType.XHR) {\n        return new XHRTransport();\n    }\n    if (transport === TransportType.SendBeacon) {\n        return new SendBeaconTransport();\n    }\n    return getDefaultConfig().transportProvider;\n};\nexport var getTopLevelDomain = function (url) { return __awaiter(void 0, void 0, void 0, function () {\n    var host, parts, levels, storageKey, i, i, domain, options, storage, value;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, new CookieStorage().isEnabled()];\n            case 1:\n                if (!(_a.sent()) ||\n                    (!url && (typeof location === 'undefined' || !location.hostname))) {\n                    return [2 /*return*/, ''];\n                }\n                host = url !== null && url !== void 0 ? url : location.hostname;\n                parts = host.split('.');\n                levels = [];\n                storageKey = 'AMP_TLDTEST';\n                for (i = parts.length - 2; i >= 0; --i) {\n                    levels.push(parts.slice(i).join('.'));\n                }\n                i = 0;\n                _a.label = 2;\n            case 2:\n                if (!(i < levels.length)) return [3 /*break*/, 7];\n                domain = levels[i];\n                options = { domain: '.' + domain };\n                storage = new CookieStorage(options);\n                return [4 /*yield*/, storage.set(storageKey, 1)];\n            case 3:\n                _a.sent();\n                return [4 /*yield*/, storage.get(storageKey)];\n            case 4:\n                value = _a.sent();\n                if (!value) return [3 /*break*/, 6];\n                return [4 /*yield*/, storage.remove(storageKey)];\n            case 5:\n                _a.sent();\n                return [2 /*return*/, '.' + domain];\n            case 6:\n                i++;\n                return [3 /*break*/, 2];\n            case 7: return [2 /*return*/, ''];\n        }\n    });\n}); };\n//# sourceMappingURL=config.js.map","export var DEFAULT_EVENT_PREFIX = '[Amplitude]';\nexport var DEFAULT_PAGE_VIEW_EVENT = \"\".concat(DEFAULT_EVENT_PREFIX, \" Page Viewed\");\nexport var DEFAULT_FORM_START_EVENT = \"\".concat(DEFAULT_EVENT_PREFIX, \" Form Started\");\nexport var DEFAULT_FORM_SUBMIT_EVENT = \"\".concat(DEFAULT_EVENT_PREFIX, \" Form Submitted\");\nexport var DEFAULT_FILE_DOWNLOAD_EVENT = \"\".concat(DEFAULT_EVENT_PREFIX, \" File Downloaded\");\nexport var DEFAULT_SESSION_START_EVENT = 'session_start';\nexport var DEFAULT_SESSION_END_EVENT = 'session_end';\nexport var FILE_EXTENSION = \"\".concat(DEFAULT_EVENT_PREFIX, \" File Extension\");\nexport var FILE_NAME = \"\".concat(DEFAULT_EVENT_PREFIX, \" File Name\");\nexport var LINK_ID = \"\".concat(DEFAULT_EVENT_PREFIX, \" Link ID\");\nexport var LINK_TEXT = \"\".concat(DEFAULT_EVENT_PREFIX, \" Link Text\");\nexport var LINK_URL = \"\".concat(DEFAULT_EVENT_PREFIX, \" Link URL\");\nexport var FORM_ID = \"\".concat(DEFAULT_EVENT_PREFIX, \" Form ID\");\nexport var FORM_NAME = \"\".concat(DEFAULT_EVENT_PREFIX, \" Form Name\");\nexport var FORM_DESTINATION = \"\".concat(DEFAULT_EVENT_PREFIX, \" Form Destination\");\n//# sourceMappingURL=constants.js.map","import { __awaiter, __generator, __read } from \"tslib\";\nimport { getOldCookieName } from '@amplitude/analytics-client-common';\nimport { createCookieStorage, getDefaultConfig } from '../config';\nexport var parseLegacyCookies = function (apiKey, options) { return __awaiter(void 0, void 0, void 0, function () {\n    var storage, oldCookieName, cookies, _a, deviceId, userId, optOut, sessionId, lastEventTime, lastEventId;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0: return [4 /*yield*/, createCookieStorage(options)];\n            case 1:\n                storage = _c.sent();\n                oldCookieName = getOldCookieName(apiKey);\n                return [4 /*yield*/, storage.getRaw(oldCookieName)];\n            case 2:\n                cookies = _c.sent();\n                if (!cookies) {\n                    return [2 /*return*/, {\n                            optOut: false,\n                        }];\n                }\n                if (!((_b = options.cookieUpgrade) !== null && _b !== void 0 ? _b : getDefaultConfig().cookieUpgrade)) return [3 /*break*/, 4];\n                return [4 /*yield*/, storage.remove(oldCookieName)];\n            case 3:\n                _c.sent();\n                _c.label = 4;\n            case 4:\n                _a = __read(cookies.split('.'), 6), deviceId = _a[0], userId = _a[1], optOut = _a[2], sessionId = _a[3], lastEventTime = _a[4], lastEventId = _a[5];\n                return [2 /*return*/, {\n                        deviceId: deviceId,\n                        userId: decode(userId),\n                        sessionId: parseTime(sessionId),\n                        lastEventId: parseTime(lastEventId),\n                        lastEventTime: parseTime(lastEventTime),\n                        optOut: Boolean(optOut),\n                    }];\n        }\n    });\n}); };\nexport var parseTime = function (num) {\n    var integer = parseInt(num, 32);\n    if (isNaN(integer)) {\n        return undefined;\n    }\n    return integer;\n};\nexport var decode = function (value) {\n    if (!atob || !escape || !value) {\n        return undefined;\n    }\n    try {\n        return decodeURIComponent(escape(atob(value)));\n    }\n    catch (_a) {\n        return undefined;\n    }\n};\n//# sourceMappingURL=index.js.map","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v0.7.33\n   Copyright  2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License */ /*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment.\n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n  \"use strict\";\n\n  //////////////\n  // Constants\n  /////////////\n\n  var LIBVERSION = \"0.7.33\",\n    EMPTY = \"\",\n    UNKNOWN = \"?\",\n    FUNC_TYPE = \"function\",\n    UNDEF_TYPE = \"undefined\",\n    OBJ_TYPE = \"object\",\n    STR_TYPE = \"string\",\n    MAJOR = \"major\",\n    MODEL = \"model\",\n    NAME = \"name\",\n    TYPE = \"type\",\n    VENDOR = \"vendor\",\n    VERSION = \"version\",\n    ARCHITECTURE = \"architecture\",\n    CONSOLE = \"console\",\n    MOBILE = \"mobile\",\n    TABLET = \"tablet\",\n    SMARTTV = \"smarttv\",\n    WEARABLE = \"wearable\",\n    EMBEDDED = \"embedded\",\n    UA_MAX_LENGTH = 350;\n\n  var AMAZON = \"Amazon\",\n    APPLE = \"Apple\",\n    ASUS = \"ASUS\",\n    BLACKBERRY = \"BlackBerry\",\n    BROWSER = \"Browser\",\n    CHROME = \"Chrome\",\n    EDGE = \"Edge\",\n    FIREFOX = \"Firefox\",\n    GOOGLE = \"Google\",\n    HUAWEI = \"Huawei\",\n    LG = \"LG\",\n    MICROSOFT = \"Microsoft\",\n    MOTOROLA = \"Motorola\",\n    OPERA = \"Opera\",\n    SAMSUNG = \"Samsung\",\n    SHARP = \"Sharp\",\n    SONY = \"Sony\",\n    XIAOMI = \"Xiaomi\",\n    ZEBRA = \"Zebra\",\n    FACEBOOK = \"Facebook\";\n\n  ///////////\n  // Helper\n  //////////\n\n  var extend = function (regexes, extensions) {\n      var mergedRegexes = {};\n      for (var i in regexes) {\n        if (extensions[i] && extensions[i].length % 2 === 0) {\n          mergedRegexes[i] = extensions[i].concat(regexes[i]);\n        } else {\n          mergedRegexes[i] = regexes[i];\n        }\n      }\n      return mergedRegexes;\n    },\n    enumerize = function (arr) {\n      var enums = {};\n      for (var i = 0; i < arr.length; i++) {\n        enums[arr[i].toUpperCase()] = arr[i];\n      }\n      return enums;\n    },\n    has = function (str1, str2) {\n      return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n    },\n    lowerize = function (str) {\n      return str.toLowerCase();\n    },\n    majorize = function (version) {\n      return typeof version === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split(\".\")[0] : undefined;\n    },\n    trim = function (str, len) {\n      if (typeof str === STR_TYPE) {\n        str = str.replace(/^\\s\\s*/, EMPTY);\n        return typeof len === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n      }\n    };\n\n  ///////////////\n  // Map helper\n  //////////////\n\n  var rgxMapper = function (ua, arrays) {\n      var i = 0,\n        j,\n        k,\n        p,\n        q,\n        matches,\n        match;\n\n      // loop through all regexes maps\n      while (i < arrays.length && !matches) {\n        var regex = arrays[i], // even sequence (0,2,4,..)\n          props = arrays[i + 1]; // odd sequence (1,3,5,..)\n        j = k = 0;\n\n        // try matching uastring with regexes\n        while (j < regex.length && !matches) {\n          matches = regex[j++].exec(ua);\n\n          if (!!matches) {\n            for (p = 0; p < props.length; p++) {\n              match = matches[++k];\n              q = props[p];\n              // check if given property is actually array\n              if (typeof q === OBJ_TYPE && q.length > 0) {\n                if (q.length === 2) {\n                  if (typeof q[1] == FUNC_TYPE) {\n                    // assign modified match\n                    this[q[0]] = q[1].call(this, match);\n                  } else {\n                    // assign given value, ignore regex match\n                    this[q[0]] = q[1];\n                  }\n                } else if (q.length === 3) {\n                  // check whether function or regex\n                  if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                    // call function (usually string mapper)\n                    this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                  } else {\n                    // sanitize match using given regex\n                    this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                  }\n                } else if (q.length === 4) {\n                  this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                }\n              } else {\n                this[q] = match ? match : undefined;\n              }\n            }\n          }\n        }\n        i += 2;\n      }\n    },\n    strMapper = function (str, map) {\n      for (var i in map) {\n        // check if current value is array\n        if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n          for (var j = 0; j < map[i].length; j++) {\n            if (has(map[i][j], str)) {\n              return i === UNKNOWN ? undefined : i;\n            }\n          }\n        } else if (has(map[i], str)) {\n          return i === UNKNOWN ? undefined : i;\n        }\n      }\n      return str;\n    };\n\n  ///////////////\n  // String map\n  //////////////\n\n  // Safari < 3.0\n  var oldSafariMap = {\n      \"1.0\": \"/8\",\n      1.2: \"/1\",\n      1.3: \"/3\",\n      \"2.0\": \"/412\",\n      \"2.0.2\": \"/416\",\n      \"2.0.3\": \"/417\",\n      \"2.0.4\": \"/419\",\n      \"?\": \"/\"\n    },\n    windowsVersionMap = {\n      ME: \"4.90\",\n      \"NT 3.11\": \"NT3.51\",\n      \"NT 4.0\": \"NT4.0\",\n      2000: \"NT 5.0\",\n      XP: [\"NT 5.1\", \"NT 5.2\"],\n      Vista: \"NT 6.0\",\n      7: \"NT 6.1\",\n      8: \"NT 6.2\",\n      8.1: \"NT 6.3\",\n      10: [\"NT 6.4\", \"NT 10.0\"],\n      RT: \"ARM\"\n    };\n\n  //////////////\n  // Regex map\n  /////////////\n\n  var regexes = {\n    browser: [\n      [\n        /\\b(?:crmo|crios)\\/([\\w\\.]+)/i // Chrome for Android/iOS\n      ],\n      [VERSION, [NAME, \"Chrome\"]],\n      [\n        /edg(?:e|ios|a)?\\/([\\w\\.]+)/i // Microsoft Edge\n      ],\n      [VERSION, [NAME, \"Edge\"]],\n      [\n        // Presto based\n        /(opera mini)\\/([-\\w\\.]+)/i, // Opera Mini\n        /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i, // Opera Mobi/Tablet\n        /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i // Opera\n      ],\n      [NAME, VERSION],\n      [\n        /opios[\\/ ]+([\\w\\.]+)/i // Opera mini on iphone >= 8.0\n      ],\n      [VERSION, [NAME, OPERA + \" Mini\"]],\n      [\n        /\\bopr\\/([\\w\\.]+)/i // Opera Webkit\n      ],\n      [VERSION, [NAME, OPERA]],\n      [\n        // Mixed\n        /(kindle)\\/([\\w\\.]+)/i, // Kindle\n        /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i, // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n        // Trident based\n        /(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i, // Avant/IEMobile/SlimBrowser\n        /(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i, // Baidu Browser\n        /(?:ms|\\()(ie) ([\\w\\.]+)/i, // Internet Explorer\n\n        // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n        /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n        // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n        /(weibo)__([\\d\\.]+)/i // Weibo\n      ],\n      [NAME, VERSION],\n      [\n        /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i // UCBrowser\n      ],\n      [VERSION, [NAME, \"UC\" + BROWSER]],\n      [\n        /microm.+\\bqbcore\\/([\\w\\.]+)/i, // WeChat Desktop for Windows Built-in Browser\n        /\\bqbcore\\/([\\w\\.]+).+microm/i\n      ],\n      [VERSION, [NAME, \"WeChat(Win) Desktop\"]],\n      [\n        /micromessenger\\/([\\w\\.]+)/i // WeChat\n      ],\n      [VERSION, [NAME, \"WeChat\"]],\n      [\n        /konqueror\\/([\\w\\.]+)/i // Konqueror\n      ],\n      [VERSION, [NAME, \"Konqueror\"]],\n      [\n        /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i // IE11\n      ],\n      [VERSION, [NAME, \"IE\"]],\n      [\n        /yabrowser\\/([\\w\\.]+)/i // Yandex\n      ],\n      [VERSION, [NAME, \"Yandex\"]],\n      [\n        /(avast|avg)\\/([\\w\\.]+)/i // Avast/AVG Secure Browser\n      ],\n      [[NAME, /(.+)/, \"$1 Secure \" + BROWSER], VERSION],\n      [\n        /\\bfocus\\/([\\w\\.]+)/i // Firefox Focus\n      ],\n      [VERSION, [NAME, FIREFOX + \" Focus\"]],\n      [\n        /\\bopt\\/([\\w\\.]+)/i // Opera Touch\n      ],\n      [VERSION, [NAME, OPERA + \" Touch\"]],\n      [\n        /coc_coc\\w+\\/([\\w\\.]+)/i // Coc Coc Browser\n      ],\n      [VERSION, [NAME, \"Coc Coc\"]],\n      [\n        /dolfin\\/([\\w\\.]+)/i // Dolphin\n      ],\n      [VERSION, [NAME, \"Dolphin\"]],\n      [\n        /coast\\/([\\w\\.]+)/i // Opera Coast\n      ],\n      [VERSION, [NAME, OPERA + \" Coast\"]],\n      [\n        /miuibrowser\\/([\\w\\.]+)/i // MIUI Browser\n      ],\n      [VERSION, [NAME, \"MIUI \" + BROWSER]],\n      [\n        /fxios\\/([-\\w\\.]+)/i // Firefox for iOS\n      ],\n      [VERSION, [NAME, FIREFOX]],\n      [\n        /\\bqihu|(qi?ho?o?|360)browser/i // 360\n      ],\n      [[NAME, \"360 \" + BROWSER]],\n      [/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],\n      [[NAME, /(.+)/, \"$1 \" + BROWSER], VERSION],\n      [\n        // Oculus/Samsung/Sailfish/Huawei Browser\n        /(comodo_dragon)\\/([\\w\\.]+)/i // Comodo Dragon\n      ],\n      [[NAME, /_/g, \" \"], VERSION],\n      [\n        /(electron)\\/([\\w\\.]+) safari/i, // Electron-based App\n        /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i, // Tesla\n        /m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i // QQBrowser/Baidu App/2345 Browser\n      ],\n      [NAME, VERSION],\n      [\n        /(metasr)[\\/ ]?([\\w\\.]+)/i, // SouGouBrowser\n        /(lbbrowser)/i, // LieBao Browser\n        /\\[(linkedin)app\\]/i // LinkedIn App for iOS & Android\n      ],\n      [NAME],\n      [\n        // WebView\n        /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i // Facebook App for iOS & Android\n      ],\n      [[NAME, FACEBOOK], VERSION],\n      [\n        /safari (line)\\/([\\w\\.]+)/i, // Line App for iOS\n        /\\b(line)\\/([\\w\\.]+)\\/iab/i, // Line App for Android\n        /(chromium|instagram)[\\/ ]([-\\w\\.]+)/i // Chromium/Instagram\n      ],\n      [NAME, VERSION],\n      [\n        /\\bgsa\\/([\\w\\.]+) .*safari\\//i // Google Search Appliance on iOS\n      ],\n      [VERSION, [NAME, \"GSA\"]],\n      [\n        /headlesschrome(?:\\/([\\w\\.]+)| )/i // Chrome Headless\n      ],\n      [VERSION, [NAME, CHROME + \" Headless\"]],\n      [\n        / wv\\).+(chrome)\\/([\\w\\.]+)/i // Chrome WebView\n      ],\n      [[NAME, CHROME + \" WebView\"], VERSION],\n      [\n        /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i // Android Browser\n      ],\n      [VERSION, [NAME, \"Android \" + BROWSER]],\n      [\n        /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i // Chrome/OmniWeb/Arora/Tizen/Nokia\n      ],\n      [NAME, VERSION],\n      [\n        /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i // Mobile Safari\n      ],\n      [VERSION, [NAME, \"Mobile Safari\"]],\n      [\n        /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i // Safari & Safari Mobile\n      ],\n      [VERSION, NAME],\n      [\n        /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i // Safari < 3.0\n      ],\n      [NAME, [VERSION, strMapper, oldSafariMap]],\n      [/(webkit|khtml)\\/([\\w\\.]+)/i],\n      [NAME, VERSION],\n      [\n        // Gecko based\n        /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i // Netscape\n      ],\n      [[NAME, \"Netscape\"], VERSION],\n      [\n        /mobile vr; rv:([\\w\\.]+)\\).+firefox/i // Firefox Reality\n      ],\n      [VERSION, [NAME, FIREFOX + \" Reality\"]],\n      [\n        /ekiohf.+(flow)\\/([\\w\\.]+)/i, // Flow\n        /(swiftfox)/i, // Swiftfox\n        /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n        // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n        /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n        // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n        /(firefox)\\/([\\w\\.]+)/i, // Other Firefox-based\n        /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i, // Mozilla\n\n        // Other\n        /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n        // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n        /(links) \\(([\\w\\.]+)/i // Links\n      ],\n      [NAME, VERSION],\n      [\n        /(cobalt)\\/([\\w\\.]+)/i // Cobalt\n      ],\n      [NAME, [VERSION, /master.|lts./, \"\"]]\n    ],\n\n    cpu: [\n      [\n        /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i // AMD64 (x64)\n      ],\n      [[ARCHITECTURE, \"amd64\"]],\n      [\n        /(ia32(?=;))/i // IA32 (quicktime)\n      ],\n      [[ARCHITECTURE, lowerize]],\n      [\n        /((?:i[346]|x)86)[;\\)]/i // IA32 (x86)\n      ],\n      [[ARCHITECTURE, \"ia32\"]],\n      [\n        /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i // ARM64\n      ],\n      [[ARCHITECTURE, \"arm64\"]],\n      [\n        /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i // ARMHF\n      ],\n      [[ARCHITECTURE, \"armhf\"]],\n      [\n        // PocketPC mistakenly identified as PowerPC\n        /windows (ce|mobile); ppc;/i\n      ],\n      [[ARCHITECTURE, \"arm\"]],\n      [\n        /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i // PowerPC\n      ],\n      [[ARCHITECTURE, /ower/, EMPTY, lowerize]],\n      [\n        /(sun4\\w)[;\\)]/i // SPARC\n      ],\n      [[ARCHITECTURE, \"sparc\"]],\n      [\n        /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n        // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n      ],\n      [[ARCHITECTURE, lowerize]]\n    ],\n\n    device: [\n      [\n        //////////////////////////\n        // MOBILES & TABLETS\n        // Ordered by popularity\n        /////////////////////////\n\n        // Samsung\n        /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n      ],\n      [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]],\n      [\n        /\\b((?:s[cgp]h|gt|sm)-\\w+|galaxy nexus)/i,\n        /samsung[- ]([-\\w]+)/i,\n        /sec-(sgh\\w+)/i\n      ],\n      [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]],\n      [\n        // Apple\n        /((ipod|iphone)\\d+,\\d+)/i // iPod/iPhone model\n      ],\n      [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]],\n      [\n        /(ipad\\d+,\\d+)/i // iPad model\n      ],\n      [MODEL, [VENDOR, APPLE], [TYPE, TABLET]],\n      [\n        /\\((ip(?:hone|od)[\\w ]*);/i // iPod/iPhone\n      ],\n      [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]],\n      [\n        /\\((ipad);[-\\w\\),; ]+apple/i, // iPad\n        /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n        /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n      ],\n      [MODEL, [VENDOR, APPLE], [TYPE, TABLET]],\n      [/(macintosh);/i],\n      [MODEL, [VENDOR, APPLE]],\n      [\n        // Huawei\n        /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n      ],\n      [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]],\n      [\n        /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n        /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n      ],\n      [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]],\n      [\n        // Xiaomi\n        /\\b(poco[\\w ]+)(?: bui|\\))/i, // Xiaomi POCO\n        /\\b; (\\w+) build\\/hm\\1/i, // Xiaomi Hongmi 'numeric' models\n        /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i, // Xiaomi Hongmi\n        /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i, // Xiaomi Redmi\n        /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n      ],\n      [\n        [MODEL, /_/g, \" \"],\n        [VENDOR, XIAOMI],\n        [TYPE, MOBILE]\n      ],\n      [\n        /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i // Mi Pad tablets\n      ],\n      [\n        [MODEL, /_/g, \" \"],\n        [VENDOR, XIAOMI],\n        [TYPE, TABLET]\n      ],\n      [\n        // OPPO\n        /; (\\w+) bui.+ oppo/i,\n        /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n      ],\n      [MODEL, [VENDOR, \"OPPO\"], [TYPE, MOBILE]],\n      [\n        // Vivo\n        /vivo (\\w+)(?: bui|\\))/i,\n        /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n      ],\n      [MODEL, [VENDOR, \"Vivo\"], [TYPE, MOBILE]],\n      [\n        // Realme\n        /\\b(rmx[12]\\d{3})(?: bui|;|\\))/i\n      ],\n      [MODEL, [VENDOR, \"Realme\"], [TYPE, MOBILE]],\n      [\n        // Motorola\n        /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n        /\\bmot(?:orola)?[- ](\\w*)/i,\n        /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n      ],\n      [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]],\n      [/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],\n      [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]],\n      [\n        // LG\n        /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n      ],\n      [MODEL, [VENDOR, LG], [TYPE, TABLET]],\n      [\n        /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n        /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n        /\\blg-?([\\d\\w]+) bui/i\n      ],\n      [MODEL, [VENDOR, LG], [TYPE, MOBILE]],\n      [\n        // Lenovo\n        /(ideatab[-\\w ]+)/i,\n        /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n      ],\n      [MODEL, [VENDOR, \"Lenovo\"], [TYPE, TABLET]],\n      [\n        // Nokia\n        /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n        /nokia[-_ ]?([-\\w\\.]*)/i\n      ],\n      [\n        [MODEL, /_/g, \" \"],\n        [VENDOR, \"Nokia\"],\n        [TYPE, MOBILE]\n      ],\n      [\n        // Google\n        /(pixel c)\\b/i // Google Pixel C\n      ],\n      [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]],\n      [\n        /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i // Google Pixel\n      ],\n      [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]],\n      [\n        // Sony\n        /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n      ],\n      [MODEL, [VENDOR, SONY], [TYPE, MOBILE]],\n      [/sony tablet [ps]/i, /\\b(?:sony)?sgp\\w+(?: bui|\\))/i],\n      [\n        [MODEL, \"Xperia Tablet\"],\n        [VENDOR, SONY],\n        [TYPE, TABLET]\n      ],\n      [\n        // OnePlus\n        / (kb2005|in20[12]5|be20[12][59])\\b/i,\n        /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n      ],\n      [MODEL, [VENDOR, \"OnePlus\"], [TYPE, MOBILE]],\n      [\n        // Amazon\n        /(alexa)webm/i,\n        /(kf[a-z]{2}wi)( bui|\\))/i, // Kindle Fire without Silk\n        /(kf[a-z]+)( bui|\\)).+silk\\//i // Kindle Fire HD\n      ],\n      [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]],\n      [\n        /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i // Fire Phone\n      ],\n      [\n        [MODEL, /(.+)/g, \"Fire Phone $1\"],\n        [VENDOR, AMAZON],\n        [TYPE, MOBILE]\n      ],\n      [\n        // BlackBerry\n        /(playbook);[-\\w\\),; ]+(rim)/i // BlackBerry PlayBook\n      ],\n      [MODEL, VENDOR, [TYPE, TABLET]],\n      [\n        /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n        /\\(bb10; (\\w+)/i // BlackBerry 10\n      ],\n      [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]],\n      [\n        // Asus\n        /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n      ],\n      [MODEL, [VENDOR, ASUS], [TYPE, TABLET]],\n      [/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],\n      [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]],\n      [\n        // HTC\n        /(nexus 9)/i // HTC Nexus 9\n      ],\n      [MODEL, [VENDOR, \"HTC\"], [TYPE, TABLET]],\n      [\n        /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i, // HTC\n\n        // ZTE\n        /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n        /(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\\w]*)/i // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n      ],\n      [VENDOR, [MODEL, /_/g, \" \"], [TYPE, MOBILE]],\n      [\n        // Acer\n        /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n      ],\n      [MODEL, [VENDOR, \"Acer\"], [TYPE, TABLET]],\n      [\n        // Meizu\n        /droid.+; (m[1-5] note) bui/i,\n        /\\bmz-([-\\w]{2,})/i\n      ],\n      [MODEL, [VENDOR, \"Meizu\"], [TYPE, MOBILE]],\n      [\n        // Sharp\n        /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n      ],\n      [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]],\n      [\n        // MIXED\n        /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,\n        // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n        /(hp) ([\\w ]+\\w)/i, // HP iPAQ\n        /(asus)-?(\\w+)/i, // Asus\n        /(microsoft); (lumia[\\w ]+)/i, // Microsoft Lumia\n        /(lenovo)[-_ ]?([-\\w]+)/i, // Lenovo\n        /(jolla)/i, // Jolla\n        /(oppo) ?([\\w ]+) bui/i // OPPO\n      ],\n      [VENDOR, MODEL, [TYPE, MOBILE]],\n      [\n        /(archos) (gamepad2?)/i, // Archos\n        /(hp).+(touchpad(?!.+tablet)|tablet)/i, // HP TouchPad\n        /(kindle)\\/([\\w\\.]+)/i, // Kindle\n        /(nook)[\\w ]+build\\/(\\w+)/i, // Nook\n        /(dell) (strea[kpr\\d ]*[\\dko])/i, // Dell Streak\n        /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i, // Le Pan Tablets\n        /(trinity)[- ]*(t\\d{3}) bui/i, // Trinity Tablets\n        /(gigaset)[- ]+(q\\w{1,9}) bui/i, // Gigaset Tablets\n        /(vodafone) ([\\w ]+)(?:\\)| bui)/i // Vodafone\n      ],\n      [VENDOR, MODEL, [TYPE, TABLET]],\n      [\n        /(surface duo)/i // Surface Duo\n      ],\n      [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]],\n      [\n        /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i // Fairphone\n      ],\n      [MODEL, [VENDOR, \"Fairphone\"], [TYPE, MOBILE]],\n      [\n        /(u304aa)/i // AT&T\n      ],\n      [MODEL, [VENDOR, \"AT&T\"], [TYPE, MOBILE]],\n      [\n        /\\bsie-(\\w*)/i // Siemens\n      ],\n      [MODEL, [VENDOR, \"Siemens\"], [TYPE, MOBILE]],\n      [\n        /\\b(rct\\w+) b/i // RCA Tablets\n      ],\n      [MODEL, [VENDOR, \"RCA\"], [TYPE, TABLET]],\n      [\n        /\\b(venue[\\d ]{2,7}) b/i // Dell Venue Tablets\n      ],\n      [MODEL, [VENDOR, \"Dell\"], [TYPE, TABLET]],\n      [\n        /\\b(q(?:mv|ta)\\w+) b/i // Verizon Tablet\n      ],\n      [MODEL, [VENDOR, \"Verizon\"], [TYPE, TABLET]],\n      [\n        /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i // Barnes & Noble Tablet\n      ],\n      [MODEL, [VENDOR, \"Barnes & Noble\"], [TYPE, TABLET]],\n      [/\\b(tm\\d{3}\\w+) b/i],\n      [MODEL, [VENDOR, \"NuVision\"], [TYPE, TABLET]],\n      [\n        /\\b(k88) b/i // ZTE K Series Tablet\n      ],\n      [MODEL, [VENDOR, \"ZTE\"], [TYPE, TABLET]],\n      [\n        /\\b(nx\\d{3}j) b/i // ZTE Nubia\n      ],\n      [MODEL, [VENDOR, \"ZTE\"], [TYPE, MOBILE]],\n      [\n        /\\b(gen\\d{3}) b.+49h/i // Swiss GEN Mobile\n      ],\n      [MODEL, [VENDOR, \"Swiss\"], [TYPE, MOBILE]],\n      [\n        /\\b(zur\\d{3}) b/i // Swiss ZUR Tablet\n      ],\n      [MODEL, [VENDOR, \"Swiss\"], [TYPE, TABLET]],\n      [\n        /\\b((zeki)?tb.*\\b) b/i // Zeki Tablets\n      ],\n      [MODEL, [VENDOR, \"Zeki\"], [TYPE, TABLET]],\n      [\n        /\\b([yr]\\d{2}) b/i,\n        /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i // Dragon Touch Tablet\n      ],\n      [[VENDOR, \"Dragon Touch\"], MODEL, [TYPE, TABLET]],\n      [\n        /\\b(ns-?\\w{0,9}) b/i // Insignia Tablets\n      ],\n      [MODEL, [VENDOR, \"Insignia\"], [TYPE, TABLET]],\n      [\n        /\\b((nxa|next)-?\\w{0,9}) b/i // NextBook Tablets\n      ],\n      [MODEL, [VENDOR, \"NextBook\"], [TYPE, TABLET]],\n      [\n        /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i // Voice Xtreme Phones\n      ],\n      [[VENDOR, \"Voice\"], MODEL, [TYPE, MOBILE]],\n      [\n        /\\b(lvtel\\-)?(v1[12]) b/i // LvTel Phones\n      ],\n      [[VENDOR, \"LvTel\"], MODEL, [TYPE, MOBILE]],\n      [\n        /\\b(ph-1) /i // Essential PH-1\n      ],\n      [MODEL, [VENDOR, \"Essential\"], [TYPE, MOBILE]],\n      [\n        /\\b(v(100md|700na|7011|917g).*\\b) b/i // Envizen Tablets\n      ],\n      [MODEL, [VENDOR, \"Envizen\"], [TYPE, TABLET]],\n      [\n        /\\b(trio[-\\w\\. ]+) b/i // MachSpeed Tablets\n      ],\n      [MODEL, [VENDOR, \"MachSpeed\"], [TYPE, TABLET]],\n      [\n        /\\btu_(1491) b/i // Rotor Tablets\n      ],\n      [MODEL, [VENDOR, \"Rotor\"], [TYPE, TABLET]],\n      [\n        /(shield[\\w ]+) b/i // Nvidia Shield Tablets\n      ],\n      [MODEL, [VENDOR, \"Nvidia\"], [TYPE, TABLET]],\n      [\n        /(sprint) (\\w+)/i // Sprint Phones\n      ],\n      [VENDOR, MODEL, [TYPE, MOBILE]],\n      [\n        /(kin\\.[onetw]{3})/i // Microsoft Kin\n      ],\n      [\n        [MODEL, /\\./g, \" \"],\n        [VENDOR, MICROSOFT],\n        [TYPE, MOBILE]\n      ],\n      [\n        /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i // Zebra\n      ],\n      [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]],\n      [/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],\n      [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]],\n      [\n        ///////////////////\n        // CONSOLES\n        ///////////////////\n\n        /(ouya)/i, // Ouya\n        /(nintendo) ([wids3utch]+)/i // Nintendo\n      ],\n      [VENDOR, MODEL, [TYPE, CONSOLE]],\n      [\n        /droid.+; (shield) bui/i // Nvidia\n      ],\n      [MODEL, [VENDOR, \"Nvidia\"], [TYPE, CONSOLE]],\n      [\n        /(playstation [345portablevi]+)/i // Playstation\n      ],\n      [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]],\n      [\n        /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i // Microsoft Xbox\n      ],\n      [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]],\n      [\n        ///////////////////\n        // SMARTTVS\n        ///////////////////\n\n        /smart-tv.+(samsung)/i // Samsung\n      ],\n      [VENDOR, [TYPE, SMARTTV]],\n      [/hbbtv.+maple;(\\d+)/i],\n      [\n        [MODEL, /^/, \"SmartTV\"],\n        [VENDOR, SAMSUNG],\n        [TYPE, SMARTTV]\n      ],\n      [\n        /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i // LG SmartTV\n      ],\n      [\n        [VENDOR, LG],\n        [TYPE, SMARTTV]\n      ],\n      [\n        /(apple) ?tv/i // Apple TV\n      ],\n      [VENDOR, [MODEL, APPLE + \" TV\"], [TYPE, SMARTTV]],\n      [\n        /crkey/i // Google Chromecast\n      ],\n      [\n        [MODEL, CHROME + \"cast\"],\n        [VENDOR, GOOGLE],\n        [TYPE, SMARTTV]\n      ],\n      [\n        /droid.+aft(\\w)( bui|\\))/i // Fire TV\n      ],\n      [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]],\n      [\n        /\\(dtv[\\);].+(aquos)/i,\n        /(aquos-tv[\\w ]+)\\)/i // Sharp\n      ],\n      [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],\n      [\n        /(bravia[\\w ]+)( bui|\\))/i // Sony\n      ],\n      [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]],\n      [\n        /(mitv-\\w{5}) bui/i // Xiaomi\n      ],\n      [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]],\n      [\n        /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i, // Roku\n        /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w ]*; *(\\w[^;]*);([^;]*)/i // HbbTV devices\n      ],\n      [\n        [VENDOR, trim],\n        [MODEL, trim],\n        [TYPE, SMARTTV]\n      ],\n      [\n        /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i // SmartTV from Unidentified Vendors\n      ],\n      [[TYPE, SMARTTV]],\n      [\n        ///////////////////\n        // WEARABLES\n        ///////////////////\n\n        /((pebble))app/i // Pebble\n      ],\n      [VENDOR, MODEL, [TYPE, WEARABLE]],\n      [\n        /droid.+; (glass) \\d/i // Google Glass\n      ],\n      [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]],\n      [/droid.+; (wt63?0{2,3})\\)/i],\n      [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]],\n      [\n        /(quest( 2)?)/i // Oculus Quest\n      ],\n      [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]],\n      [\n        ///////////////////\n        // EMBEDDED\n        ///////////////////\n\n        /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i // Tesla\n      ],\n      [VENDOR, [TYPE, EMBEDDED]],\n      [\n        ////////////////////\n        // MIXED (GENERIC)\n        ///////////////////\n\n        /droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i // Android Phones from Unidentified Vendors\n      ],\n      [MODEL, [TYPE, MOBILE]],\n      [\n        /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i // Android Tablets from Unidentified Vendors\n      ],\n      [MODEL, [TYPE, TABLET]],\n      [\n        /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i // Unidentifiable Tablet\n      ],\n      [[TYPE, TABLET]],\n      [\n        /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i // Unidentifiable Mobile\n      ],\n      [[TYPE, MOBILE]],\n      [\n        /(android[-\\w\\. ]{0,9});.+buil/i // Generic Android Device\n      ],\n      [MODEL, [VENDOR, \"Generic\"]]\n    ],\n\n    engine: [\n      [\n        /windows.+ edge\\/([\\w\\.]+)/i // EdgeHTML\n      ],\n      [VERSION, [NAME, EDGE + \"HTML\"]],\n      [\n        /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i // Blink\n      ],\n      [VERSION, [NAME, \"Blink\"]],\n      [\n        /(presto)\\/([\\w\\.]+)/i, // Presto\n        /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n        /ekioh(flow)\\/([\\w\\.]+)/i, // Flow\n        /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i, // KHTML/Tasman/Links\n        /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i // iCab\n      ],\n      [NAME, VERSION],\n      [\n        /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i // Gecko\n      ],\n      [VERSION, NAME]\n    ],\n\n    os: [\n      [\n        // Windows\n        /microsoft (windows) (vista|xp)/i // Windows (iTunes)\n      ],\n      [NAME, VERSION],\n      [\n        /(windows) nt 6\\.2; (arm)/i, // Windows RT\n        /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i, // Windows Phone\n        /(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i\n      ],\n      [NAME, [VERSION, strMapper, windowsVersionMap]],\n      [/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],\n      [\n        [NAME, \"Windows\"],\n        [VERSION, strMapper, windowsVersionMap]\n      ],\n      [\n        // iOS/macOS\n        /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i, // iOS\n        /cfnetwork\\/.+darwin/i\n      ],\n      [\n        [VERSION, /_/g, \".\"],\n        [NAME, \"iOS\"]\n      ],\n      [\n        /(mac os x) ?([\\w\\. ]*)/i,\n        /(macintosh|mac_powerpc\\b)(?!.+haiku)/i // Mac OS\n      ],\n      [\n        [NAME, \"Mac OS\"],\n        [VERSION, /_/g, \".\"]\n      ],\n      [\n        // Mobile OSes\n        /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i // Android-x86/HarmonyOS\n      ],\n      [VERSION, NAME],\n      [\n        // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n        /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n        /(blackberry)\\w*\\/([\\w\\.]*)/i, // Blackberry\n        /(tizen|kaios)[\\/ ]([\\w\\.]+)/i, // Tizen/KaiOS\n        /\\((series40);/i // Series 40\n      ],\n      [NAME, VERSION],\n      [\n        /\\(bb(10);/i // BlackBerry 10\n      ],\n      [VERSION, [NAME, BLACKBERRY]],\n      [\n        /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i // Symbian\n      ],\n      [VERSION, [NAME, \"Symbian\"]],\n      [\n        /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n      ],\n      [VERSION, [NAME, FIREFOX + \" OS\"]],\n      [\n        /web0s;.+rt(tv)/i,\n        /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i // WebOS\n      ],\n      [VERSION, [NAME, \"webOS\"]],\n      [\n        // Google Chromecast\n        /crkey\\/([\\d\\.]+)/i // Google Chromecast\n      ],\n      [VERSION, [NAME, CHROME + \"cast\"]],\n      [\n        /(cros) [\\w]+ ([\\w\\.]+\\w)/i // Chromium OS\n      ],\n      [[NAME, \"Chromium OS\"], VERSION],\n      [\n        // Console\n        /(nintendo|playstation) ([wids345portablevuch]+)/i, // Nintendo/Playstation\n        /(xbox); +xbox ([^\\);]+)/i, // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n        // Other\n        /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i, // Joli/Palm\n        /(mint)[\\/\\(\\) ]?(\\w*)/i, // Mint\n        /(mageia|vectorlinux)[; ]/i, // Mageia/VectorLinux\n        /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n        // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n        /(hurd|linux) ?([\\w\\.]*)/i, // Hurd/Linux\n        /(gnu) ?([\\w\\.]*)/i, // GNU\n        /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n        /(haiku) (\\w+)/i // Haiku\n      ],\n      [NAME, VERSION],\n      [\n        /(sunos) ?([\\w\\.\\d]*)/i // Solaris\n      ],\n      [[NAME, \"Solaris\"], VERSION],\n      [\n        /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i, // Solaris\n        /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i, // AIX\n        /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX\n        /(unix) ?([\\w\\.]*)/i // UNIX\n      ],\n      [NAME, VERSION]\n    ]\n  };\n\n  /////////////////\n  // Constructor\n  ////////////////\n\n  var UAParser = function (ua, extensions) {\n    if (typeof ua === OBJ_TYPE) {\n      extensions = ua;\n      ua = undefined;\n    }\n\n    if (!(this instanceof UAParser)) {\n      return new UAParser(ua, extensions).getResult();\n    }\n\n    var _ua =\n      ua ||\n      (typeof window !== UNDEF_TYPE &&\n      window.navigator &&\n      window.navigator.userAgent ? window.navigator.userAgent : EMPTY);\n    var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n\n    this.getBrowser = function () {\n      var _browser = {};\n      _browser[NAME] = undefined;\n      _browser[VERSION] = undefined;\n      rgxMapper.call(_browser, _ua, _rgxmap.browser);\n      _browser.major = majorize(_browser.version);\n      return _browser;\n    };\n    this.getCPU = function () {\n      var _cpu = {};\n      _cpu[ARCHITECTURE] = undefined;\n      rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n      return _cpu;\n    };\n    this.getDevice = function () {\n      var _device = {};\n      _device[VENDOR] = undefined;\n      _device[MODEL] = undefined;\n      _device[TYPE] = undefined;\n      rgxMapper.call(_device, _ua, _rgxmap.device);\n      return _device;\n    };\n    this.getEngine = function () {\n      var _engine = {};\n      _engine[NAME] = undefined;\n      _engine[VERSION] = undefined;\n      rgxMapper.call(_engine, _ua, _rgxmap.engine);\n      return _engine;\n    };\n    this.getOS = function () {\n      var _os = {};\n      _os[NAME] = undefined;\n      _os[VERSION] = undefined;\n      rgxMapper.call(_os, _ua, _rgxmap.os);\n      return _os;\n    };\n    this.getResult = function () {\n      return {\n        ua: this.getUA(),\n        browser: this.getBrowser(),\n        engine: this.getEngine(),\n        os: this.getOS(),\n        device: this.getDevice(),\n        cpu: this.getCPU()\n      };\n    };\n    this.getUA = function () {\n      return _ua;\n    };\n    this.setUA = function (ua) {\n      _ua =\n        typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH ? trim(ua, UA_MAX_LENGTH) : ua;\n      return this;\n    };\n    this.setUA(_ua);\n    return this;\n  };\n\n  UAParser.VERSION = LIBVERSION;\n  UAParser.BROWSER = enumerize([NAME, VERSION, MAJOR]);\n  UAParser.CPU = enumerize([ARCHITECTURE]);\n  UAParser.DEVICE = enumerize([\n    MODEL,\n    VENDOR,\n    TYPE,\n    CONSOLE,\n    MOBILE,\n    SMARTTV,\n    TABLET,\n    WEARABLE,\n    EMBEDDED\n  ]);\n  UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n  ///////////\n  // Export\n  //////////\n\n  // check js environment\n  if (typeof exports !== UNDEF_TYPE) {\n    // nodejs env\n    if (typeof module !== UNDEF_TYPE && module.exports) {\n      exports = module.exports = UAParser;\n    }\n    exports.UAParser = UAParser;\n  } else {\n    // requirejs env (optional)\n    if (typeof define === FUNC_TYPE && define.amd) {\n      define(function () {\n        return UAParser;\n      });\n    } else if (typeof window !== UNDEF_TYPE) {\n      // browser env\n      window.UAParser = UAParser;\n    }\n  }\n\n  // jQuery/Zepto specific (optional)\n  // Note:\n  //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n  //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n  //   and we should catch that.\n  var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n  if ($ && !$.ua) {\n    var parser = new UAParser();\n    $.ua = parser.getResult();\n    $.ua.get = function () {\n      return parser.getUA();\n    };\n    $.ua.set = function (ua) {\n      parser.setUA(ua);\n      var result = parser.getResult();\n      for (var prop in result) {\n        $.ua[prop] = result[prop];\n      }\n    };\n  }\n})(typeof window === \"object\" ? window : this);\n","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { PluginType } from '@amplitude/analytics-types';\nimport UAParser from '@amplitude/ua-parser-js';\nimport { UUID } from '@amplitude/analytics-core';\nimport { getLanguage } from '@amplitude/analytics-client-common';\nimport { VERSION } from '../version';\nvar BROWSER_PLATFORM = 'Web';\nvar IP_ADDRESS = '$remote';\nvar Context = /** @class */ (function () {\n    function Context() {\n        this.name = 'context';\n        this.type = PluginType.BEFORE;\n        this.library = \"amplitude-ts/\".concat(VERSION);\n        /* istanbul ignore else */\n        if (typeof navigator !== 'undefined') {\n            this.userAgent = navigator.userAgent;\n        }\n        this.uaResult = new UAParser(this.userAgent).getResult();\n    }\n    Context.prototype.setup = function (config) {\n        this.config = config;\n        return Promise.resolve(undefined);\n    };\n    Context.prototype.execute = function (context) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function () {\n            var time, osName, osVersion, deviceModel, deviceVendor, lastEventId, nextEventId, event;\n            return __generator(this, function (_c) {\n                time = new Date().getTime();\n                osName = this.uaResult.browser.name;\n                osVersion = this.uaResult.browser.version;\n                deviceModel = this.uaResult.device.model || this.uaResult.os.name;\n                deviceVendor = this.uaResult.device.vendor;\n                lastEventId = (_a = this.config.lastEventId) !== null && _a !== void 0 ? _a : -1;\n                nextEventId = (_b = context.event_id) !== null && _b !== void 0 ? _b : lastEventId + 1;\n                this.config.lastEventId = nextEventId;\n                if (!context.time) {\n                    this.config.lastEventTime = time;\n                }\n                event = __assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({ user_id: this.config.userId, device_id: this.config.deviceId, session_id: this.config.sessionId, time: time }, (this.config.appVersion && { app_version: this.config.appVersion })), (this.config.trackingOptions.platform && { platform: BROWSER_PLATFORM })), (this.config.trackingOptions.osName && { os_name: osName })), (this.config.trackingOptions.osVersion && { os_version: osVersion })), (this.config.trackingOptions.deviceManufacturer && { device_manufacturer: deviceVendor })), (this.config.trackingOptions.deviceModel && { device_model: deviceModel })), (this.config.trackingOptions.language && { language: getLanguage() })), (this.config.trackingOptions.ipAddress && { ip: IP_ADDRESS })), { insert_id: UUID(), partner_id: this.config.partnerId, plan: this.config.plan }), (this.config.ingestionMetadata && {\n                    ingestion_metadata: {\n                        source_name: this.config.ingestionMetadata.sourceName,\n                        source_version: this.config.ingestionMetadata.sourceVersion,\n                    },\n                })), context), { event_id: nextEventId, library: this.library, user_agent: this.userAgent });\n                return [2 /*return*/, event];\n            });\n        });\n    };\n    return Context;\n}());\nexport { Context };\n//# sourceMappingURL=context.js.map","import { __awaiter, __generator, __read } from \"tslib\";\n/* eslint-disable @typescript-eslint/no-unsafe-assignment */\nimport { PluginType } from '@amplitude/analytics-types';\nimport { DEFAULT_EVENT_PREFIX, DEFAULT_PAGE_VIEW_EVENT } from '../constants';\nvar eventPropertyMap = {\n    page_domain: \"\".concat(DEFAULT_EVENT_PREFIX, \" Page Domain\"),\n    page_location: \"\".concat(DEFAULT_EVENT_PREFIX, \" Page Location\"),\n    page_path: \"\".concat(DEFAULT_EVENT_PREFIX, \" Page Path\"),\n    page_title: \"\".concat(DEFAULT_EVENT_PREFIX, \" Page Title\"),\n    page_url: \"\".concat(DEFAULT_EVENT_PREFIX, \" Page URL\"),\n};\nexport var defaultPageViewEventEnrichment = function () {\n    var name = '@amplitude/plugin-default-page-view-event-enrichment-browser';\n    var type = PluginType.ENRICHMENT;\n    var setup = function () { return __awaiter(void 0, void 0, void 0, function () { return __generator(this, function (_a) {\n        return [2 /*return*/, undefined];\n    }); }); };\n    var execute = function (event) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            if (event.event_type === DEFAULT_PAGE_VIEW_EVENT && event.event_properties) {\n                event.event_properties = Object.entries(event.event_properties).reduce(function (acc, _a) {\n                    var _b = __read(_a, 2), key = _b[0], value = _b[1];\n                    var transformedPropertyName = eventPropertyMap[key];\n                    if (transformedPropertyName) {\n                        acc[transformedPropertyName] = value;\n                    }\n                    else {\n                        acc[key] = value;\n                    }\n                    return acc;\n                }, {});\n            }\n            return [2 /*return*/, event];\n        });\n    }); };\n    return {\n        name: name,\n        type: type,\n        setup: setup,\n        execute: execute,\n    };\n};\n//# sourceMappingURL=default-page-view-event-enrichment.js.map","import { __awaiter, __generator } from \"tslib\";\nimport { PluginType } from '@amplitude/analytics-types';\nimport { DEFAULT_FILE_DOWNLOAD_EVENT, FILE_EXTENSION, FILE_NAME, LINK_ID, LINK_TEXT, LINK_URL } from '../constants';\nexport var fileDownloadTracking = function () {\n    var observer;\n    var eventListeners = [];\n    var addEventListener = function (element, type, handler) {\n        element.addEventListener(type, handler);\n        eventListeners.push({\n            element: element,\n            type: type,\n            handler: handler,\n        });\n    };\n    var removeClickListeners = function () {\n        eventListeners.forEach(function (_a) {\n            var element = _a.element, type = _a.type, handler = _a.handler;\n            /* istanbul ignore next */\n            element === null || element === void 0 ? void 0 : element.removeEventListener(type, handler);\n        });\n        eventListeners = [];\n    };\n    var name = '@amplitude/plugin-file-download-tracking-browser';\n    var type = PluginType.ENRICHMENT;\n    var setup = function (config, amplitude) { return __awaiter(void 0, void 0, void 0, function () {\n        var addFileDownloadListener, ext, links;\n        return __generator(this, function (_a) {\n            /* istanbul ignore if */\n            if (!amplitude) {\n                // TODO: Add required minimum version of @amplitude/analytics-browser\n                config.loggerProvider.warn('File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.');\n                return [2 /*return*/];\n            }\n            /* istanbul ignore if */\n            if (typeof document === 'undefined') {\n                return [2 /*return*/];\n            }\n            addFileDownloadListener = function (a) {\n                var url;\n                try {\n                    // eslint-disable-next-line no-restricted-globals\n                    url = new URL(a.href, window.location.href);\n                }\n                catch (_a) {\n                    /* istanbul ignore next */\n                    return;\n                }\n                var result = ext.exec(url.href);\n                var fileExtension = result === null || result === void 0 ? void 0 : result[1];\n                if (fileExtension) {\n                    addEventListener(a, 'click', function () {\n                        var _a;\n                        if (fileExtension) {\n                            amplitude.track(DEFAULT_FILE_DOWNLOAD_EVENT, (_a = {},\n                                _a[FILE_EXTENSION] = fileExtension,\n                                _a[FILE_NAME] = url.pathname,\n                                _a[LINK_ID] = a.id,\n                                _a[LINK_TEXT] = a.text,\n                                _a[LINK_URL] = a.href,\n                                _a));\n                        }\n                    });\n                }\n            };\n            ext = /\\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/;\n            links = Array.from(document.getElementsByTagName('a'));\n            links.forEach(addFileDownloadListener);\n            // Adds listener to anchor tags added after initial load\n            /* istanbul ignore else */\n            if (typeof MutationObserver !== 'undefined') {\n                observer = new MutationObserver(function (mutations) {\n                    mutations.forEach(function (mutation) {\n                        mutation.addedNodes.forEach(function (node) {\n                            if (node.nodeName === 'A') {\n                                addFileDownloadListener(node);\n                            }\n                            if ('querySelectorAll' in node && typeof node.querySelectorAll === 'function') {\n                                Array.from(node.querySelectorAll('a')).map(addFileDownloadListener);\n                            }\n                        });\n                    });\n                });\n                observer.observe(document.body, {\n                    subtree: true,\n                    childList: true,\n                });\n            }\n            return [2 /*return*/];\n        });\n    }); };\n    var execute = function (event) { return __awaiter(void 0, void 0, void 0, function () { return __generator(this, function (_a) {\n        return [2 /*return*/, event];\n    }); }); };\n    var teardown = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            observer === null || observer === void 0 ? void 0 : observer.disconnect();\n            removeClickListeners();\n            return [2 /*return*/];\n        });\n    }); };\n    return {\n        name: name,\n        type: type,\n        setup: setup,\n        execute: execute,\n        teardown: teardown,\n    };\n};\n//# sourceMappingURL=file-download-tracking.js.map","import { __awaiter, __generator } from \"tslib\";\nimport { PluginType } from '@amplitude/analytics-types';\nimport { DEFAULT_FORM_START_EVENT, DEFAULT_FORM_SUBMIT_EVENT, FORM_ID, FORM_NAME, FORM_DESTINATION, } from '../constants';\nexport var formInteractionTracking = function () {\n    var observer;\n    var eventListeners = [];\n    var addEventListener = function (element, type, handler) {\n        element.addEventListener(type, handler);\n        eventListeners.push({\n            element: element,\n            type: type,\n            handler: handler,\n        });\n    };\n    var removeClickListeners = function () {\n        eventListeners.forEach(function (_a) {\n            var element = _a.element, type = _a.type, handler = _a.handler;\n            /* istanbul ignore next */\n            element === null || element === void 0 ? void 0 : element.removeEventListener(type, handler);\n        });\n        eventListeners = [];\n    };\n    // Extracts the form action attribute, and normalizes it to a valid URL to preserve the previous behavior of accessing the action property directly.\n    var extractFormAction = function (form) {\n        var formDestination = form.getAttribute('action');\n        try {\n            // eslint-disable-next-line no-restricted-globals\n            formDestination = new URL(encodeURI(formDestination !== null && formDestination !== void 0 ? formDestination : ''), window.location.href).href;\n        }\n        catch (_a) {\n            //\n        }\n        return formDestination;\n    };\n    var name = '@amplitude/plugin-form-interaction-tracking-browser';\n    var type = PluginType.ENRICHMENT;\n    var setup = function (config, amplitude) { return __awaiter(void 0, void 0, void 0, function () {\n        var addFormInteractionListener, forms;\n        return __generator(this, function (_a) {\n            /* istanbul ignore if */\n            if (!amplitude) {\n                // TODO: Add required minimum version of @amplitude/analytics-browser\n                config.loggerProvider.warn('Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.');\n                return [2 /*return*/];\n            }\n            /* istanbul ignore if */\n            if (typeof document === 'undefined') {\n                return [2 /*return*/];\n            }\n            addFormInteractionListener = function (form) {\n                var hasFormChanged = false;\n                addEventListener(form, 'change', function () {\n                    var _a;\n                    if (!hasFormChanged) {\n                        var formDestination = extractFormAction(form);\n                        amplitude.track(DEFAULT_FORM_START_EVENT, (_a = {},\n                            _a[FORM_ID] = form.getAttribute('id'),\n                            _a[FORM_NAME] = form.getAttribute('name'),\n                            _a[FORM_DESTINATION] = formDestination,\n                            _a));\n                    }\n                    hasFormChanged = true;\n                });\n                addEventListener(form, 'submit', function () {\n                    var _a, _b;\n                    var formDestination = extractFormAction(form);\n                    if (!hasFormChanged) {\n                        amplitude.track(DEFAULT_FORM_START_EVENT, (_a = {},\n                            _a[FORM_ID] = form.getAttribute('id'),\n                            _a[FORM_NAME] = form.getAttribute('name'),\n                            _a[FORM_DESTINATION] = formDestination,\n                            _a));\n                    }\n                    amplitude.track(DEFAULT_FORM_SUBMIT_EVENT, (_b = {},\n                        _b[FORM_ID] = form.getAttribute('id'),\n                        _b[FORM_NAME] = form.getAttribute('name'),\n                        _b[FORM_DESTINATION] = formDestination,\n                        _b));\n                    hasFormChanged = false;\n                });\n            };\n            forms = Array.from(document.getElementsByTagName('form'));\n            forms.forEach(addFormInteractionListener);\n            // Adds listener to anchor tags added after initial load\n            /* istanbul ignore else */\n            if (typeof MutationObserver !== 'undefined') {\n                observer = new MutationObserver(function (mutations) {\n                    mutations.forEach(function (mutation) {\n                        mutation.addedNodes.forEach(function (node) {\n                            if (node.nodeName === 'FORM') {\n                                addFormInteractionListener(node);\n                            }\n                            if ('querySelectorAll' in node && typeof node.querySelectorAll === 'function') {\n                                Array.from(node.querySelectorAll('form')).map(addFormInteractionListener);\n                            }\n                        });\n                    });\n                });\n                observer.observe(document.body, {\n                    subtree: true,\n                    childList: true,\n                });\n            }\n            return [2 /*return*/];\n        });\n    }); };\n    var execute = function (event) { return __awaiter(void 0, void 0, void 0, function () { return __generator(this, function (_a) {\n        return [2 /*return*/, event];\n    }); }); };\n    var teardown = function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            observer === null || observer === void 0 ? void 0 : observer.disconnect();\n            removeClickListeners();\n            return [2 /*return*/];\n        });\n    }); };\n    return {\n        name: name,\n        type: type,\n        setup: setup,\n        execute: execute,\n        teardown: teardown,\n    };\n};\n//# sourceMappingURL=form-interaction-tracking.js.map","/**\n * Applies the proxied functions on the proxied amplitude snippet to an instance of the real object.\n * @ignore\n */\nexport var runQueuedFunctions = function (instance, queue) {\n    convertProxyObjectToRealObject(instance, queue);\n};\n/**\n * Applies the proxied functions on the proxied object to an instance of the real object.\n * Used to convert proxied Identify and Revenue objects.\n */\nexport var convertProxyObjectToRealObject = function (instance, queue) {\n    for (var i = 0; i < queue.length; i++) {\n        var _a = queue[i], name_1 = _a.name, args = _a.args, resolve = _a.resolve;\n        var fn = instance && instance[name_1];\n        if (typeof fn === 'function') {\n            var result = fn.apply(instance, args);\n            if (typeof resolve === 'function') {\n                resolve(result === null || result === void 0 ? void 0 : result.promise);\n            }\n        }\n    }\n    return instance;\n};\n/**\n * Check if the param is snippet proxy\n */\nexport var isInstanceProxy = function (instance) {\n    var instanceProxy = instance;\n    return instanceProxy && instanceProxy._q !== undefined;\n};\n//# sourceMappingURL=snippet-helper.js.map","import { __assign, __awaiter, __extends, __generator } from \"tslib\";\nimport { getAnalyticsConnector, getCookieName, getPageViewTrackingConfig, getQueryParams, IdentityEventSender, isFileDownloadTrackingEnabled, isFormInteractionTrackingEnabled, isSessionTrackingEnabled, setConnectorDeviceId, setConnectorOptOut, setConnectorUserId, } from '@amplitude/analytics-client-common';\nimport { AmplitudeCore, Destination, Identify, returnWrapper, Revenue, UUID } from '@amplitude/analytics-core';\nimport { pageViewTrackingPlugin } from '@amplitude/plugin-page-view-tracking-browser';\nimport { webAttributionPlugin } from '@amplitude/plugin-web-attribution-browser';\nimport { createCookieStorage, createTransport, getTopLevelDomain, useBrowserConfig } from './config';\nimport { DEFAULT_PAGE_VIEW_EVENT, DEFAULT_SESSION_END_EVENT, DEFAULT_SESSION_START_EVENT } from './constants';\nimport { parseLegacyCookies } from './cookie-migration';\nimport { Context } from './plugins/context';\nimport { defaultPageViewEventEnrichment } from './plugins/default-page-view-event-enrichment';\nimport { fileDownloadTracking } from './plugins/file-download-tracking';\nimport { formInteractionTracking } from './plugins/form-interaction-tracking';\nimport { convertProxyObjectToRealObject, isInstanceProxy } from './utils/snippet-helper';\nvar AmplitudeBrowser = /** @class */ (function (_super) {\n    __extends(AmplitudeBrowser, _super);\n    function AmplitudeBrowser() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AmplitudeBrowser.prototype.init = function (apiKey, userId, options) {\n        if (apiKey === void 0) { apiKey = ''; }\n        return returnWrapper(this._init(__assign(__assign({}, options), { userId: userId, apiKey: apiKey })));\n    };\n    AmplitudeBrowser.prototype._init = function (options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _r, _s, _t, _u, _v, _w;\n        return __awaiter(this, void 0, void 0, function () {\n            var _x, _y, _z, legacyCookies, cookieStorage, previousCookies, queryParams, deviceId, sessionId, optOut, lastEventId, lastEventTime, userId, browserOptions, isNewSession, connector, webAttribution, pageViewTrackingOptions;\n            var _this = this;\n            return __generator(this, function (_0) {\n                switch (_0.label) {\n                    case 0:\n                        // Step 0: Block concurrent initialization\n                        if (this.initializing) {\n                            return [2 /*return*/];\n                        }\n                        this.initializing = true;\n                        // Step 1: Read cookies stored by SDK\n                        _x = options;\n                        if (!options.disableCookies) return [3 /*break*/, 1];\n                        _y = '';\n                        return [3 /*break*/, 5];\n                    case 1:\n                        if (!((_a = options.domain) !== null && _a !== void 0)) return [3 /*break*/, 2];\n                        _z = _a;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, getTopLevelDomain()];\n                    case 3:\n                        _z = (_0.sent());\n                        _0.label = 4;\n                    case 4:\n                        _y = _z;\n                        _0.label = 5;\n                    case 5:\n                        // Step 1: Read cookies stored by SDK\n                        _x.domain = _y;\n                        return [4 /*yield*/, parseLegacyCookies(options.apiKey, options)];\n                    case 6:\n                        legacyCookies = _0.sent();\n                        return [4 /*yield*/, createCookieStorage(options)];\n                    case 7:\n                        cookieStorage = _0.sent();\n                        return [4 /*yield*/, cookieStorage.get(getCookieName(options.apiKey))];\n                    case 8:\n                        previousCookies = _0.sent();\n                        queryParams = getQueryParams();\n                        deviceId = (_d = (_c = (_b = options.deviceId) !== null && _b !== void 0 ? _b : queryParams.deviceId) !== null && _c !== void 0 ? _c : previousCookies === null || previousCookies === void 0 ? void 0 : previousCookies.deviceId) !== null && _d !== void 0 ? _d : legacyCookies.deviceId;\n                        sessionId = (_e = previousCookies === null || previousCookies === void 0 ? void 0 : previousCookies.sessionId) !== null && _e !== void 0 ? _e : legacyCookies.sessionId;\n                        optOut = (_g = (_f = options.optOut) !== null && _f !== void 0 ? _f : previousCookies === null || previousCookies === void 0 ? void 0 : previousCookies.optOut) !== null && _g !== void 0 ? _g : legacyCookies.optOut;\n                        lastEventId = (_h = previousCookies === null || previousCookies === void 0 ? void 0 : previousCookies.lastEventId) !== null && _h !== void 0 ? _h : legacyCookies.lastEventId;\n                        lastEventTime = (_j = previousCookies === null || previousCookies === void 0 ? void 0 : previousCookies.lastEventTime) !== null && _j !== void 0 ? _j : legacyCookies.lastEventTime;\n                        userId = (_l = (_k = options.userId) !== null && _k !== void 0 ? _k : previousCookies === null || previousCookies === void 0 ? void 0 : previousCookies.userId) !== null && _l !== void 0 ? _l : legacyCookies.userId;\n                        this.previousSessionDeviceId = (_m = previousCookies === null || previousCookies === void 0 ? void 0 : previousCookies.deviceId) !== null && _m !== void 0 ? _m : legacyCookies.deviceId;\n                        this.previousSessionUserId = (_o = previousCookies === null || previousCookies === void 0 ? void 0 : previousCookies.userId) !== null && _o !== void 0 ? _o : legacyCookies.userId;\n                        return [4 /*yield*/, useBrowserConfig(options.apiKey, __assign(__assign({}, options), { deviceId: deviceId, sessionId: sessionId, optOut: optOut, lastEventId: lastEventId, lastEventTime: lastEventTime, userId: userId, cookieStorage: cookieStorage }))];\n                    case 9:\n                        browserOptions = _0.sent();\n                        return [4 /*yield*/, _super.prototype._init.call(this, browserOptions)];\n                    case 10:\n                        _0.sent();\n                        isNewSession = false;\n                        if (\n                        // user has never sent an event\n                        !this.config.lastEventTime ||\n                            // user has no previous session ID\n                            !this.config.sessionId ||\n                            // has sent an event and has previous session but expired\n                            (this.config.lastEventTime && Date.now() - this.config.lastEventTime > this.config.sessionTimeout)) {\n                            this.setSessionId((_r = (_p = options.sessionId) !== null && _p !== void 0 ? _p : this.config.sessionId) !== null && _r !== void 0 ? _r : Date.now());\n                            isNewSession = true;\n                        }\n                        connector = getAnalyticsConnector(options.instanceName);\n                        connector.identityStore.setIdentity({\n                            userId: this.config.userId,\n                            deviceId: this.config.deviceId,\n                        });\n                        // Step 4: Install plugins\n                        // Do not track any events before this\n                        return [4 /*yield*/, this.add(new Destination()).promise];\n                    case 11:\n                        // Step 4: Install plugins\n                        // Do not track any events before this\n                        _0.sent();\n                        return [4 /*yield*/, this.add(new Context()).promise];\n                    case 12:\n                        _0.sent();\n                        return [4 /*yield*/, this.add(new IdentityEventSender()).promise];\n                    case 13:\n                        _0.sent();\n                        if (!isFileDownloadTrackingEnabled(this.config.defaultTracking)) return [3 /*break*/, 15];\n                        return [4 /*yield*/, this.add(fileDownloadTracking()).promise];\n                    case 14:\n                        _0.sent();\n                        _0.label = 15;\n                    case 15:\n                        if (!isFormInteractionTrackingEnabled(this.config.defaultTracking)) return [3 /*break*/, 17];\n                        return [4 /*yield*/, this.add(formInteractionTracking()).promise];\n                    case 16:\n                        _0.sent();\n                        _0.label = 17;\n                    case 17:\n                        if (!!((_s = this.config.attribution) === null || _s === void 0 ? void 0 : _s.disabled)) return [3 /*break*/, 19];\n                        webAttribution = webAttributionPlugin({\n                            excludeReferrers: (_t = this.config.attribution) === null || _t === void 0 ? void 0 : _t.excludeReferrers,\n                            initialEmptyValue: (_u = this.config.attribution) === null || _u === void 0 ? void 0 : _u.initialEmptyValue,\n                            resetSessionOnNewCampaign: (_v = this.config.attribution) === null || _v === void 0 ? void 0 : _v.resetSessionOnNewCampaign,\n                        });\n                        // For Amplitude-internal functionality\n                        // if pluginEnabledOverride === undefined then use plugin default logic\n                        // if pluginEnabledOverride === true then track attribution\n                        // if pluginEnabledOverride === false then do not track attribution\n                        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                        webAttribution.__pluginEnabledOverride =\n                            isNewSession || ((_w = this.config.attribution) === null || _w === void 0 ? void 0 : _w.trackNewCampaigns) ? undefined : false;\n                        return [4 /*yield*/, this.add(webAttribution).promise];\n                    case 18:\n                        _0.sent();\n                        _0.label = 19;\n                    case 19:\n                        pageViewTrackingOptions = getPageViewTrackingConfig(this.config);\n                        pageViewTrackingOptions.eventType = pageViewTrackingOptions.eventType || DEFAULT_PAGE_VIEW_EVENT;\n                        return [4 /*yield*/, this.add(pageViewTrackingPlugin(pageViewTrackingOptions)).promise];\n                    case 20:\n                        _0.sent();\n                        return [4 /*yield*/, this.add(defaultPageViewEventEnrichment()).promise];\n                    case 21:\n                        _0.sent();\n                        this.initializing = false;\n                        // Step 6: Run queued dispatch functions\n                        return [4 /*yield*/, this.runQueuedFunctions('dispatchQ')];\n                    case 22:\n                        // Step 6: Run queued dispatch functions\n                        _0.sent();\n                        // Step 7: Add the event receiver after running remaining queued functions.\n                        connector.eventBridge.setEventReceiver(function (event) {\n                            void _this.track(event.eventType, event.eventProperties);\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AmplitudeBrowser.prototype.getUserId = function () {\n        var _a;\n        return (_a = this.config) === null || _a === void 0 ? void 0 : _a.userId;\n    };\n    AmplitudeBrowser.prototype.setUserId = function (userId) {\n        if (!this.config) {\n            this.q.push(this.setUserId.bind(this, userId));\n            return;\n        }\n        if (userId !== this.config.userId || userId === undefined) {\n            this.config.userId = userId;\n            setConnectorUserId(userId, this.config.instanceName);\n        }\n    };\n    AmplitudeBrowser.prototype.getDeviceId = function () {\n        var _a;\n        return (_a = this.config) === null || _a === void 0 ? void 0 : _a.deviceId;\n    };\n    AmplitudeBrowser.prototype.setDeviceId = function (deviceId) {\n        if (!this.config) {\n            this.q.push(this.setDeviceId.bind(this, deviceId));\n            return;\n        }\n        this.config.deviceId = deviceId;\n        setConnectorDeviceId(deviceId, this.config.instanceName);\n    };\n    AmplitudeBrowser.prototype.setOptOut = function (optOut) {\n        setConnectorOptOut(optOut, this.config.instanceName);\n        _super.prototype.setOptOut.call(this, optOut);\n    };\n    AmplitudeBrowser.prototype.reset = function () {\n        this.setDeviceId(UUID());\n        this.setUserId(undefined);\n    };\n    AmplitudeBrowser.prototype.getSessionId = function () {\n        var _a;\n        return (_a = this.config) === null || _a === void 0 ? void 0 : _a.sessionId;\n    };\n    AmplitudeBrowser.prototype.setSessionId = function (sessionId) {\n        var _a;\n        if (!this.config) {\n            this.q.push(this.setSessionId.bind(this, sessionId));\n            return;\n        }\n        // Prevents starting a new session with the same session ID\n        if (sessionId === this.config.sessionId) {\n            return;\n        }\n        var previousSessionId = this.getSessionId();\n        var lastEventTime = this.config.lastEventTime;\n        var lastEventId = (_a = this.config.lastEventId) !== null && _a !== void 0 ? _a : -1;\n        this.config.sessionId = sessionId;\n        this.config.lastEventTime = undefined;\n        if (isSessionTrackingEnabled(this.config.defaultTracking)) {\n            if (previousSessionId && lastEventTime) {\n                this.track(DEFAULT_SESSION_END_EVENT, undefined, {\n                    device_id: this.previousSessionDeviceId,\n                    event_id: ++lastEventId,\n                    session_id: previousSessionId,\n                    time: lastEventTime + 1,\n                    user_id: this.previousSessionUserId,\n                });\n            }\n            this.config.lastEventTime = this.config.sessionId;\n            this.track(DEFAULT_SESSION_START_EVENT, undefined, {\n                event_id: ++lastEventId,\n                session_id: this.config.sessionId,\n                time: this.config.lastEventTime,\n            });\n        }\n        this.previousSessionDeviceId = this.config.deviceId;\n        this.previousSessionUserId = this.config.userId;\n    };\n    AmplitudeBrowser.prototype.extendSession = function () {\n        if (!this.config) {\n            this.q.push(this.extendSession.bind(this));\n            return;\n        }\n        this.config.lastEventTime = Date.now();\n    };\n    AmplitudeBrowser.prototype.setTransport = function (transport) {\n        if (!this.config) {\n            this.q.push(this.setTransport.bind(this, transport));\n            return;\n        }\n        this.config.transportProvider = createTransport(transport);\n    };\n    AmplitudeBrowser.prototype.identify = function (identify, eventOptions) {\n        if (isInstanceProxy(identify)) {\n            var queue = identify._q;\n            identify._q = [];\n            identify = convertProxyObjectToRealObject(new Identify(), queue);\n        }\n        if (eventOptions === null || eventOptions === void 0 ? void 0 : eventOptions.user_id) {\n            this.setUserId(eventOptions.user_id);\n        }\n        if (eventOptions === null || eventOptions === void 0 ? void 0 : eventOptions.device_id) {\n            this.setDeviceId(eventOptions.device_id);\n        }\n        return _super.prototype.identify.call(this, identify, eventOptions);\n    };\n    AmplitudeBrowser.prototype.groupIdentify = function (groupType, groupName, identify, eventOptions) {\n        if (isInstanceProxy(identify)) {\n            var queue = identify._q;\n            identify._q = [];\n            identify = convertProxyObjectToRealObject(new Identify(), queue);\n        }\n        return _super.prototype.groupIdentify.call(this, groupType, groupName, identify, eventOptions);\n    };\n    AmplitudeBrowser.prototype.revenue = function (revenue, eventOptions) {\n        if (isInstanceProxy(revenue)) {\n            var queue = revenue._q;\n            revenue._q = [];\n            revenue = convertProxyObjectToRealObject(new Revenue(), queue);\n        }\n        return _super.prototype.revenue.call(this, revenue, eventOptions);\n    };\n    AmplitudeBrowser.prototype.process = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var currentTime, lastEventTime, timeSinceLastEvent;\n            return __generator(this, function (_a) {\n                currentTime = Date.now();\n                lastEventTime = this.config.lastEventTime || Date.now();\n                timeSinceLastEvent = currentTime - lastEventTime;\n                if (event.event_type !== DEFAULT_SESSION_START_EVENT &&\n                    event.event_type !== DEFAULT_SESSION_END_EVENT &&\n                    (!event.session_id || event.session_id === this.getSessionId()) &&\n                    timeSinceLastEvent > this.config.sessionTimeout) {\n                    this.setSessionId(currentTime);\n                }\n                return [2 /*return*/, _super.prototype.process.call(this, event)];\n            });\n        });\n    };\n    return AmplitudeBrowser;\n}(AmplitudeCore));\nexport { AmplitudeBrowser };\n//# sourceMappingURL=browser-client.js.map","import { debugWrapper, getClientLogConfig, getClientStates } from '@amplitude/analytics-core';\nimport { AmplitudeBrowser } from './browser-client';\nexport var createInstance = function () {\n    var client = new AmplitudeBrowser();\n    return {\n        init: debugWrapper(client.init.bind(client), 'init', getClientLogConfig(client), getClientStates(client, ['config'])),\n        add: debugWrapper(client.add.bind(client), 'add', getClientLogConfig(client), getClientStates(client, ['config.apiKey', 'timeline.plugins'])),\n        remove: debugWrapper(client.remove.bind(client), 'remove', getClientLogConfig(client), getClientStates(client, ['config.apiKey', 'timeline.plugins'])),\n        track: debugWrapper(client.track.bind(client), 'track', getClientLogConfig(client), getClientStates(client, ['config.apiKey', 'timeline.queue.length'])),\n        logEvent: debugWrapper(client.logEvent.bind(client), 'logEvent', getClientLogConfig(client), getClientStates(client, ['config.apiKey', 'timeline.queue.length'])),\n        identify: debugWrapper(client.identify.bind(client), 'identify', getClientLogConfig(client), getClientStates(client, ['config.apiKey', 'timeline.queue.length'])),\n        groupIdentify: debugWrapper(client.groupIdentify.bind(client), 'groupIdentify', getClientLogConfig(client), getClientStates(client, ['config.apiKey', 'timeline.queue.length'])),\n        setGroup: debugWrapper(client.setGroup.bind(client), 'setGroup', getClientLogConfig(client), getClientStates(client, ['config.apiKey', 'timeline.queue.length'])),\n        revenue: debugWrapper(client.revenue.bind(client), 'revenue', getClientLogConfig(client), getClientStates(client, ['config.apiKey', 'timeline.queue.length'])),\n        flush: debugWrapper(client.flush.bind(client), 'flush', getClientLogConfig(client), getClientStates(client, ['config.apiKey', 'timeline.queue.length'])),\n        getUserId: debugWrapper(client.getUserId.bind(client), 'getUserId', getClientLogConfig(client), getClientStates(client, ['config', 'config.userId'])),\n        setUserId: debugWrapper(client.setUserId.bind(client), 'setUserId', getClientLogConfig(client), getClientStates(client, ['config', 'config.userId'])),\n        getDeviceId: debugWrapper(client.getDeviceId.bind(client), 'getDeviceId', getClientLogConfig(client), getClientStates(client, ['config', 'config.deviceId'])),\n        setDeviceId: debugWrapper(client.setDeviceId.bind(client), 'setDeviceId', getClientLogConfig(client), getClientStates(client, ['config', 'config.deviceId'])),\n        reset: debugWrapper(client.reset.bind(client), 'reset', getClientLogConfig(client), getClientStates(client, ['config', 'config.userId', 'config.deviceId'])),\n        getSessionId: debugWrapper(client.getSessionId.bind(client), 'getSessionId', getClientLogConfig(client), getClientStates(client, ['config'])),\n        setSessionId: debugWrapper(client.setSessionId.bind(client), 'setSessionId', getClientLogConfig(client), getClientStates(client, ['config'])),\n        extendSession: debugWrapper(client.extendSession.bind(client), 'extendSession', getClientLogConfig(client), getClientStates(client, ['config'])),\n        setOptOut: debugWrapper(client.setOptOut.bind(client), 'setOptOut', getClientLogConfig(client), getClientStates(client, ['config'])),\n        setTransport: debugWrapper(client.setTransport.bind(client), 'setTransport', getClientLogConfig(client), getClientStates(client, ['config'])),\n    };\n};\nexport default createInstance();\n//# sourceMappingURL=browser-client-factory.js.map","/* eslint-disable @typescript-eslint/unbound-method */\nimport client from './browser-client-factory';\nexport { createInstance } from './browser-client-factory';\nexport var add = client.add, extendSession = client.extendSession, flush = client.flush, getDeviceId = client.getDeviceId, getSessionId = client.getSessionId, getUserId = client.getUserId, groupIdentify = client.groupIdentify, identify = client.identify, init = client.init, logEvent = client.logEvent, remove = client.remove, reset = client.reset, revenue = client.revenue, setDeviceId = client.setDeviceId, setGroup = client.setGroup, setOptOut = client.setOptOut, setSessionId = client.setSessionId, setTransport = client.setTransport, setUserId = client.setUserId, track = client.track;\nexport { runQueuedFunctions } from './utils/snippet-helper';\nexport { Revenue, Identify } from '@amplitude/analytics-core';\nimport * as Types_1 from '@amplitude/analytics-types';\nexport { Types_1 as Types };\n//# sourceMappingURL=index.js.map","'use strict';\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar countries = require('../countries.json');\n\nvar MAGIC_NUMBER = 127462 - 65;\nvar CODE_RE = /^[a-z]{2}$/i;\nvar NAME_RE = /^.{2,}$/;\nvar FLAG_RE = /\\uD83C[\\uDDE6-\\uDDFF]/;\n\nfunction fuzzyCompare(input, name) {\n  name = name.toLowerCase(); // Cases like:\n  //    \"Vatican\" <-> \"Holy See (Vatican City State)\"\n  //    \"Russia\"  <-> \"Russian Federation\"\n\n  if (name.includes(input) || input.includes(name)) {\n    return true;\n  } // Cases like:\n  //    \"British Virgin Islands\" <-> \"Virgin Islands, British\"\n  //    \"Republic of Moldova\"    <-> \"Moldova, Republic of\"\n\n\n  if (name.includes(',')) {\n    var reversedName = name.split(', ').reverse().join(' ');\n\n    if (reversedName.includes(input) || input.includes(reversedName)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction isCode(code) {\n  code = code.toUpperCase();\n  return countries[code] ? code : undefined;\n}\n\nfunction nameToCode(name) {\n  if (!name || !NAME_RE.test(name)) {\n    return;\n  }\n\n  name = name.trim().toLowerCase(); // Look for exact match\n  // NOTE: normal loop to terminate ASAP\n\n  for (var _code in countries) {\n    if ({}.hasOwnProperty.call(countries, _code)) {\n      var names = countries[_code];\n\n      if (!Array.isArray(names)) {\n        names = [names];\n      }\n\n      var _iterator = _createForOfIteratorHelper(names),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var n = _step.value;\n\n          if (n.toLowerCase() === name) {\n            return _code;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  } // Look for inexact match\n  // NOTE: .filter() to aggregate all matches\n\n\n  var matches = Object.keys(countries).filter(function (code) {\n    var names = countries[code];\n\n    if (!Array.isArray(names)) {\n      names = [names];\n    }\n\n    var _iterator2 = _createForOfIteratorHelper(names),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var _n = _step2.value;\n\n        if (fuzzyCompare(name, _n)) {\n          return true;\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    return false;\n  }); // Return only when exactly one match was found\n  //   prevents cases like \"United\"\n\n  if (matches.length === 1) {\n    return matches[0];\n  }\n}\n\nfunction codeToName(code) {\n  if (!code || !CODE_RE.test(code)) {\n    return;\n  }\n\n  var names = countries[code.toUpperCase()];\n\n  if (Array.isArray(names)) {\n    return names[0];\n  }\n\n  return names;\n}\n\nfunction codeToFlag(code) {\n  if (!code || !CODE_RE.test(code)) {\n    return;\n  }\n\n  code = isCode(code);\n\n  if (!code) {\n    return;\n  }\n\n  if (String && String.fromCodePoint) {\n    return String.fromCodePoint.apply(String, _toConsumableArray(_toConsumableArray(code).map(function (c) {\n      return MAGIC_NUMBER + c.charCodeAt(0);\n    })));\n  }\n}\n\nfunction flagToCode(flag) {\n  if (!flag || !FLAG_RE.test(flag)) {\n    return;\n  }\n\n  return isCode(_toConsumableArray(flag).map(function (c) {\n    return c.codePointAt(0) - MAGIC_NUMBER;\n  }).map(function (c) {\n    return String.fromCharCode(c);\n  }).join(''));\n} // Takes either emoji or full name\n\n\nfunction code(input) {\n  return flagToCode(input) || nameToCode(input);\n} // Takes either code or full name\n\n\nfunction flag(input) {\n  if (!CODE_RE.test(input) || input === 'UK') {\n    input = nameToCode(input);\n  }\n\n  return codeToFlag(input);\n} // Takes either emoji or code\n\n\nfunction name(input) {\n  if (FLAG_RE.test(input)) {\n    input = flagToCode(input);\n  }\n\n  return codeToName(input);\n}\n\nmodule.exports = {\n  MAGIC_NUMBER: MAGIC_NUMBER,\n  CODE_RE: CODE_RE,\n  NAME_RE: NAME_RE,\n  FLAG_RE: FLAG_RE,\n  code: code,\n  flag: flag,\n  name: name,\n  countries: countries,\n  isCode: isCode,\n  fuzzyCompare: fuzzyCompare,\n  codeToName: codeToName,\n  codeToFlag: codeToFlag,\n  nameToCode: nameToCode,\n  flagToCode: flagToCode\n};","'use strict';\n\nvar _require = require('./lib.js'),\n    flag = _require.flag,\n    name = _require.name,\n    code = _require.code,\n    countries = _require.countries;\n\nmodule.exports = {\n  flag: flag,\n  name: name,\n  code: code,\n  countries: countries\n};","var EN_US = ['second', 'minute', 'hour', 'day', 'week', 'month', 'year'];\nexport default function (diff, idx) {\n    if (idx === 0)\n        return ['just now', 'right now'];\n    var unit = EN_US[Math.floor(idx / 2)];\n    if (diff > 1)\n        unit += 's';\n    return [diff + \" \" + unit + \" ago\", \"in \" + diff + \" \" + unit];\n}\n//# sourceMappingURL=en_US.js.map","var ZH_CN = ['', '', '', '', '', '', ''];\nexport default function (diff, idx) {\n    if (idx === 0)\n        return ['', ''];\n    var unit = ZH_CN[~~(idx / 2)];\n    return [diff + \" \" + unit + \"\\u524D\", diff + \" \" + unit + \"\\u540E\"];\n}\n//# sourceMappingURL=zh_CN.js.map","/**\n * Created by hustcc on 18/5/20.\n * Contract: i@hust.cc\n */\n/**\n * All supported locales\n */\nvar Locales = {};\n/**\n * register a locale\n * @param locale\n * @param func\n */\nexport var register = function (locale, func) {\n    Locales[locale] = func;\n};\n/**\n * get a locale, default is en_US\n * @param locale\n * @returns {*}\n */\nexport var getLocale = function (locale) {\n    return Locales[locale] || Locales['en_US'];\n};\n//# sourceMappingURL=register.js.map","/**\n * Created by hustcc on 18/5/20.\n * Contract: i@hust.cc\n */\nvar SEC_ARRAY = [\n    60,\n    60,\n    24,\n    7,\n    365 / 7 / 12,\n    12,\n];\n/**\n * format Date / string / timestamp to timestamp\n * @param input\n * @returns {*}\n */\nexport function toDate(input) {\n    if (input instanceof Date)\n        return input;\n    // @ts-ignore\n    if (!isNaN(input) || /^\\d+$/.test(input))\n        return new Date(parseInt(input));\n    input = (input || '')\n        // @ts-ignore\n        .trim()\n        .replace(/\\.\\d+/, '') // remove milliseconds\n        .replace(/-/, '/')\n        .replace(/-/, '/')\n        .replace(/(\\d)T(\\d)/, '$1 $2')\n        .replace(/Z/, ' UTC') // 2017-2-5T3:57:52Z -> 2017-2-5 3:57:52UTC\n        .replace(/([+-]\\d\\d):?(\\d\\d)/, ' $1$2'); // -04:00 -> -0400\n    return new Date(input);\n}\n/**\n * format the diff second to *** time ago, with setting locale\n * @param diff\n * @param localeFunc\n * @returns\n */\nexport function formatDiff(diff, localeFunc) {\n    /**\n     * if locale is not exist, use defaultLocale.\n     * if defaultLocale is not exist, use build-in `en`.\n     * be sure of no error when locale is not exist.\n     *\n     * If `time in`, then 1\n     * If `time ago`, then 0\n     */\n    var agoIn = diff < 0 ? 1 : 0;\n    /**\n     * Get absolute value of number (|diff| is non-negative) value of x\n     * |diff| = diff if diff is positive\n     * |diff| = -diff if diff is negative\n     * |0| = 0\n     */\n    diff = Math.abs(diff);\n    /**\n     * Time in seconds\n     */\n    var totalSec = diff;\n    /**\n     * Unit of time\n     */\n    var idx = 0;\n    for (; diff >= SEC_ARRAY[idx] && idx < SEC_ARRAY.length; idx++) {\n        diff /= SEC_ARRAY[idx];\n    }\n    /**\n     * Math.floor() is alternative of ~~\n     *\n     * The differences and bugs:\n     * Math.floor(3.7) -> 4 but ~~3.7 -> 3\n     * Math.floor(1559125440000.6) -> 1559125440000 but ~~1559125440000.6 -> 52311552\n     *\n     * More information about the performance of algebraic:\n     * https://www.youtube.com/watch?v=65-RbBwZQdU\n     */\n    diff = Math.floor(diff);\n    idx *= 2;\n    if (diff > (idx === 0 ? 9 : 1))\n        idx += 1;\n    return localeFunc(diff, idx, totalSec)[agoIn].replace('%s', diff.toString());\n}\n/**\n * calculate the diff second between date to be formatted an now date.\n * @param date\n * @param relativeDate\n * @returns {number}\n */\nexport function diffSec(date, relativeDate) {\n    var relDate = relativeDate ? toDate(relativeDate) : new Date();\n    return (+relDate - +toDate(date)) / 1000;\n}\n/**\n * nextInterval: calculate the next interval time.\n * - diff: the diff sec between now and date to be formatted.\n *\n * What's the meaning?\n * diff = 61 then return 59\n * diff = 3601 (an hour + 1 second), then return 3599\n * make the interval with high performance.\n **/\nexport function nextInterval(diff) {\n    var rst = 1, i = 0, d = Math.abs(diff);\n    for (; diff >= SEC_ARRAY[i] && i < SEC_ARRAY.length; i++) {\n        diff /= SEC_ARRAY[i];\n        rst *= SEC_ARRAY[i];\n    }\n    d = d % rst;\n    d = d ? rst - d : rst;\n    return Math.ceil(d);\n}\n//# sourceMappingURL=date.js.map","import { formatDiff, diffSec } from './utils/date';\nimport { getLocale } from './register';\n/**\n * format a TDate into string\n * @param date\n * @param locale\n * @param opts\n */\nexport var format = function (date, locale, opts) {\n    // diff seconds\n    var sec = diffSec(date, opts && opts.relativeDate);\n    // format it with locale\n    return formatDiff(sec, getLocale(locale));\n};\n//# sourceMappingURL=format.js.map","/**\n * Created by hustcc on 18/5/20.\n * Contract: i@hust.cc\n */\nimport en_US from './lang/en_US';\nimport zh_CN from './lang/zh_CN';\nimport { register } from './register';\nregister('en_US', en_US);\nregister('zh_CN', zh_CN);\nexport { format } from './format';\nexport { render, cancel } from './realtime';\nexport { register };\n//# sourceMappingURL=index.js.map","/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(func, thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n    return func.apply(thisArg, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySplice = unapply(Array.prototype.splice);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    if (thisArg instanceof RegExp) {\n      thisArg.lastIndex = 0;\n    }\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(Func) {\n  return function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return construct(Func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'search', 'section', 'select', 'shadow', 'slot', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'enterkeyhint', 'exportparts', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'inputmode', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'part', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'exportparts', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inert', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'part', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'slot', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'mask-type', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.3.0';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Config object to store ADD_TAGS/ADD_ATTR functions (when used as functions) */\n  const EXTRA_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    }\n  }));\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : clone({});\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : clone({});\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (typeof cfg.ADD_TAGS === 'function') {\n        EXTRA_ELEMENT_HANDLING.tagCheck = cfg.ADD_TAGS;\n      } else {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n    }\n    if (cfg.ADD_ATTR) {\n      if (typeof cfg.ADD_ATTR === 'function') {\n        EXTRA_ELEMENT_HANDLING.attributeCheck = cfg.ADD_ATTR;\n      } else {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (SAFE_FOR_XML && currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w!]/g, currentNode.innerHTML) && regExpTest(/<[/\\w!]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!(EXTRA_ELEMENT_HANDLING.tagCheck instanceof Function && EXTRA_ELEMENT_HANDLING.tagCheck(tagName)) && (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName])) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (EXTRA_ELEMENT_HANDLING.attributeCheck instanceof Function && EXTRA_ELEMENT_HANDLING.attributeCheck(lcName, lcTag)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName, lcTag)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      const initValue = attrValue;\n      let value = name === 'value' ? initValue : stringTrim(initValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title|textarea)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Make sure we cannot easily use animated hrefs, even if animations are allowed */\n      if (lcName === 'attributename' && stringMatch(value, 'href')) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      if (value !== initValue) {\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {\n          _removeAttribute(name, currentNode);\n        }\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n      return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n"],"names":["extendStatics","d","b","p","__extends","__","__assign","t","s","__rest","i","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","reject","fulfilled","step","e","rejected","result","__generator","body","_","f","y","g","verb","n","v","op","__values","o","m","__read","r","ar","error","__spreadArray","to","from","pack","l","htmlDecodeTree","c","xmlDecodeTree","_a","decodeMap","fromCodePoint","codePoint","output","replaceCodePoint","CharCodes","TO_LOWER_BIT","BinTrieFlags","isNumber","code","isHexadecimalCharacter","isAsciiAlphaNumeric","isEntityInAttributeInvalidEnd","EntityDecoderState","DecodingMode","EntityDecoder","decodeTree","emitCodePoint","errors","decodeMode","str","offset","start","end","base","digitCount","startIdx","char","lastCp","expectedLength","current","valueLength","determineBranch","consumed","getDecoder","ret","decoder","lastIndex","len","nodeIdx","branchCount","jumpOffset","lo","hi","mid","midVal","State","isWhitespace","isEndOfTagSection","isASCIIAlpha","isHexDigit","QuoteType","Sequences","Tokenizer","xmlMode","decodeEntities","cbs","chunk","isEnd","endOfText","actualIndex","sequence","lower","quote","masked","entityStart","strict","endIndex","cp","formTags","pTag","tableSectionTags","ddtTags","rtpTags","openImpliesClose","voidElements","foreignContextElements","htmlIntegrationElements","reNameEnd","Parser","options","_b","_c","_d","_e","data","index","name","impliesClose","element","isImplied","_f","pos","count","isOpenImplied","_g","_h","_j","_k","slice","ElementType","isTag","elem","Node","parent","prev","next","recursive","cloneNode","DataNode","Text","Comment","ProcessingInstruction","NodeWithChildren","children","CDATA","Document","Element","attribs","type","node","isTagRaw","isCDATA","isText","isComment","isDirective","isDocument","hasChildren","cloneChildren","clone","child","instruction","childs","defaultOpts","DomHandler","callback","elementCB","parser","lastNode","text","previousSibling","textContent","filter","test","recurse","limit","find","nodes","nodeStack","indexStack","Checks","getElementsByTagName","tagName","getFeed","doc","feedRoot","getOneElement","isValidFeed","getAtomFeed","getRssFeed","feed","item","entry","getMediaElements","addConditionally","href","description","fetch","pubDate","updated","MEDIA_KEYS_STRING","MEDIA_KEYS_INT","where","media","attrib","obj","prop","val","parseDocument","handler","parseDOM","parseFeedDefaultOptions","parseFeed","IdentifyOperation","RevenueProperty","SpecialEventType","LogLevel","PluginType","ServerZone","Status","TransportType","UNSET_VALUE","AMPLITUDE_PREFIX","STORAGE_PREFIX","AMPLITUDE_SERVER_URL","EU_AMPLITUDE_SERVER_URL","AMPLITUDE_BATCH_SERVER_URL","EU_AMPLITUDE_BATCH_SERVER_URL","MAX_PROPERTY_KEYS","isValidObject","properties","key","isValidProperties","property","e_1","isValid","value_1","value_1_1","valueElement","e_1_1","Identify","operation","userPropertyMap","createTrackEvent","eventInput","eventProperties","eventOptions","baseEvent","createIdentifyEvent","identify","identifyEvent","createGroupIdentifyEvent","groupType","groupName","groupIdentify","createGroupEvent","groupEvent","createRevenueEvent","revenue","buildResult","event","message","Timeline","client","plugin","config","pluginName","plugins","_this","timeout","before","before_1","before_1_1","enrichment","enrichment_1","enrichment_1_1","e_2_1","destination","executeDestinations","e_2","eventClone","queue","SUCCESS_MESSAGE","UNEXPECTED_ERROR_MESSAGE","MAX_RETRIES_EXCEEDED_MESSAGE","OPT_OUT_MESSAGE","MISSING_API_KEY_MESSAGE","INVALID_API_KEY","CLIENT_NOT_INITIALIZED","returnWrapper","awaitable","AmplitudeCore","queueName","queuedFunctions","queuedFunctions_1","queuedFunctions_1_1","queuedFunction","optOut","Revenue","productId","quantity","price","revenueType","currency","arr","size","chunkSize","chunks","chunkIndex","PREFIX","Logger","logLevel","args","_i","getDefaultConfig","Config","defaultConfig","serverConfig","createServerConfig","getServerUrl","serverZone","useBatch","serverUrl","_serverZone","getErrorMessage","getResponseBodyString","res","responseBodyString","Destination","unsent","context","list","tryable","useRetry","later","batches","batch","payload","errorMessage","eventWithoutExtra","status","dropIndex","dropIndexSet","retry","dropUserIds","dropDeviceIds","throttledIndex","dropUserIdsSet","dropDeviceIdsSet","throttledIndexSet","events","getStacktrace","ignoreDepth","trace","getClientLogConfig","logger","getValueByStringPath","path","attr","getClientStates","paths","paths_1","paths_1_1","debugWrapper","fn","fnName","getLogConfig","getStates","fnContext","debugContext","UUID","a","MemoryStorage","BaseTransport","_serverUrl","_payload","responseJSON","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","statusCode","ApplicationContextProviderImpl","getLanguage","EventBridgeImpl","receiver","isEqual","obj1","obj2","primitive","typeA","typeB","primitive_1","primitive_1_1","isArrayA","isArrayB","sorted1","sorted2","result_1","ID_OP_SET","ID_OP_UNSET","ID_OP_CLEAR_ALL","ownProps","resArray","IdentityStoreImpl","self","actingUserProperties","actingIdentity","userId","deviceId","userProperties","actions","e_3","actingProperties","action","e_3_1","identity","originalIdentity","listener","safeGlobal","AnalyticsConnector","instanceName","getAnalyticsConnector","setConnectorUserId","setConnectorDeviceId","setConnectorOptOut","getGlobalScope","getQueryParams","globalScope","pairs","params","acc","curr","query","tryDecodeURIComponent","UTM_CAMPAIGN","UTM_CONTENT","UTM_ID","UTM_MEDIUM","UTM_SOURCE","UTM_TERM","DCLID","FBCLID","GBRAID","GCLID","KO_CLICK_ID","LI_FAT_ID","MSCLKID","RDT_CID","TTCLID","TWCLID","WBRAID","BASE_CAMPAIGN","CampaignParser","utmCampaign","utmContent","utmId","utmMedium","utmSource","utmTerm","getCookieName","apiKey","postKey","getOldCookieName","isFileDownloadTrackingEnabled","defaultTracking","isFormInteractionTrackingEnabled","isPageViewTrackingEnabled","isSessionTrackingEnabled","getPageViewTrackingConfig","trackOn","trackHistoryChanges","eventType","isDefaultPageViewTrackingEnabled","userLanguage","IdentityEventSender","CookieStorage","testStrorage","testKey","cookie","match","expirationDays","expires","expireDate","date","FetchTransport","_super","response","responseText","omitUndefined","input","pageViewTrackingPlugin","amplitude","loggerProvider","pushState","clientOrOptions","configOrUndefined","createPageViewEvent","getCampaignParams","shouldTrackOnPageLoad","previousURL","trackHistoryPageView","newURL","shouldTrackPageView","shouldTrackHistoryPageView","trackHistoryPageViewWrapper","receivedType","target","state","unused","url","pageViewEvent","isCampaignEvent","$set","$unset","userProperties_1","trackingOption","oldURL","getStorageKey","domainWithoutSubdomain","domain","parts","isNewCampaign","previous","referring_domain","currentCampaign","prevReferringDomain","previousCampaign","hasNewCampaign","hasNewDomain","createCampaignEvent","campaign","campaignParameters","webAttributionPlugin","excludeReferrers","storage","storageKey","pluginEnabledOverride","campaignEvent","MAX_ARRAY_LENGTH","LocalStorage","random","testStorage","isExceededArraySize","serializedValue","droppedEventsCount","XHRTransport","xhr","SendBeaconTransport","success","VERSION","cookieStorage","trackingOptions","BrowserConfig","sessionId","lastEventTime","lastEventId","cache","useBrowserConfig","createEventsStorage","createTransport","createCookieStorage","overrides","baseConfig","createFlexibleStorage","hasStorageProviderProperty","transport","getTopLevelDomain","host","levels","DEFAULT_EVENT_PREFIX","DEFAULT_PAGE_VIEW_EVENT","DEFAULT_FORM_START_EVENT","DEFAULT_FORM_SUBMIT_EVENT","DEFAULT_FILE_DOWNLOAD_EVENT","DEFAULT_SESSION_START_EVENT","DEFAULT_SESSION_END_EVENT","FILE_EXTENSION","FILE_NAME","LINK_ID","LINK_TEXT","LINK_URL","FORM_ID","FORM_NAME","FORM_DESTINATION","parseLegacyCookies","oldCookieName","cookies","decode","parseTime","num","integer","window","undefined","LIBVERSION","EMPTY","UNKNOWN","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","UA_MAX_LENGTH","AMAZON","APPLE","ASUS","BLACKBERRY","BROWSER","CHROME","EDGE","FIREFOX","GOOGLE","HUAWEI","LG","MICROSOFT","MOTOROLA","OPERA","SAMSUNG","SHARP","SONY","XIAOMI","ZEBRA","FACEBOOK","extend","regexes","extensions","mergedRegexes","enumerize","enums","has","str1","str2","lowerize","majorize","version","trim","rgxMapper","ua","arrays","j","k","q","matches","regex","props","strMapper","map","oldSafariMap","windowsVersionMap","UAParser","_ua","_rgxmap","_browser","_cpu","_device","_engine","_os","module","exports","$","this","BROWSER_PLATFORM","IP_ADDRESS","Context","time","osName","osVersion","deviceModel","deviceVendor","nextEventId","eventPropertyMap","defaultPageViewEventEnrichment","setup","execute","transformedPropertyName","fileDownloadTracking","observer","eventListeners","addEventListener","removeClickListeners","addFileDownloadListener","ext","links","fileExtension","mutations","mutation","teardown","formInteractionTracking","extractFormAction","form","formDestination","addFormInteractionListener","forms","hasFormChanged","convertProxyObjectToRealObject","instance","name_1","isInstanceProxy","instanceProxy","AmplitudeBrowser","_y","_z","legacyCookies","previousCookies","queryParams","browserOptions","isNewSession","connector","webAttribution","pageViewTrackingOptions","_0","previousSessionId","currentTime","timeSinceLastEvent","createInstance","init","track","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","iter","_arrayLikeToArray","_createForOfIteratorHelper","allowArrayLike","it","F","normalCompletion","didErr","err","_e2","minLen","arr2","countries","require$$0","MAGIC_NUMBER","CODE_RE","NAME_RE","FLAG_RE","fuzzyCompare","reversedName","isCode","nameToCode","_code","names","_iterator","_step","_iterator2","_step2","_n","codeToName","codeToFlag","flagToCode","flag","lib","_require","main","EN_US","en_US","diff","idx","unit","ZH_CN","zh_CN","Locales","register","locale","func","getLocale","SEC_ARRAY","toDate","formatDiff","localeFunc","agoIn","totalSec","diffSec","relativeDate","relDate","format","opts","sec","entries","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","create","apply","construct","x","_len","_key","Func","_len2","_key2","arrayForEach","unapply","arrayLastIndexOf","arrayPop","arrayPush","arraySplice","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","objectHasOwnProperty","regExpTest","typeErrorCreate","unconstruct","_len3","_key3","_len4","_key4","addToSet","set","array","transformCaseFunc","lcElement","cleanArray","object","newObject","lookupGetter","desc","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","html","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","EXPRESSIONS","NODE_TYPE","getGlobal","_createTrustedTypesPolicy","trustedTypes","purifyHostElement","suffix","ATTR_NAME","policyName","scriptUrl","_createHooksMap","createDOMPurify","DOMPurify","root","document","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","NodeFilter","NamedNodeMap","HTMLFormElement","DOMParser","ElementPrototype","remove","getNextSibling","getChildNodes","getParentNode","template","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","importNode","hooks","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","FORBID_TAGS","FORBID_ATTR","EXTRA_ELEMENT_HANDLING","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parentTagName","_forceRemove","_removeAttribute","_initDocument","dirty","leadingWhitespace","dirtyPayload","_createNodeIterator","_isClobbered","_isNode","_executeHooks","currentNode","hook","_sanitizeElements","content","_isBasicCustomElement","parentNode","childNodes","childCount","childClone","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attributes","hookEvent","namespaceURI","attrValue","initValue","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","importedNode","returnNode","nodeIterator","serializedHTML","tag","entryPoint","hookFunction","purify"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79]}